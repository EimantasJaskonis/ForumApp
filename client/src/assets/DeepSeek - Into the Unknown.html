<!DOCTYPE html>
<!-- saved from url=(0071)https://chat.deepseek.com/a/chat/s/31ca09b2-419b-4817-b139-20dcd89cda6f -->
<html lang="en" class="notranslate" translate="no"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style><title>DeepSeek - Into the Unknown</title><meta name="viewport" content="initial-scale=1.0,maximum-scale=1,width=device-width,viewport-fit=cover"><meta name="commit-id" content="262b8e86"><meta name="description" content="Chat with DeepSeek AI – your intelligent assistant for coding, content creation, file reading, and more. Upload documents, engage in long-context conversations, and get expert help in AI, natural language processing, and beyond. | 深度求索（DeepSeek）助力编程代码开发、创意写作、文件处理等任务，支持文件上传及长文本对话，随时为您提供高效的AI支持。"><meta name="keywords" content="DeepSeek,DeepSeek AI,DeepSeek Chat,AI assistant,coding assistant,long-context LLM,Open Source LLM,natural language processing,AI chatbot,AI long text,AI content creation,large language model,深度求索,大语言模型,自然语言处理,AI聊天机器人,代码开发,创意写作,AI助手,长文本对话,文件处理AI,大模型公司,人工智能,AI开发助手"><meta property="og:url" content="https://chat.deepseek.com"><meta property="og:type" content="website"><meta property="og:title" content="DeepSeek"><meta property="og:description" content="Chat with DeepSeek AI."><meta property="og:image" content="https://chat.deepseek.com/deepseek-chat.jpeg"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:domain" content="deepseek.com"><meta property="twitter:url" content="https://chat.deepseek.com"><meta name="twitter:title" content="DeepSeek"><meta name="twitter:description" content="Chat with DeepSeek AI."><meta name="twitter:image" content="https://chat.deepseek.com/deepseek-chat.jpeg"><meta name="google" content="notranslate"><meta name="ip" content="88.119.61.149"><meta name="region" content="LT"><link rel="apple-touch-icon" href="https://cdn.deepseek.com/chat/icon.png"><style type="text/css">@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:400;src:url(/cf-fonts/v/roboto-mono/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto Mono;font-style:normal;font-weight:500;src:url(/cf-fonts/v/roboto-mono/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style><link rel="icon" type="image/x-icon" href="https://chat.deepseek.com/favicon.svg"><script type="text/javascript" async="" id="_intercom_npm_loader" src="./DeepSeek - Into the Unknown_files/guh50jw4"></script><script>!function(n,t){if(n.LogAnalyticsObject=t,!n[t]){var c=function(){c.q.push(arguments)};c.q=c.q||[],n[t]=c}n[t].l=+new Date}(window,"collectEvent")</script><script async="" src="./DeepSeek - Into the Unknown_files/collect-rangers-v5.2.1.js.atsisiųsti"></script><script defer="" src="./DeepSeek - Into the Unknown_files/default-vendors.00ec7e2a13.js.atsisiųsti"></script><script defer="" src="./DeepSeek - Into the Unknown_files/main.8aad569b97.js.atsisiųsti"></script><link href="./DeepSeek - Into the Unknown_files/main.7526829b58.css" rel="stylesheet"><style>
body.change-theme * {
  transition: none !important;
}

body.change-theme *::before {
  transition: none !important;
}

body.change-theme *::after {
  transition: none !important;
}
</style><link data-webpack="@deepseek/chat:chunk-945" rel="stylesheet" href="./DeepSeek - Into the Unknown_files/katex.3ea1e62ca7.css"></head><body class="en_US dark" data-ds-dark-theme="dark" style="--app-height: 842px;"><div id="root"><div class="ds-theme" style="--ds-rgb-hover: 255 255 255 / 8%; font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m);"><div class="cb86951c"><div class="cddfb2ed"></div><div class="c3ecdb44"><div class="dc04ec1d"><div class="b8812f16 a2f3d50e"><div class="_6969ec9"><div class="a5967822"></div><div class="e066abb8"><svg viewBox="-2 0 175 32" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path id="path" d="M75.32 25.23L72.83 25.23L72.83 21.37L75.32 21.37C76.86 21.37 78.42 20.99 79.43 19.92C80.44 18.85 80.81 17.2 80.81 15.57C80.81 13.94 80.44 12.3 79.43 11.23C78.42 10.16 76.86 9.78 75.32 9.78C73.77 9.78 72.22 10.16 71.21 11.23C70.19 12.3 69.83 13.94 69.83 15.57L69.83 31.44L65.46 31.44L65.46 5.92L69.83 5.92L69.83 7.54L70.63 7.54C70.71 7.45 70.8 7.36 70.9 7.27C71.99 6.27 73.66 5.92 75.32 5.92C77.89 5.92 80.48 6.56 82.17 8.34C83.85 10.12 84.46 12.86 84.46 15.58C84.46 18.29 83.85 21.03 82.17 22.81C80.48 24.6 77.89 25.23 75.32 25.23Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M8.79 6.59L11.28 6.59L11.28 10.45L8.79 10.45C7.25 10.45 5.69 10.83 4.68 11.91C3.67 12.98 3.3 14.62 3.3 16.25C3.3 17.88 3.67 19.52 4.68 20.59C5.69 21.66 7.25 22.05 8.79 22.05C10.34 22.05 11.89 21.66 12.9 20.59C13.92 19.52 14.28 17.88 14.28 16.25L14.28 0.39L18.65 0.39L18.65 25.91L14.28 25.91L14.28 24.28L13.48 24.28C13.4 24.38 13.31 24.47 13.21 24.55C12.12 25.55 10.45 25.91 8.79 25.91C6.22 25.91 3.63 25.27 1.94 23.48C0.26 21.7 -0.35 18.97 -0.35 16.25C-0.35 13.53 0.26 10.8 1.94 9.01C3.63 7.23 6.22 6.59 8.79 6.59Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M40.59 15.91L40.59 17.46L28.95 17.46L28.95 14.36L36.67 14.36C36.49 13.23 36.08 12.18 35.36 11.42C34.3 10.31 32.69 9.91 31.08 9.91C29.48 9.91 27.86 10.31 26.81 11.42C25.76 12.52 25.38 14.22 25.38 15.91C25.38 17.6 25.76 19.3 26.81 20.41C27.86 21.52 29.48 21.91 31.08 21.91C32.69 21.91 34.3 21.52 35.36 20.41C35.5 20.25 35.64 20.08 35.76 19.9L40.08 19.9C39.71 21.24 39.1 22.45 38.2 23.4C36.44 25.25 33.75 25.91 31.08 25.91C28.41 25.91 25.72 25.25 23.97 23.4C22.21 21.55 21.58 18.72 21.58 15.91C21.58 13.1 22.21 10.27 23.97 8.42C25.72 6.58 28.41 5.92 31.08 5.92C33.75 5.92 36.44 6.58 38.2 8.42C39.96 10.27 40.59 13.1 40.59 15.91Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M62.52 15.91L62.52 17.46L50.88 17.46L50.88 14.36L58.61 14.36C58.43 13.23 58.02 12.18 57.29 11.42C56.24 10.31 54.63 9.91 53.02 9.91C51.42 9.91 49.8 10.31 48.75 11.42C47.7 12.52 47.32 14.22 47.32 15.91C47.32 17.6 47.7 19.3 48.75 20.41C49.8 21.52 51.42 21.91 53.02 21.91C54.63 21.91 56.24 21.52 57.29 20.41C57.44 20.25 57.58 20.08 57.7 19.9L62.02 19.9C61.64 21.24 61.04 22.45 60.14 23.4C58.38 25.25 55.69 25.91 53.02 25.91C50.35 25.91 47.66 25.25 45.9 23.4C44.15 21.55 43.52 18.72 43.52 15.91C43.52 13.1 44.15 10.27 45.9 8.42C47.66 6.58 50.35 5.92 53.02 5.92C55.69 5.92 58.38 6.58 60.14 8.42C61.89 10.27 62.52 13.1 62.52 15.91Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M96.9 25.91C99.57 25.91 102.26 25.52 104.01 24.43C105.77 23.34 106.4 21.67 106.4 20.01C106.4 18.35 105.77 16.68 104.01 15.59C102.26 14.5 99.57 14.11 96.9 14.11L96.99 14.11C95.85 14.11 94.7 13.96 93.96 13.53C93.21 13.11 92.94 12.46 92.94 11.82C92.94 11.17 93.21 10.53 93.96 10.1C94.7 9.68 95.85 9.53 96.99 9.53C98.13 9.53 99.28 9.68 100.03 10.1C100.78 10.53 101.04 11.17 101.04 11.82L105.49 11.82C105.49 10.16 104.92 8.49 103.34 7.4C101.75 6.31 99.32 5.92 96.9 5.92C94.48 5.92 92.05 6.31 90.46 7.4C88.87 8.49 88.3 10.16 88.3 11.82C88.3 13.48 88.87 15.15 90.46 16.24C92.05 17.33 94.48 17.72 96.9 17.72C98.16 17.72 99.53 17.87 100.36 18.29C101.19 18.71 101.48 19.36 101.48 20.01C101.48 20.65 101.19 21.3 100.36 21.72C99.53 22.14 98.26 22.3 97 22.3C95.74 22.3 94.47 22.14 93.65 21.72C92.82 21.3 92.52 20.65 92.52 20.01L87.4 20.01C87.4 21.67 88.03 23.34 89.78 24.43C91.54 25.52 94.22 25.91 96.9 25.91Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M128.33 15.91L128.33 17.46L116.69 17.46L116.69 14.36L124.42 14.36C124.24 13.23 123.83 12.18 123.1 11.42C122.05 10.31 120.44 9.91 118.83 9.91C117.23 9.91 115.61 10.31 114.56 11.42C113.51 12.52 113.13 14.22 113.13 15.91C113.13 17.6 113.51 19.3 114.56 20.41C115.61 21.52 117.23 21.91 118.83 21.91C120.44 21.91 122.05 21.52 123.1 20.41C123.25 20.25 123.39 20.08 123.51 19.9L127.83 19.9C127.45 21.24 126.85 22.45 125.95 23.4C124.19 25.25 121.5 25.91 118.83 25.91C116.16 25.91 113.47 25.25 111.71 23.4C109.96 21.55 109.33 18.72 109.33 15.91C109.33 13.1 109.96 10.27 111.71 8.42C113.47 6.58 116.16 5.92 118.83 5.92C121.5 5.92 124.19 6.58 125.95 8.42C127.7 10.27 128.33 13.1 128.33 15.91Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M150.27 15.91L150.27 17.46L138.63 17.46L138.63 14.36L146.36 14.36C146.17 13.23 145.77 12.18 145.04 11.42C143.99 10.31 142.37 9.91 140.77 9.91C139.17 9.91 137.55 10.31 136.5 11.42C135.44 12.52 135.07 14.22 135.07 15.91C135.07 17.6 135.44 19.3 136.5 20.41C137.55 21.52 139.17 21.91 140.77 21.91C142.37 21.91 143.99 21.52 145.04 20.41C145.19 20.25 145.32 20.08 145.45 19.9L149.77 19.9C149.39 21.24 148.79 22.45 147.88 23.4C146.13 25.25 143.44 25.91 140.77 25.91C138.1 25.91 135.4 25.25 133.65 23.4C131.9 21.55 131.27 18.72 131.27 15.91C131.27 13.1 131.9 10.27 133.65 8.42C135.4 6.58 138.1 5.92 140.77 5.92C143.44 5.92 146.13 6.58 147.88 8.42C149.64 10.27 150.27 13.1 150.27 15.91Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><rect id="rect" x="153.211426" y="-0.499512" width="4.371000" height="26.415646" fill="currentColor" fill-opacity="1.000000"></rect><path id="polygon" d="M165.04 15.31L172.21 25.91L166.79 25.91L159.62 15.31L166.79 6.81L172.21 6.81L165.04 15.31Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path></svg></div><div class="ds-icon-button _7d1f5e2" tabindex="0" style="--ds-icon-button-text-color: #ABB2BD; --ds-icon-button-size: 28px;"><svg viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><clippath id="clip1382_20239"><rect id="折叠边栏0730" width="30.000000" height="30.000000" fill="white" fill-opacity="0"></rect></clippath></defs><rect id="折叠边栏0730" width="30.000000" height="30.000000" fill="#FFFFFF" fill-opacity="0"></rect><g clip-path="url(#clip1382_20239)"><rect id="rect" x="17.420410" y="12.316406" rx="1.000947" width="5.995172" height="2.001895" transform="rotate(137.159 17.420410 12.316406)" fill="currentColor" fill-opacity="1.000000"></rect><rect id="rect" x="12.959473" y="13.728516" rx="0.995190" width="6.002943" height="1.990380" transform="rotate(40.853 12.959473 13.728516)" fill="currentColor" fill-opacity="1.000000"></rect><path id="path" d="M20.1 25.5L9.9 25.51C9.48 25.51 9.06 25.47 8.65 25.39C8.24 25.3 7.84 25.18 7.45 25.02C7.06 24.86 6.69 24.66 6.34 24.43C5.99 24.19 5.67 23.92 5.37 23.63C5.07 23.33 4.81 23 4.58 22.65C4.34 22.3 4.15 21.93 3.98 21.54C3.82 21.15 3.7 20.75 3.62 20.34C3.54 19.93 3.5 19.51 3.5 19.09L3.5 10.93C3.5 10.51 3.54 10.1 3.62 9.68C3.7 9.27 3.82 8.87 3.98 8.48C4.15 8.09 4.34 7.72 4.58 7.37C4.81 7.02 5.07 6.69 5.37 6.39C5.67 6.1 5.99 5.83 6.34 5.6C6.69 5.36 7.06 5.16 7.45 5C7.84 4.84 8.24 4.72 8.65 4.64C9.06 4.55 9.48 4.51 9.9 4.51L20.1 4.5C20.52 4.5 20.94 4.54 21.35 4.62C21.76 4.7 22.16 4.83 22.55 4.99C22.94 5.15 23.31 5.35 23.66 5.58C24 5.82 24.33 6.08 24.62 6.38C24.92 6.68 25.19 7 25.42 7.35C25.65 7.7 25.85 8.07 26.01 8.46C26.17 8.85 26.3 9.25 26.38 9.67C26.46 10.08 26.5 10.5 26.5 10.92L26.5 19.07C26.5 19.5 26.46 19.91 26.38 20.32C26.3 20.74 26.17 21.14 26.01 21.53C25.85 21.92 25.65 22.29 25.42 22.64C25.19 22.99 24.92 23.31 24.62 23.61C24.33 23.91 24 24.17 23.66 24.41C23.31 24.64 22.94 24.84 22.55 25C22.16 25.16 21.76 25.29 21.35 25.37C20.94 25.45 20.52 25.5 20.1 25.5ZM9.9 6.6C9.61 6.6 9.33 6.63 9.05 6.69C8.78 6.74 8.51 6.82 8.24 6.93C7.98 7.04 7.73 7.18 7.5 7.33C7.26 7.49 7.04 7.67 6.84 7.87C6.64 8.07 6.46 8.29 6.31 8.53C6.15 8.77 6.02 9.01 5.91 9.28C5.8 9.54 5.72 9.81 5.66 10.09C5.61 10.37 5.58 10.65 5.58 10.93L5.58 19.09C5.58 19.37 5.61 19.65 5.66 19.93C5.72 20.21 5.8 20.48 5.91 20.74C6.02 21.01 6.15 21.26 6.31 21.49C6.46 21.73 6.64 21.95 6.84 22.15C7.04 22.35 7.26 22.53 7.5 22.69C7.73 22.85 7.98 22.98 8.24 23.09C8.51 23.2 8.78 23.28 9.05 23.33C9.33 23.39 9.61 23.42 9.9 23.42L20.1 23.41C20.38 23.41 20.67 23.37 20.94 23.32C21.22 23.26 21.49 23.18 21.75 23.07C22.01 22.96 22.26 22.83 22.5 22.67C22.73 22.51 22.95 22.33 23.15 22.13C23.35 21.93 23.53 21.71 23.69 21.48C23.85 21.24 23.98 20.99 24.09 20.73C24.2 20.47 24.28 20.2 24.33 19.92C24.39 19.64 24.42 19.36 24.42 19.07L24.42 10.92C24.42 10.64 24.39 10.35 24.33 10.07C24.28 9.79 24.2 9.52 24.09 9.26C23.98 9 23.85 8.75 23.69 8.51C23.53 8.28 23.35 8.06 23.15 7.86C22.95 7.66 22.73 7.48 22.5 7.32C22.26 7.16 22.01 7.03 21.75 6.92C21.49 6.81 21.22 6.73 20.94 6.67C20.67 6.62 20.38 6.59 20.1 6.59L9.9 6.6Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="rect" d="M8.5 5.51L10.54 5.51L10.6 24.43L8.55 24.43L8.5 5.51Z" fill="currentColor" fill-opacity="1.000000" fill-rule="evenodd"></path></g></svg></div><div class="ds-icon _8a9564e" style="font-size: 24px; width: 24px; height: 24px;"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.27777 24.2888L23.7222 24.2888C24.4279 24.2888 25 23.7167 25 23.0111C25 22.3054 24.4279 21.7333 23.7222 21.7333L4.27777 21.7333C3.57208 21.7333 3 22.3054 3 23.0111C3 23.7167 3.57208 24.2888 4.27777 24.2888Z" fill="currentColor"></path><path d="M13.2407 15.4001L23.7222 15.4001C24.4279 15.4001 25 14.8281 25 14.1224C25 13.4167 24.4279 12.8446 23.7222 12.8446L13.2407 12.8446C12.535 12.8446 11.963 13.4167 11.963 14.1224C11.963 14.8281 12.535 15.4001 13.2407 15.4001Z" fill="currentColor"></path><path d="M4.27777 6.55542L23.7222 6.55542C24.4279 6.55542 25 5.98334 25 5.27765C25 4.57197 24.4279 3.99989 23.7222 3.99989L4.27777 3.99989C3.57208 3.99989 3 4.57197 3 5.27765C3 5.98334 3.57208 6.55542 4.27777 6.55542Z" fill="currentColor"></path></svg></div></div><div class="ebaea5d2"><div class="_5a8ac7a"><div class="c7dddcde"><div class="_1c42ad7"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.10999 27C8.92999 27 8.76001 26.96 8.60001 26.9C8.43001 26.83 8.29 26.74 8.16 26.61C8.03 26.49 7.94 26.3499 7.87 26.1899C7.79999 26.0299 7.76001 25.8599 7.76001 25.6899L7.73001 23.04C7.34001 22.98 6.95001 22.8799 6.57001 22.7599C6.19001 22.6299 5.83001 22.48 5.48001 22.29C5.13001 22.1 4.79999 21.88 4.48999 21.63C4.17999 21.39 3.89 21.1199 3.63 20.82C3.37 20.52 3.13999 20.21 2.92999 19.87C2.72999 19.53 2.56001 19.18 2.42001 18.82C2.28001 18.45 2.17001 18.07 2.10001 17.69C2.03001 17.3 2 16.92 2 16.53V9.46995C2 9.03995 2.04 8.61995 2.12 8.19995C2.21 7.77995 2.34 7.36995 2.5 6.96995C2.67 6.57995 2.88 6.19995 3.12 5.84995C3.36 5.48995 3.64001 5.15995 3.95001 4.85995C4.26001 4.55995 4.59999 4.28995 4.95999 4.04995C5.32999 3.80995 5.70999 3.60995 6.10999 3.44995C6.51999 3.27995 6.94 3.15995 7.37 3.07995C7.79999 2.98995 8.23001 2.94995 8.67001 2.94995H13.3C13.46 2.94995 13.61 2.97995 13.76 3.03995C13.9 3.09995 14.03 3.17995 14.14 3.28995C14.25 3.39995 14.33 3.51995 14.39 3.65995C14.45 3.79995 14.48 3.94995 14.48 4.09995C14.48 4.25995 14.45 4.39995 14.39 4.54995C14.33 4.68995 14.25 4.80995 14.14 4.91995C14.03 5.02995 13.9 5.10995 13.76 5.16995C13.61 5.22995 13.46 5.25995 13.3 5.25995H8.67001C8.38001 5.25995 8.09999 5.27995 7.82999 5.33995C7.54999 5.38995 7.27999 5.46995 7.01999 5.57995C6.75999 5.67995 6.50999 5.80995 6.26999 5.96995C6.03999 6.11995 5.82 6.29995 5.62 6.48995C5.42 6.68995 5.23999 6.89995 5.07999 7.12995C4.92999 7.35995 4.78999 7.59995 4.67999 7.85995C4.57999 8.10995 4.49 8.37995 4.44 8.64995C4.38 8.91995 4.35999 9.18995 4.35999 9.46995V16.53C4.35999 16.81 4.38 17.08 4.44 17.36C4.5 17.63 4.58 17.9 4.69 18.16C4.8 18.42 4.93 18.67 5.09 18.9C5.25 19.13 5.43001 19.3499 5.64001 19.5499C5.84001 19.75 6.05999 19.92 6.29999 20.08C6.53999 20.24 6.79 20.37 7.06 20.47C7.32 20.58 7.6 20.66 7.88 20.72C8.16001 20.77 8.44001 20.7999 8.73001 20.7999C8.91001 20.7999 9.08 20.83 9.25 20.9C9.41 20.97 9.55999 21.0599 9.67999 21.18C9.80999 21.3099 9.91001 21.45 9.98001 21.61C10.05 21.77 10.08 21.94 10.09 22.11L10.1 23.74L13.08 21.61C13.84 21.07 14.69 20.7999 15.63 20.7999H19.32C19.61 20.7999 19.89 20.77 20.16 20.72C20.44 20.67 20.71 20.59 20.97 20.4799C21.23 20.3699 21.48 20.24 21.72 20.09C21.95 19.94 22.17 19.76 22.37 19.57C22.57 19.3699 22.75 19.16 22.91 18.93C23.07 18.7 23.2 18.46 23.31 18.2C23.41 17.95 23.5 17.68 23.55 17.41C23.61 17.14 23.63 16.87 23.63 16.59V12.94C23.63 12.79 23.66 12.64 23.72 12.5C23.78 12.36 23.87 12.23 23.98 12.13C24.09 12.02 24.22 11.93 24.36 11.88C24.51 11.82 24.66 11.79 24.82 11.79C24.97 11.79 25.12 11.82 25.27 11.88C25.41 11.93 25.54 12.02 25.65 12.13C25.76 12.23 25.85 12.36 25.91 12.5C25.97 12.64 26 12.79 26 12.94V16.59C26 17.02 25.95 17.44 25.87 17.86C25.78 18.28 25.66 18.69 25.49 19.08C25.32 19.48 25.11 19.8499 24.87 20.2099C24.63 20.57 24.35 20.9 24.04 21.2C23.73 21.5 23.39 21.7699 23.03 22.0099C22.67 22.2499 22.28 22.45 21.88 22.61C21.47 22.77 21.06 22.9 20.63 22.9799C20.2 23.07 19.76 23.11 19.32 23.11H16.4C15.47 23.11 14.62 23.3799 13.86 23.9199L9.91 26.74C9.67 26.91 9.39999 27 9.10999 27Z" fill="currentColor"></path><path d="M24.6805 5.14453H18.1874C17.5505 5.14453 17.0342 5.66086 17.0342 6.29778C17.0342 6.9347 17.5505 7.45102 18.1874 7.45102H24.6805C25.3175 7.45102 25.8338 6.9347 25.8338 6.29778C25.8338 5.66086 25.3175 5.14453 24.6805 5.14453Z" fill="currentColor"></path><path d="M22.6137 3.1804C22.6137 2.52848 22.0852 2 21.4333 2C20.7814 2 20.2529 2.52848 20.2529 3.1804V9.4168C20.2529 10.0687 20.7814 10.5972 21.4333 10.5972C22.0852 10.5972 22.6137 10.0687 22.6137 9.4168V3.1804Z" fill="currentColor"></path></svg></div>New chat</div></div></div><div class="_03210fb scrollable"><div class="_77cdc67 _8a693f3"><div class="_5d4b535"><div class="_48cdfc1">Today</div><div class="_83421f9 b64fb9ae" tabindex="0"><div class="c08e6e93">Backend ir frontend funkcionalumo patobulinimai</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Sutvarkymas ir pataisos frontendo ir backend.</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Frontend ir backend problemų sprendimai</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Backend ir frontendo problemų sprendimai</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div><div class="_5d4b535"><div class="_48cdfc1">Yesterday</div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Backend kodo analizė ir Postman testavimas</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div><div class="_5d4b535"><div class="_48cdfc1">7 Days</div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Frontend and Backend Code Fixes Guide</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Frontend and Backend Code Fixes</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Fixing User Profile and Forum Page Issues</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Fixing User Profile and Forum Issues</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Beckend: import express from 'ex</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Beckend: import express from 'ex</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">React Router v6+ atnaujinimas ir klaidos sprendimas</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Postman testavimas su serverio klaidomis</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">ar veikia</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div><div class="_5d4b535"><div class="_48cdfc1">30 Days</div><div class="_83421f9" tabindex="0"><div class="c08e6e93">YouTube dvigubos reklamos nėra pragare</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Byčkutis: mažas jautris lietuvių kalboje</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div><div class="_5d4b535"><div class="_48cdfc1">2025-03</div><div class="_83421f9" tabindex="0"><div class="c08e6e93">„Google Skillshop“ mokymosi platformos apžvalga</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">FutureTools.io: AI įrankių platforma</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Katalist.ai AI pagrįsto testavimo įrankis</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Antanas Valionis and KGB Past Ties Debate</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Linda 3 apibrėžimas ir galimos reikšmės</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Augustas-related entities and highlights overview</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">User provides random string of characters</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">NBA Teams and Players HTML/CSS/TypeScript Implementation</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">NBA Teams and Players Data Display</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Type Assignment and Error Handling Task</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Greitojo maisto ir istorijos užklausa</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div><div class="_5d4b535"><div class="_48cdfc1">2025-02</div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Kaip šypsoti nuotraukoje su Reface</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Sukurti šokio vaizdo įrašą su dviem asmenimis</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Galite sukurti foto pagal tekstinį aprašymą</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">https://lmstudio.ai/            </div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Atlantinis marlinas</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Esu vyras ir laikau savr dalimi </div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">1000008107.jpg</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Kaylee Muthart</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Kaylee Muthart parašyk lietuvišk</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">/* -----------------------------</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">Prisijungti

Užsiregistruoti
Pas</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">https://www.trickle.so/ kas tai</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">https://lmstudio.ai/            </div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="_83421f9" tabindex="0"><div class="c08e6e93">https://www.softr.io/         ka</div><div class="_2090548" tabindex="0"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd"></path></svg></div></div><div class="_2f87737"></div><div class="eaaaba55"></div></div><div class="b9cb4a74"></div></div></div></div><div class="c7f51894"><div class="a1e75851"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px; margin-right: 8px;"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="300" height="300"><path d="M725.333 1024H298.667a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h426.666a128 128 0 0 1 128 128v768a128 128 0 0 1-128 128zM298.667 85.333A42.667 42.667 0 0 0 256 128v768a42.667 42.667 0 0 0 42.667 42.667h426.666A42.667 42.667 0 0 0 768 896V128a42.667 42.667 0 0 0-42.667-42.667z" fill="currentColor"></path><path d="M469.33299999999997 853.333a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM554.667 213.333h-85.334a42.667 42.667 0 0 1 0-85.333h85.334a42.667 42.667 0 0 1 0 85.333z" fill="currentColor"></path></svg></div>Get App<span class="_106b9f9"><svg width="36" height="16" viewBox="0 0 36 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="36" height="16" rx="8" fill="url(#paint0_linear_5707_2640)" fill-opacity=".85"></rect><path d="M7.113 4.86h1.1l3.65 5.31h.04V4.86h1.09V12h-1.06l-3.69-5.37h-.04V12h-1.09V4.86zm7.285 0h5.13v.93h-4.04v2.08h3.8v.93h-3.8v2.27h4.21V12h-5.3V4.86zm5.756 0h1.23l1.39 5.56h.04l1.46-5.56h1.14l1.46 5.56h.04l1.39-5.56h1.23L27.475 12h-1.16l-1.45-5.51h-.04L23.375 12h-1.17l-2.05-7.14z" fill="#fff"></path><defs><lineargradient id="paint0_linear_5707_2640" y1="8" x2="36" y2="8" gradientUnits="userSpaceOnUse"><stop stop-color="#4D6BFE"></stop><stop offset="1" stop-color="#6948D6"></stop></lineargradient></defs></svg></span></div><div class="c6ab9234"><div class="ede5bc47"><img class="fdf01f38" src="./DeepSeek - Into the Unknown_files/6rrh4_LtffI8ajfxQ32j2yzK" alt="" aria-hidden="true"></div><div class="_7d65532">My Profile</div></div></div></div></div><div class="_4cbcd96"></div><div class="_7780f2e"><div class="_765a5cd"><div class="_2be88ba"><div class="f8d1e4c0"><div style="flex: 1 1 0%; min-width: 0px; display: flex; place-content: center; z-index: 12;"><div class="d8ed659a" tabindex="0" style="outline: none;">Backend ir frontend funkcionalumo patobulinimai</div></div><div class="_62b4800"></div></div><div class="_0efe408"><div class="ds-icon d7829b2f _2e7d873" style="font-size: 24px; width: 24px; height: 24px; color: rgb(205, 212, 223);"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.7222 4H4.27776C3.57207 4 3 4.57207 3 5.27776C3 5.98345 3.57207 6.55553 4.27776 6.55553H23.7222C24.4279 6.55553 25 5.98345 25 5.27776C25 4.57207 24.4279 4 23.7222 4Z" fill="currentColor"></path><path d="M14.7593 12.8887H4.27776C3.57207 12.8887 3 13.4607 3 14.1664C3 14.8721 3.57207 15.4442 4.27776 15.4442H14.7593C15.465 15.4442 16.037 14.8721 16.037 14.1664C16.037 13.4607 15.465 12.8887 14.7593 12.8887Z" fill="currentColor"></path><path d="M23.7222 21.7334H4.27776C3.57207 21.7334 3 22.3055 3 23.0112C3 23.7169 3.57207 24.2889 4.27776 24.2889H23.7222C24.4279 24.2889 25 23.7169 25 23.0112C25 22.3055 24.4279 21.7334 23.7222 21.7334Z" fill="currentColor"></path></svg></div><div class="ds-icon d7829b2f _23ecf90" style="font-size: 24px; width: 24px; height: 24px; color: rgb(205, 212, 223);"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.10999 27C8.92999 27 8.76001 26.96 8.60001 26.9C8.43001 26.83 8.29 26.74 8.16 26.61C8.03 26.49 7.94 26.3499 7.87 26.1899C7.79999 26.0299 7.76001 25.8599 7.76001 25.6899L7.73001 23.04C7.34001 22.98 6.95001 22.8799 6.57001 22.7599C6.19001 22.6299 5.83001 22.48 5.48001 22.29C5.13001 22.1 4.79999 21.88 4.48999 21.63C4.17999 21.39 3.89 21.1199 3.63 20.82C3.37 20.52 3.13999 20.21 2.92999 19.87C2.72999 19.53 2.56001 19.18 2.42001 18.82C2.28001 18.45 2.17001 18.07 2.10001 17.69C2.03001 17.3 2 16.92 2 16.53V9.46995C2 9.03995 2.04 8.61995 2.12 8.19995C2.21 7.77995 2.34 7.36995 2.5 6.96995C2.67 6.57995 2.88 6.19995 3.12 5.84995C3.36 5.48995 3.64001 5.15995 3.95001 4.85995C4.26001 4.55995 4.59999 4.28995 4.95999 4.04995C5.32999 3.80995 5.70999 3.60995 6.10999 3.44995C6.51999 3.27995 6.94 3.15995 7.37 3.07995C7.79999 2.98995 8.23001 2.94995 8.67001 2.94995H13.3C13.46 2.94995 13.61 2.97995 13.76 3.03995C13.9 3.09995 14.03 3.17995 14.14 3.28995C14.25 3.39995 14.33 3.51995 14.39 3.65995C14.45 3.79995 14.48 3.94995 14.48 4.09995C14.48 4.25995 14.45 4.39995 14.39 4.54995C14.33 4.68995 14.25 4.80995 14.14 4.91995C14.03 5.02995 13.9 5.10995 13.76 5.16995C13.61 5.22995 13.46 5.25995 13.3 5.25995H8.67001C8.38001 5.25995 8.09999 5.27995 7.82999 5.33995C7.54999 5.38995 7.27999 5.46995 7.01999 5.57995C6.75999 5.67995 6.50999 5.80995 6.26999 5.96995C6.03999 6.11995 5.82 6.29995 5.62 6.48995C5.42 6.68995 5.23999 6.89995 5.07999 7.12995C4.92999 7.35995 4.78999 7.59995 4.67999 7.85995C4.57999 8.10995 4.49 8.37995 4.44 8.64995C4.38 8.91995 4.35999 9.18995 4.35999 9.46995V16.53C4.35999 16.81 4.38 17.08 4.44 17.36C4.5 17.63 4.58 17.9 4.69 18.16C4.8 18.42 4.93 18.67 5.09 18.9C5.25 19.13 5.43001 19.3499 5.64001 19.5499C5.84001 19.75 6.05999 19.92 6.29999 20.08C6.53999 20.24 6.79 20.37 7.06 20.47C7.32 20.58 7.6 20.66 7.88 20.72C8.16001 20.77 8.44001 20.7999 8.73001 20.7999C8.91001 20.7999 9.08 20.83 9.25 20.9C9.41 20.97 9.55999 21.0599 9.67999 21.18C9.80999 21.3099 9.91001 21.45 9.98001 21.61C10.05 21.77 10.08 21.94 10.09 22.11L10.1 23.74L13.08 21.61C13.84 21.07 14.69 20.7999 15.63 20.7999H19.32C19.61 20.7999 19.89 20.77 20.16 20.72C20.44 20.67 20.71 20.59 20.97 20.4799C21.23 20.3699 21.48 20.24 21.72 20.09C21.95 19.94 22.17 19.76 22.37 19.57C22.57 19.3699 22.75 19.16 22.91 18.93C23.07 18.7 23.2 18.46 23.31 18.2C23.41 17.95 23.5 17.68 23.55 17.41C23.61 17.14 23.63 16.87 23.63 16.59V12.94C23.63 12.79 23.66 12.64 23.72 12.5C23.78 12.36 23.87 12.23 23.98 12.13C24.09 12.02 24.22 11.93 24.36 11.88C24.51 11.82 24.66 11.79 24.82 11.79C24.97 11.79 25.12 11.82 25.27 11.88C25.41 11.93 25.54 12.02 25.65 12.13C25.76 12.23 25.85 12.36 25.91 12.5C25.97 12.64 26 12.79 26 12.94V16.59C26 17.02 25.95 17.44 25.87 17.86C25.78 18.28 25.66 18.69 25.49 19.08C25.32 19.48 25.11 19.8499 24.87 20.2099C24.63 20.57 24.35 20.9 24.04 21.2C23.73 21.5 23.39 21.7699 23.03 22.0099C22.67 22.2499 22.28 22.45 21.88 22.61C21.47 22.77 21.06 22.9 20.63 22.9799C20.2 23.07 19.76 23.11 19.32 23.11H16.4C15.47 23.11 14.62 23.3799 13.86 23.9199L9.91 26.74C9.67 26.91 9.39999 27 9.10999 27Z" fill="currentColor"></path><path d="M24.6805 5.14453H18.1874C17.5505 5.14453 17.0342 5.66086 17.0342 6.29778C17.0342 6.9347 17.5505 7.45102 18.1874 7.45102H24.6805C25.3175 7.45102 25.8338 6.9347 25.8338 6.29778C25.8338 5.66086 25.3175 5.14453 24.6805 5.14453Z" fill="currentColor"></path><path d="M22.6137 3.1804C22.6137 2.52848 22.0852 2 21.4333 2C20.7814 2 20.2529 2.52848 20.2529 3.1804V9.4168C20.2529 10.0687 20.7814 10.5972 21.4333 10.5972C22.0852 10.5972 22.6137 10.0687 22.6137 9.4168V3.1804Z" fill="currentColor"></path></svg></div></div></div><div class="_3919b83"><div class="_8f60047 scrollable"><div class="_0f72b0b"><div class="dad65929"><div class="_9663006"><div class="fbb737a4">Backend. Veikia. Viskas Patikrinta su Postman

import { v4 as uuidv4 } from 'uuid';
import { getDb } from '../index.js';

export const getAnswersByQuestionId = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const result = await db.collection('answers').find({ questionId: id }).toArray();
    res.status(200).json(result);
  } catch (err) {
    console.error('Error fetching answers:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const createAnswer = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const { content } = req.body;

    const newAnswer = {
       _id: uuidv4(),
      questionId: id,
      answer: content,
      userId: req.user.id, // Prisijungusio vartotojo ID
      createdAt: new Date().toISOString(),
    };

    await db.collection('answers').insertOne(newAnswer);
    await db.collection('questions').updateOne(
      { _id: id },
      { $inc: { answerCount: 1 } }
    );
    res.status(201).json({ message: 'Answer created' });
  } catch (err) {
    console.error('Error creating answer:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updateAnswer = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const { content } = req.body;

    // Pridedu savininko patikrinimą
    
    const answer = await db.collection('answers').findOne({ _id: id });

    if (!answer) {
      return res.status(404).json({ message: 'Answer not found' });
    }

    // Tikrinu ar vartotojas yra atsakymo savininkas

    if (answer.userId !== req.user.id) {
      return res.status(403).json({ message: 'Unauthorized' });
    }

    const result = await db.collection('answers').updateOne(
      { _id: id },
      { 
      $set: { 
        answer: content,
        updatedAt: new Date().toISOString() 
      } 
    }
  );

    // Patikrinu ar atsakymas buvo atnaujintas

    if (result.matchedCount === 0) {
      return res.status(404).json({ message: 'Answer not found' });
    }

    if (!id) return res.status(400).json({ message: 'Invalid ID' });

    res.status(200).json({ message: 'Answer updated' });
  } catch (err) {
    console.error('Error updating answer:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const deleteAnswer = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;

    // Patikrinu savininką

    const answer = await db.collection('answers').findOne({ _id: id }); //Patikrinimas, ar atsakymas egzistuoja
    if (!answer) {
      return res.status(404).json({ message: 'Answer not found' });
    }

    // Tikrinu ar vartotojas yra atsakymo savininkas ir turi teisę ištrinti

    if (answer.userId !== req.user.id) {
      return res.status(403).json({ message: 'Unauthorized to delete this answer' });
    }

    const result = await db.collection('answers').deleteOne({ _id: id }); //Ištrinu atsakymą
    await db.collection('questions').updateOne(
         { _id: answer.questionId },
         { $inc: { answerCount: -1 } }
    );

    if (result.deletedCount === 0) {
      return res.status(404).json({ message: 'Answer not found' });
    } 

    // Patikrinu ar atsakymas buvo ištrintas

    if (!id) return res.status(400).json({ message: 'Invalid ID' });

    // Atsakymas sėkmingai ištrintas

    res.status(200).json({ message: 'Answer deleted' });
  } catch (err) {
    console.error('Error deleting answer:', err);
    res.status(500).json({ message: 'Server error' });
  }
};
import { v4 as uuidv4 } from 'uuid'
import { getDb } from '../index.js';

export const getAllQuestions = async (req, res) =&gt; {
    const page = parseInt(req.query.page) || 1;
    const limit = 3;  // 3 klausimai per puslapį
    const skip = (page - 1) * limit;
  try {
    const db = await getDb();
    const { search, filter, sort } = req.query;
    
    let query = {};
    
    if (search) {
      query.$or = [
        { question: { $regex: search, $options: 'i' } },
        { description: { $regex: search, $options: 'i' } }
      ];
    }
    if (req.query.tag) {
      query.tags = req.query.tag;
    }
    if (filter === 'answered') {
      query.answerCount = { $gt: 0 };  // Tik atsakyti klausimai
    }   
    else if (filter === 'unanswered') {
      query.answerCount = { $eq: 0 };  // Tik neatsakyti klausimai
    }
    
    let sortOption = { createdAt: -1 };
    if (sort === 'popular') {
      sortOption = { likes: -1 };
    }
    
    const questions = await db.collection('questions')
      .find(query)
      .sort(sortOption)
      .skip(skip)
      .limit(limit)
      .toArray();

    const total = await db.collection('questions').countDocuments(query);
      
    // Gaunu atsakymus kiekvienam klausimui

    for (const question of questions) {
      const answers = await db.collection('answers')
        .find({ questionId: question._id })
        .toArray();
      question.answers = answers;
    }

    res.status(200).json({
      questions, 
      total, 
      page,
      totalPages: Math.ceil(total / limit)
    });
  } catch (err) {
    console.error('Error getting questions:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const createQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const newQuestion = {
      _id: uuidv4(),
      userId: req.user.id, // Naudoju prisijungusio vartotojo ID
      question: req.body.question,
      createdAt: new Date().toISOString()
    };
    if (!req.body.question || req.body.question.length &lt; 4) {
      return res.status(400).json({ message: 'Question too short' });
}
    const result = await db.collection('questions').insertOne(newQuestion);
    res.status(201).json({ message: 'Question created',question: newQuestion, id: result.insertedId });
  } catch (err) {
    console.error('Error creating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const getQuestionById = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const question = await db.collection('questions').findOne({ _id: req.params.id });
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    } 
    // Pridedu atsakymus prie klausimo
    
    const answers = await db.collection('answers')
      .find({ questionId: req.params.id })
      .toArray();
    
    res.status(200).json({ ...question, answers });
  } catch (err) {
    console.error('Error getting question by ID:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const deleteQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const questionId = req.params.id;
    await db.collection('answers').deleteMany({ questionId: questionId }); // Ištrinu visus atsakymus, susijusius su šiuo klausimu
    const result = await db.collection('questions').deleteOne({ _id: req.params.id }); // Ištrinu klausimą pagal ID
    if (result.deletedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question deleted' });
  } catch (err) {
    console.error('Error deleting question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updateQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { question: updatedQuestion } = req.body;

    // Randu klausimą, pradedu savininko patikrinimą

    const existingQuestion = await db.collection('questions').findOne({ _id: req.params.id });
    if (!existingQuestion) {
      return res.status(404).json({ message: 'Question not found' });
    }
    // Tikrinu ar vartotojas yra savininkas

    if (existingQuestion.userId !== req.user.id) {
      return res.status(403).json({ message: 'Unauthorized' });
    }
    // Atnaujinu klausimą

    const result = await db.collection('questions').updateOne(
      { _id: req.params.id },
      { $set: { question: updatedQuestion, updatedAt: new Date().toISOString()}},
    );
    if (result.matchedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question updated' });
  } catch (err) {
    console.error('Error updating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const likeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }

    // Patikrinu ar vartotojas jau "like"

    if (question.likedBy?.includes(userId)) {
      return res.status(400).json({ message: 'You have already liked this question' });
    }
    
    // Konvertuoju "likes" į skaičių (jei tai masyvas) ir atnaujinu

    const currentLikes = Array.isArray(question.likes) ? 
      question.likes[0] : 
      question.likes;
    
    // Atnaujinu su nauja reikšme ir vartotojo ID

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentLikes + 1 },
        $push: { likedBy: userId },
        $pull: { dislikedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question liked' });
  } catch (err) {
    console.error('Error liking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const dislikeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }
    
    // Konvertuoju dislikes į skaičių (jei tai masyvas) ir atnaujinu

    const currentDislikes = Array.isArray(question.dislikes) ? 
      question.dislikes[0] : 
      question.dislikes;
    
    // Atnaujinu su nauja reikšme

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentDislikes + 1 },
        $push: { dislikedBy: userId },
        $pull: { likedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question disliked' });
  } catch (err) {
    console.error('Error disliking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

import bcrypt from 'bcryptjs';
import { v4 as uuidv4 } from 'uuid';
import jwt from 'jsonwebtoken';
import { getDb } from '../index.js';

export const registerUser = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const users = db.collection('users');
    const { name, email, password } = req.body;

    const existing = await users.findOne({ email });
    if (existing) {
      console.log('User already exists:', email);
    return res.status(400).json({ message: 'User already exists' });
    };

    const hashed = await bcrypt.hash(password, 10);
    const newUser = {
      _id: uuidv4(),
      name,
      email,
      password: hashed,
      createdAt: new Date().toISOString(),
    };

     await users.insertOne(newUser);

     const token = jwt.sign(
      { id: newUser._id, name: newUser.name, email: newUser.email },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );

    res.status(201).json({ 
      token,
      user: {
        id: newUser._id,
        name: newUser.name,
        email: newUser.email
      }
    });

  } catch (err) {
    console.error('Register error:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const loginUser = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const users = db.collection('users');
    const { email, password } = req.body;
    console.log('Login attempt for:', email);

    const user = await users.findOne({ email: email });
    console.log('User found:', user); // Ar vartotojas rastas?
    if (!user) {
     console.log(`User not found: ${email}`);
     return res.status(404).json({ message: 'User not found' });
    }

    console.log('Stored hash:', user.password);
    const match = await bcrypt.compare(password, user.password);
    console.log('Password match:', match); // Ar slaptažodis teisingas?
    if (!match) {
     console.log('Invalid password for user:', email);
     return res.status(401).json({ message: 'Invalid credentials' });
    }

    
    const token = jwt.sign ({ id: user._id, name: user.name, email: user.email }, 
    process.env.JWT_SECRET, { expiresIn: '7d' });
    console.log('Login successful for user:', email);
    res.status(201).json({ token, user: { id: user._id, name: user.name, email: user.email } });
  } catch (err) {
    console.error('Login error:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updateProfile = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const users = db.collection('users');
    const { name, email } = req.body;
    const userId = req.user.id;

    // Patikrinu ar email jau naudojamas ar ne

    const existing = await users.findOne({ email, _id: { $ne: userId } });
    if (existing) return res.status(400).json({ message: 'Email already in use' });

    const result = await users.updateOne(
      { _id: userId },
      { $set: { name, email } }
    );

    if (result.matchedCount === 0) {
      return res.status(404).json({ message: 'User not found' });
    }

    const updatedUser = await users.findOne({ _id: userId });
    res.status(200).json({
      message: 'Profile updated successfully',
      user: {
        id: updatedUser._id,
        name: updatedUser.name,
        email: updatedUser.email
      }
    });

  } catch (err) {
    console.error('Profile update error:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updatePassword = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const users = db.collection('users');
    const { currentPassword, newPassword } = req.body;
    const userId = req.user.id;

    console.log(`Password update attempt for user: ${userId}`);

    // Randu vartotoją
    
    const user = await users.findOne({ _id: userId });
    if (!user) {
      console.log('User not found');
      return res.status(404).json({ message: 'User not found' });
    }

    console.log('User found:', user.email);

    // Tikrinu slaptažodį

    console.log('Comparing passwords...');
    const isMatch = await bcrypt.compare(currentPassword, user.password);
    
    if (!isMatch) {
      console.log('Password comparison failed');
      return res.status(401).json({ message: 'Invalid current password' });
    }

    console.log('Password matched, hashing new password...');

    // Šifruoju naują slaptažodį

    const hashed = await bcrypt.hash(newPassword, 10);
    
    console.log('Updating password in database...');
    const result = await users.updateOne(
      { _id: userId },
      { $set: { password: hashed } }
    );

    console.log('Update result:', result);

    if (result.modifiedCount === 0) {
      console.log('No documents modified');
      return res.status(500).json({ message: 'Password not updated' });
    }

    console.log('Password updated successfully');
    res.status(200).json({ message: 'Password updated' });
  } catch (err) {
    console.error('Password update error:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

import jwt from 'jsonwebtoken';

export const authMiddleware = (req, res, next) =&gt; {
  const authHeader = req.headers.authorization; 
  console.log('Received token:', authHeader); // paslėpti

  if (!authHeader) {
    console.log('No token provided'); // paslėpti
    return res.status(401).json({ message: 'No token provided' });
  }
  const token = authHeader.split(' ')[1];
  if (!token) {
    console.log('No token after Bearer');
    return res.status(401).json({ message: 'No token provided' });
  }
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    console.log('Decoded token:', decoded); // paslėpti
    req.user = { id: decoded.id };
    next();
  } catch (err) {
    console.error('Token verification failed:', err); // paslėpti
    return res.status(403).json({ message: 'Invalid token' });
  }
};
import express from 'express';
import {
  getAnswersByQuestionId,
  createAnswer,
  updateAnswer,
  deleteAnswer,
} from '../controllers/answerController.js';
import { authMiddleware } from '../middleware/authMiddleware.js';

const router = express.Router();

router.get('/questions/:id/answers', getAnswersByQuestionId);
router.post('/questions/:id/answers', authMiddleware, createAnswer);
router.patch('/answers/:id', authMiddleware, updateAnswer);
router.delete('/answers/:id', authMiddleware, deleteAnswer);

export default router;
import express from 'express';
import { authMiddleware } from '../middleware/authMiddleware.js';
import {
  getAllQuestions,
  createQuestion,
  getQuestionById,
  deleteQuestion,
  updateQuestion,
  likeQuestion, 
  dislikeQuestion
} from '../controllers/questionController.js';
import { 
  getAnswersByQuestionId, 
  createAnswer 
} from '../controllers/answerController.js';


const router = express.Router();

router.get('/questions', getAllQuestions);
router.post('/questions', authMiddleware, createQuestion);
router.get('/questions/:id', getQuestionById);
router.delete('/questions/:id', authMiddleware, deleteQuestion);
router.put('/questions/:id', authMiddleware, updateQuestion);
router.get('/questions/:id/answers', getAnswersByQuestionId);
router.post('/questions/:id/answers', authMiddleware, createAnswer);
router.post('/questions/:id/like', authMiddleware, likeQuestion);
router.post('/questions/:id/dislike', authMiddleware, dislikeQuestion);

export default router;
import express from 'express';
import { 
    registerUser,
    loginUser,
    updateProfile,
    updatePassword
} from '../controllers/userController.js';
import { authMiddleware } from '../middleware/authMiddleware.js';

const router = express.Router();

router.post('/register', registerUser);
router.post('/login', loginUser);
router.patch('/profile', authMiddleware, updateProfile);
router.patch('/password', authMiddleware, updatePassword);
router.patch('/user/profile', authMiddleware, updateProfile);
router.patch('/user/password', authMiddleware, updatePassword);

export default router;

import express from 'express';
import cors from 'cors';
import dotenv from 'dotenv';
import { MongoClient } from 'mongodb';
import userRoutes from './routes/userRoutes.js';
import questionRoutes from './routes/questionRoutes.js';
import answerRoutes from './routes/answerRoutes.js';

dotenv.config(); // .env su visais kintamaisiais veiks nepriklausomai nuo OS ar paleidimo metodo.

if (!process.env.JWT_SECRET) {
  console.error('JWT_SECRET is not defined in .env file');
  process.exit(1);
};

const fixLikesDislikes = async () =&gt; {
  try {
    const db = await getDb();
    const questions = db.collection('questions');
    
    // Atnaujinu visus dokumentus, kur "likes" yra masyvas

    await questions.updateMany(
      { likes: { $type: 'array' } },
      [{ 
        $set: { 
          likes: { 
            $cond: {
              if: { $gt: [{ $size: "$likes" }, 0] },
              then: { $arrayElemAt: ["$likes", 0] },
              else: 0
            }
          } 
        }
      }]
    );
    
    // Atnaujinu visus dokumentus, kur "dislikes" yra masyvas

    await questions.updateMany(
      { dislikes: { $type: 'array' } },
      [{ 
        $set: { 
          dislikes: { 
            $cond: {
              if: { $gt: [{ $size: "$dislikes" }, 0] },
              then: { $arrayElemAt: ["$dislikes", 0] },
              else: 0
            }
          } 
        }
      }]
    );
    
    console.log('Likes and dislikes fixed successfully');
  } catch (err) {
    console.error('Error fixing likes and dislikes:', err);
  }
};

// Iškviečiu funkciją fixLikesDislikes() prieš serverio paleidimą

const app = express();
const PORT = process.env.PORT || 5501;

app.use(cors({ 
  origin: 'http://localhost:5173',
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],
  allowedHeaders: ['Content-Type', 'Authorization'] 
}));
app.use(express.json());

// Serverio diagnostika: Middleware, kuris logina kiekvieną užklausą

app.use((req, res, next) =&gt; {
  console.log(`[${new Date().toISOString()}] ${req.method} ${req.url}`);
  next();
});

const mongoURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_USER_PASSWORD}@${process.env.DB_CLUSTER}.${process.env.DB_CLUSTER_ID}.mongodb.net/${process.env.DB_NAME}?retryWrites=true&amp;w=majority`;
const client = new MongoClient(mongoURI);

let db = null;

// Exportuojama funkcija, kuria naudojasi visi controlleriai

export const getDb = async () =&gt; {
  if (!db) {
    try {
      await client.connect();
      db = client.db(process.env.DB_NAME);
      console.log('Connected to MongoDB');
    } catch (err) {
      console.error('MongoDB connection error:', err);
      throw err;
    }
  }
  return db;
};

const startServer = async () =&gt; {
  try {
    await getDb(); // prisijungimas įvyksta prieš paleidžiant serverį

    app.use('/api', userRoutes);
    app.use('/api', questionRoutes);
    app.use('/api', answerRoutes);

    // Testinis maršrutas, kad patikrinti ar serveris veikia

    app.get('/api/test', (req, res) =&gt; {
     console.log('Test route reached!');
     res.status(200).json({ message: 'Server is working!' });
      });


    app.listen(PORT, () =&gt; {
      console.log(`Server running on PORT: ${PORT}`);
    });
  } catch (err) {
    console.error('Failed to start server:', err);
    process.exit(1); // išeina jei nepavyksta prisijungti prie DB
  }
};

startServer();


startServer();
PORT=5500
DB_USER=eimantasjaskonis
DB_USER_PASSWORD=wqwiiu2lFmOwSMlx 
DB_CLUSTER=cluster0
DB_CLUSTER_ID=m9tk2mn
DB_NAME=Quanta
JWT_SECRET=secretMessage
Frontend: 

import styled from 'styled-components';

const Button = styled.button`
  background-color: ${({ $variant }) =&gt; 
    $variant === 'danger' ? '#666666' : '#00FF00'};
  color: #000;
  border: 2px solid #000;
  border-radius: 4px;
  padding: ${({ size }) =&gt; 
    size === 'large' ? '12px 24px' : '8px 16px'};
  font-size: ${({ size }) =&gt; 
    size === 'large' ? '1.5rem' : '1rem'};
  cursor: pointer;
  transition: all 0.3s;
  font-weight: bold;

  &amp;:hover {
    background-color: #000;
    color: #00FF00;
    border-color: #00FF00;
  }
`;

export default Button;
import styled from 'styled-components';

const Input = styled.input`
  width: 100%;
  padding: 10px;
  background-color: #000;
  border: 1px solid ${({ $error }) =&gt; $error ? '#666666' : '#00ff00'};
  color: #00ff00;
  border-radius: 4px;
  font-family: 'Courier New', Courier, monospace;
  transition: border-color 0.3s;
  
  &amp;:focus {
    outline: none;
    border-color: #00ff00;
    box-shadow: 0 0 5px rgba(0, 255, 119, 0.5);
    background-color: #111;
  }
  
  &amp;:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    border-color: #00ff00;
    background-color: #000;
  }
`;

export default Input;
import React from 'react';
import styled from 'styled-components';
import Input from './Input'; 

const SearchContainer = styled.div`
  display: flex;
  width: 70%;
  margin: 20px auto;
`;

const StyledInput = styled.input`
  flex: 1;
  padding: 10px 15px;
  background-color: #000;
  border: 1px solid #00ff00;
  color: #666666;
  font-family: 'Courier New', Courier, monospace;
  border-radius: 4px;
  font-size: 1rem;
`;

const SearchBar = ({ onSearch }) =&gt; {
  return (
    &lt;SearchContainer&gt;
      &lt;StyledInput
        type="text"
        placeholder="Search questions..."
        onChange={(e) =&gt; onSearch(e.target.value)}
      /&gt;
    &lt;/SearchContainer&gt;
  );
};

export default SearchBar;
import React from 'react';
import styled from 'styled-components';
import Input from '../atoms/Input';

const Container = styled.div`
  margin-bottom: 15px;
`;

const Label = styled.label`
  display: block;
  margin-bottom: 5px;
  color: #00ff00;
  font-weight: bold;
`;

const ErrorText = styled.div`
  color: #666666;
  margin-top: 5px;
  font-size: 0.9rem;
  border: 2px solid #00ff00;
`;

const InputField = ({ 
  label, 
  type = 'text', 
  value, 
  onChange, 
  placeholder, 
  error,
  disabled = false
}) =&gt; {
  return (
    &lt;Container&gt;
      {label &amp;&amp; &lt;Label&gt;{label}&lt;/Label&gt;}
      &lt;Input
        type={type}
        value={value}
        onChange={onChange}
        placeholder={placeholder}
        $error={!!error}
        disabled={disabled}
      /&gt;
      {error &amp;&amp; &lt;ErrorText&gt;{error}&lt;/ErrorText&gt;}
    &lt;/Container&gt;
  );
};

export default InputField;
import React, { useEffect } from 'react';
import styled from 'styled-components';
import Button from '../atoms/Button';

const Backdrop = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`;

const ModalContent = styled.div`
  background-color: #000;
  border: 2px solid #00ff00;
  border-radius: 4px;
  padding: 25px;
  width: 400px;
  max-width: 90%;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
`;

const Title = styled.h3`
  color: #00ff00;
  margin-top: 0;
  border-bottom: 1px solid #00ff00;
  padding-bottom: 10px;
`;

const Message = styled.p`
  color: #00ff00;
  margin: 20px 0;
`;

const Actions = styled.div`
  display: flex;
  justify-content: flex-end;
  gap: 15px;
`;

const Modal = ({ 
  isOpen, 
  onClose, 
  onConfirm, 
  title, 
  message,
  confirmText = "Delete",
  cancelText = "Cancel"
}) =&gt; {
  useEffect(() =&gt; {
    if (isOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'unset';
    }
    
    return () =&gt; {
      document.body.style.overflow = 'unset';
    };
  }, [isOpen]);

  if (!isOpen) return null;

  return (
    &lt;Backdrop onClick={onClose}&gt;
      &lt;ModalContent onClick={e =&gt; e.stopPropagation()}&gt;
        &lt;Title&gt;{title}&lt;/Title&gt;
        &lt;Message&gt;{message}&lt;/Message&gt;
        &lt;Actions&gt;
          &lt;Button onClick={onClose}&gt;{cancelText}&lt;/Button&gt;
          &lt;Button variant="danger" onClick={onConfirm}&gt;{confirmText}&lt;/Button&gt;
        &lt;/Actions&gt;
      &lt;/ModalContent&gt;
    &lt;/Backdrop&gt;
  );
};

export default Modal;
import React from 'react';
import styled from 'styled-components';

const PaginationWrapper = styled.div`
  display: flex;
  justify-content: center;
  margin: 20px 0;
`;

const PageButton = styled.button`
  background-color: ${({ $active }) =&gt; ($active ? '#666666' : '#000')};
  color: #666666;
  border: 1px solid #00ff00;
  padding: 6px 12px;
  margin: 0 4px;
  cursor: pointer;
  border-radius: 4px;

  &amp;:hover {
    background-color: #00ff00;
    color: #000;
  }
`;

const Pagination = ({ currentPage, totalPages, onPageChange }) =&gt; {
  const pages = [];

  for (let i = 1; i &lt;= totalPages; i++) {
    pages.push(
      &lt;PageButton 
        key={i}
        $active={currentPage === i}
        onClick={() =&gt; onPageChange(i)}
      &gt;
        {i}
      &lt;/PageButton&gt;
    );
  }

  return (
    &lt;PaginationWrapper&gt;
      {currentPage &gt; 1 &amp;&amp; (
        &lt;PageButton onClick={() =&gt; onPageChange(currentPage - 1)}&gt;
          &amp;lt;
        &lt;/PageButton&gt;
      )}
      
      {pages}
      
      {currentPage &lt; totalPages &amp;&amp; (
        &lt;PageButton onClick={() =&gt; onPageChange(currentPage + 1)}&gt;
          &amp;gt;
        &lt;/PageButton&gt;
      )}
    &lt;/PaginationWrapper&gt;
  );
};

export default Pagination;
import React from 'react';
import styled from 'styled-components';

const PasswordWrapper = styled.div`
  position: relative;
`;

const Input = styled.input`
  width: 100%;
  padding: 10px 40px 10px 10px;
  background-color: #000;
  border: 1px solid #00ff00;
  color: #00ff00;
  border-radius: 4px;
  font-family: 'Courier New', Courier, monospace;
`;

const ToggleVisibility = styled.span`
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  color: #00ff00;
`;

const PasswordField = ({ 
  value, 
  onChange, 
  showPassword, 
  setShowPassword,
  placeholder 
}) =&gt; {
  return (
    &lt;PasswordWrapper&gt;
      &lt;Input
        type={showPassword ? 'text' : 'password'} 
        value={value}
        onChange={onChange}
        placeholder={placeholder}
      /&gt;
      &lt;ToggleVisibility onClick={() =&gt; setShowPassword(!showPassword)}&gt;
        {showPassword ? '👁️' : '🙈'}
      &lt;/ToggleVisibility&gt;
    &lt;/PasswordWrapper&gt;
  );
};

export default PasswordField;

import React from 'react';
import styled from 'styled-components';
import Button from '../atoms/Button';

const Card = styled.div`
  background-color: #000;
  border: 1px solid #00ff00;
  border-radius: 4px;
  padding: 20px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s;
  
  &amp;:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 255, 0, 0.3);
  }
`;

const Title = styled.h3`
  color: #00ff00;
  margin-top: 0;
  margin-right: 40px;
`;

const LikeButton = styled.button`
  background-color: #000;
  color: #00FF00;
  border: 1px solid #00FF00;
  border-radius: 4px;
`;

const Meta = styled.div`
  color: #666666;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
`;

const Badge = styled.span`
  background-color: ${({ $answered }) =&gt; $answered ? '#00ff00' : '#666666'};
  color: #000;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.8rem;
  font-weight: bold;
`;

const DeleteButton = styled(Button)`
  position: absolute;
  top: 15px;
  right: 15px;
  padding: 5px 10px;
  font-size: 0.8rem;
`;

const QuestionCard = ({ questionData, onDelete, isOwner, onLike, onDislike }) =&gt; {
  const isAnswered = questionData.answers?.length &gt; 0;

  return (
    &lt;Card&gt;
      &lt;Title&gt;{questionData.question}&lt;/Title&gt;

      &lt;LikeButton onClick={() =&gt; onLike(questionData._id)}&gt;
        👍 {questionData.likes || 0}
      &lt;/LikeButton&gt;
      &lt;LikeButton onClick={() =&gt; onDislike(questionData._id)}&gt;
        👎 {questionData.dislikes || 0}
      &lt;/LikeButton&gt;

      {questionData.updatedAt &amp;&amp; (
        &lt;span style={{ color: '#666', fontSize: '0.8rem' }}&gt;
          (edited)
        &lt;/span&gt;
      )}

      {questionData.answers?.slice(0, 3).map((answer) =&gt; (
        &lt;div key={answer._id || Math.random()} style={{ marginTop: '10px', color: '#00ff00' }}&gt;
          &lt;strong&gt;A:&lt;/strong&gt; {answer.answer}
        &lt;/div&gt;
      ))}

      {questionData.answers?.length &gt; 3 &amp;&amp; (
        &lt;div style={{ color: '#00ff00', marginTop: '5px' }}&gt;
          +{questionData.answers.length - 3} more answers
        &lt;/div&gt;
      )}

      &lt;Meta&gt;
        &lt;div&gt;
          Author: {questionData.userName} •{' '}
          {new Date(questionData.createdAt).toLocaleDateString()}
        &lt;/div&gt;
        &lt;Badge $answered={isAnswered}&gt;
          {isAnswered ? `${questionData.answers.length} Answers` : 'No answer'}
        &lt;/Badge&gt;
      &lt;/Meta&gt;

      {isOwner &amp;&amp; (
        &lt;DeleteButton
          variant="danger"
          size="small"
          onClick={(e) =&gt; {
            e.stopPropagation();
            onDelete();
          }}
        &gt;
          Delete
        &lt;/DeleteButton&gt;
      )}
    &lt;/Card&gt;
  );
};

export default QuestionCard;



import React from 'react';
import styled from 'styled-components';
import { FaFacebook, FaTwitter, FaInstagram, FaLinkedin, FaTiktok } from 'react-icons/fa';

const FooterContainer = styled.footer`
  background-color: #000;
  border-top: 2px solid #00ff00;
  padding: 20px;
  text-align: center;
`;

const SocialLinks = styled.div`
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 15px;
`;

const SocialLink = styled.a`
  color: #00ff00;
  font-size: 1.5rem;
  transition: color 0.3s;
  
  &amp;:hover {
    color: #666666;
  }
`;

const Copyright = styled.p`
  color: #00ff00;
  font-size: 0.9rem;
  margin: 0;
`;

const Footer = () =&gt; {
  return (
    &lt;FooterContainer&gt;
      &lt;SocialLinks&gt;
        &lt;SocialLink href="https://www.facebook.com/" aria-label="Facebook"&gt;&lt;FaFacebook /&gt;&lt;/SocialLink&gt;
        &lt;SocialLink href="https://x.com/" aria-label="Twitter"&gt;&lt;FaTwitter /&gt;&lt;/SocialLink&gt;
        &lt;SocialLink href="https://www.instagram.com/" aria-label="Instagram"&gt;&lt;FaInstagram /&gt;&lt;/SocialLink&gt;
        &lt;SocialLink href="https://www.linkedin.com/" aria-label="LinkedIn"&gt;&lt;FaLinkedin /&gt;&lt;/SocialLink&gt;
        &lt;SocialLink href="https://www.tiktok.com/en/" aria-label="TikTok"&gt;&lt;FaTiktok /&gt;&lt;/SocialLink&gt;
      &lt;/SocialLinks&gt;
      &lt;Copyright&gt;
        &amp;copy; {new Date().getFullYear()} Secret Quantum Forum. All rights reserved.
      &lt;/Copyright&gt;
    &lt;/FooterContainer&gt;
  );
};

export default Footer;
import React from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useUser } from '../../context/UserContext';
import Button from '../atoms/Button';
import styled from 'styled-components';

const HeaderContainer = styled.header`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 30px;
  background-color: #000;
  border-bottom: 2px solid #00ff00;
  position: sticky;
  top: 0;
  z-index: 100;
  
  @media (max-width: 768px) {
    flex-direction: column;
    padding: 10px;
  }
`;

const LeftSection = styled.div`
  display: flex;
  align-items: center;
  gap: 20px;
`;

const Logo = styled.div`
  font-size: 1.5rem;
  font-weight: bold;

  a {
    color: #00ff00;
    text-decoration: none;

    &amp;:hover {
      color: #33ff33;
    }
  }

  @media (max-width: 768px) {
    margin-bottom: 10px;
  }
`;

const Navigation = styled.nav`
  display: flex;
  gap: 15px;
  align-items: center;
  
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }
`;

const UserGreeting = styled.span`
  color: #00ff00;
  margin-right: 10px;
  font-weight: bold;
  
  @media (max-width: 480px) {
    display: none;
  }
`;

const Header = () =&gt; {
  const { user, logout } = useUser();
  const navigate = useNavigate();

const handleLogout = () =&gt; {
  logout();
  navigate('/'); 
};
  
  return (
    &lt;HeaderContainer&gt;
      &lt;LeftSection&gt;
        &lt;Logo&gt;
          &lt;Link to="/"&gt;Secret Quantum&lt;/Link&gt;
        &lt;/Logo&gt;
        
        &lt;Button onClick={() =&gt; navigate('/ask')} size="medium"&gt;
          Ask Question
        &lt;/Button&gt;
      &lt;/LeftSection&gt;
      
      &lt;Navigation&gt;
        {user ? (
          &lt;&gt;
            &lt;UserGreeting&gt;Welcome, {user.name}&lt;/UserGreeting&gt;
              &lt;Button onClick={() =&gt; navigate('/user')} size="medium"&gt;
                Profile
              &lt;/Button&gt;
              &lt;Button onClick={handleLogout} size="medium" variant="danger"&gt;
                Log Out
              &lt;/Button&gt;
          &lt;/&gt;
        ) : (
          &lt;&gt;
            &lt;Link to="/register"&gt;
                &lt;Button size="medium"&gt;Sign Up&lt;/Button&gt;
            &lt;/Link&gt;
            &lt;Link to="/login"&gt;
              &lt;Button size="medium"&gt;Log In&lt;/Button&gt;
            &lt;/Link&gt;
          &lt;/&gt;
        )}
      &lt;/Navigation&gt;
    &lt;/HeaderContainer&gt;
  );
};

export default Header;
import React from 'react';

class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(err) {
    console.error('Error:', err);
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    console.error('Error Boundary caught error:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        &lt;div style={{ padding: '20px', color: 'red', background: 'black' }}&gt;
          &lt;h2&gt;Something went wrong!&lt;/h2&gt;
          &lt;p&gt;Please refresh the page or try again later.&lt;/p&gt;
        &lt;/div&gt;
      );
    }

    return this.props.children;
  }
}

export default ErrorBoundary;

import React from 'react';
import { Outlet } from 'react-router-dom';
import Header from './organisms/Header';
import Footer from './organisms/Footer';
import styled from 'styled-components';

const OutletContainer = styled.div`
  flex: 1;
  padding: 20px;
  background-color: transparent;
  min-height: calc(100vh - 120px); // header ir footer aukščiai
  
  // Dinaminis fono valdymas

  ${({ bg }) =&gt; bg &amp;&amp; `
    background: ${bg};
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  `}
  
  // Responsive stiliai

  @media (max-width: 768px) {
    padding: 10px;
  }
`;

const MainOutlet = ({ background }) =&gt; {
  return (
    &lt;OutletContainer bg={background}&gt;
      &lt;Header /&gt;
        &lt;Outlet /&gt;
      &lt;Footer /&gt;
    &lt;/OutletContainer&gt;
  );
};

export default MainOutlet;

---------------------------------------------------------------------------------------------------------------------

import React, { createContext, useContext, useReducer, useEffect, useRef } from 'react';
import jwt_decode from 'jwt-decode';

const initialState = { user: null, loading: true };
const ACTIONS = {
  LOGIN: 'LOGIN',
  LOGOUT: 'LOGOUT',
  SET_LOADING: 'SET_LOADING'
};

function reducer(state, action) {
  switch (action.type) {
    case ACTIONS.LOGIN:
      return { ...state, user: action.payload, loading: false };
    case ACTIONS.LOGOUT:
      return { ...state, user: null, loading: false };
    case ACTIONS.SET_LOADING:
      return { ...state, loading: action.payload };
    case ACTIONS.UPDATE_USER: 
      return { ...state, user: { ...state.user, ...action.payload } };
    default:
      return state;
  }
}

const UserContext = createContext();

export function UserProvider({ children }) {
  const [state, dispatch] = useReducer(reducer, initialState);
  const logoutTimer = useRef(null);

  const startTimer = () =&gt; {
    if (logoutTimer.current) clearTimeout(logoutTimer.current);
    logoutTimer.current = setTimeout(() =&gt; handleLogout(), 5 * 60 * 1000);
  };

  const handleLogin = (token, userData) =&gt; {
    localStorage.setItem('quantum_token', token);
    dispatch({ type: ACTIONS.LOGIN, payload: userData });
    startTimer();
  };

  const handleLogout = () =&gt; {
    localStorage.removeItem('quantum_token');
    dispatch({ type: ACTIONS.LOGOUT });
    if (logoutTimer.current) clearTimeout(logoutTimer.current);
  };

  const updateUser = (userData) =&gt; {
    dispatch({ type: ACTIONS.UPDATE_USER, payload: userData });
  };

  const resetLogoutTimer = () =&gt; {
    if (logoutTimer.current) clearTimeout(logoutTimer.current);
    logoutTimer.current = setTimeout(() =&gt; handleLogout(), 5 * 60 * 1000); // 5 min
  };

   useEffect(() =&gt; {
    const events = ['mousemove', 'keydown', 'mousedown', 'touchstart'];
    
    const resetTimer = () =&gt; {
      resetLogoutTimer();
    };
    
    events.forEach(event =&gt; {
      window.addEventListener(event, resetTimer);
    });
    
    return () =&gt; {
      events.forEach(event =&gt; {
        window.removeEventListener(event, resetTimer);
      });
    };
  }, []);

  useEffect(() =&gt; {
    const token = localStorage.getItem('quantum_token');
    
    if (!token) {
      dispatch({ type: ACTIONS.SET_LOADING, payload: false });
      return;
    }
    
    try {
      const decoded = jwt_decode(token);
      const expirationTime = decoded.exp * 1000;
      
      if (decoded.exp * 1000 &lt; Date.now()) {
        handleLogout();
      } else {
        const timeUntilExpiration = expirationTime - Date.now();
        logoutTimer.current = setTimeout(handleLogout, timeUntilExpiration);
    }
  } catch (err) {
    console.error('Token decode error:', err);
    handleLogout();
  }
}, []);

  return (
    &lt;UserContext.Provider
      value={{
        user: state.user,
        loading: state.loading,
        login: handleLogin,
        logout: handleLogout,
        resetLogoutTimer,
        updateUser
      }}
    &gt;
      {children}
    &lt;/UserContext.Provider&gt;
  );
}

export function useUser() {
  const ctx = useContext(UserContext);
  if (!ctx) throw new Error('useUser used outside UserProvider');
  return {
    ...ctx,
    resetLogoutTimer: ctx.resetLogoutTimer
  };
}






import React, { useState, useEffect } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import InputField from '../components/molecules/InputField';
import Button from '../components/atoms/Button';
import styled from 'styled-components';
import api from '../services/api';
import { useUser } from '../context/UserContext';

const Container = styled.div`
   background-image: url('/src/assets/matrix.png');
   padding: 120px;
   margin: 0;
   height: 70vh;
  `;

const AskContainer = styled.div`
  max-width: 800px;
  margin: 0rem auto;
  padding: 25px;
  background-color: rgba(0, 0, 0, 0.8);
  border: 2px solid #00ff00;
  border-radius: 4px;
`;

const Title = styled.h2`
  color: #00ff00;
  text-align: center;
  margin-top: 0;
`;

import React, { useState, useEffect } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import InputField from '../components/molecules/InputField';
import Button from '../components/atoms/Button';
import styled from 'styled-components';
import api from '../services/api';
import { useUser } from '../context/UserContext';

const Container = styled.div`
   background-image: url('/src/assets/matrix.png');
   padding: 120px;
   margin: 0;
   height: 70vh;
  `;

const AskContainer = styled.div`
  max-width: 800px;
  margin: 0rem auto;
  padding: 25px;
  background-color: rgba(0, 0, 0, 0.8);
  border: 2px solid #00ff00;
  border-radius: 4px;
`;

const Title = styled.h2`
  color: #00ff00;
  text-align: center;
  margin-top: 0;
`;

const Ask = () =&gt; {
  const navigate = useNavigate();
  const location = useLocation();
  const { user } = useUser();
  const [question, setQuestion] = useState('');
  const [error, setError] = useState('');
  const [success, setSuccess] = useState('');
  const [forceRefresh, setForceRefresh] = useState(false);
  
  // Tikrinu ar redaguojamas esamas klausimas

  const questionToEdit = location.state?.questionToEdit;

  useEffect(() =&gt; {
    if (questionToEdit) {
      setQuestion(questionToEdit.question);
    }
  }, [questionToEdit]);

  const handleSubmit = async (e) =&gt; {
    e.preventDefault();
    
    if (!user) {
      navigate('/login');
      return;
    }
    
    if (!question || question.length &lt; 10) {
      setError('Question must be at least 10 characters');
      return;
    }
    
    try {
      if (questionToEdit) {
        // Redaguoju esamą klausimą
        await api.patch(`/questions/${questionToEdit._id}`, { question });
        setSuccess('Question updated successfully!');
      } else {
        // Kuriamas naujas klausimas
        await api.post('/questions', { question });
        setSuccess('Question created successfully!');
        setForceRefresh(!forceRefresh); // Priverstinis atnaujinimas
      }
      
      setTimeout(() =&gt; navigate('/forum'), 1500);
    } catch (err) {
      setError(err.response?.data?.message || 'Error saving question');
    }
  };

  return (
    &lt;Container&gt;
      &lt;AskContainer&gt;
        &lt;Title&gt;{questionToEdit ? 'Edit Question' : 'Ask a Question'}&lt;/Title&gt;
        
        &lt;form onSubmit={handleSubmit}&gt;
          &lt;InputField
            label="Question"
            value={question}
            onChange={(e) =&gt; setQuestion(e.target.value)}
            placeholder="Enter your question"
            error={error}
          /&gt;
          
          {success &amp;&amp; &lt;div style={{ color: '#00ff00', margin: '15px 0' }}&gt;{success}&lt;/div&gt;}
          
          &lt;div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}&gt;
            &lt;Button type="submit"&gt;
              {questionToEdit ? 'Update Question' : 'Post Question'}
            &lt;/Button&gt;
            &lt;Button variant="danger" onClick={() =&gt; navigate('/home')}&gt;
              Cancel
            &lt;/Button&gt;
          &lt;/div&gt;
        &lt;/form&gt;
      &lt;/AskContainer&gt;
    &lt;/Container&gt;
  );
};

export default Ask;

import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useUser } from '../context/UserContext';
import QuestionCard from '../components/molecules/QuestionCard';
import SearchBar from '../components/atoms/SearchBar';
import Button from '../components/atoms/Button';
import Modal from '../components/molecules/Modal';
import Pagination from '../components/molecules/Pagination';
import styled from 'styled-components';
import api from '../services/api';

const PageContainer = styled.div`
  background-image: url('/src/assets/matrix.png');
  position: relative;
  z-index: 1; 
`;

const ForumContainer = styled.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
`;

const Header = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  flex-wrap: wrap;
  gap: 15px;
`;

const Title = styled.h2`
  border: 2px solid #00ff00;
  border-radius: 4px;
  flex-wrap: wrap;
  padding: 13px 13px 13px 13px;
  background-color: #000;
`;

const Filters = styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 25px;
`;

const FilterButton = styled(Button)`
  background-color: ${({ $active }) =&gt; $active ? '#00ff00' : '#00ff00'};
  color: ${({ $active }) =&gt; $active ? '#000' : '#000'};
  font-size: 0.9rem;
  padding: 8px 15px;
`;

const QuestionsList = styled.div`
  display: grid;
  gap: 20px;
`;

const Forum = () =&gt; {
  const { user } = useUser();
  const navigate = useNavigate();
  const [questions, setQuestions] = useState([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedTag, setSelectedTag] = useState('');
  const [filter] = useState('all');
  const [sort, setSort] = useState('newest');
  const [loading, setLoading] = useState(true);
  const [deleteModalOpen, setDeleteModalOpen] = useState(false);
  const [questionToDelete, setQuestionToDelete] = useState(null);
  const [pagination, setPagination] = useState({
    page: 1,
    limit: 3,
    total: 0,
    totalPages: 1
  });
  const [refreshCounter, setRefreshCounter] = useState(0);

   useEffect(() =&gt; {
    console.log("Fetched questions:", questions);
    const fetchQuestions = async () =&gt; {
      try {
        const res = await api.get(
            `/questions?page=${pagination.page}&amp;limit=${pagination.limit}&amp;filter=${filter}&amp;sort=${sort}&amp;search=${searchTerm}`
        );
        if (res.data) {
          setQuestions(res.data.questions || []);
          setPagination({
            page: res.data.page,
            total: res.data.total,
            totalPages: res.data.totalPages,
            limit: pagination.limit
        });
      }
    } catch (err) {
      console.error('Error fetching questions:', err);
    }
    setLoading(false);
  };
  fetchQuestions();
  }, [searchTerm, filter, sort, pagination.page, refreshCounter]);

  const handleAsk = () =&gt; user ? navigate('/ask') : navigate('/login');

  const handleDeleteClick = id =&gt; {
    setQuestionToDelete(id);
    setDeleteModalOpen(true);
  };

  const confirmDelete = async () =&gt; {
    try {
      await api.delete(`/questions/${questionToDelete}`);
      setQuestions(qs =&gt; qs.filter(q =&gt; q._id !== questionToDelete));
      setRefreshCounter(prev =&gt; prev + 1);
    } catch (err) {
      console.error(err);
    }
    setDeleteModalOpen(false);
  };

  const handleLike = async (questionId) =&gt; {
  try {
    await api.post(`/questions/${questionId}/like`);

    // Atnaujinti būseną

    setQuestions(prev =&gt; prev.map(q =&gt; 
      q._id === questionId ? { ...q, 
        likes: (q.likes || 0) + 1, 
        dislikes: q.userDisliked ? (q.dislikes || 0) - 1 : q.dislikes, // Pašalina "dislike" jei buvo
        userLiked: true,
        userDisliked: false } : q
    ));
    setRefreshCounter(prev =&gt; prev + 1);
  } catch (err) {
    console.error('Error liking question:', err);
  }
};

  const handleDislike = async (questionId) =&gt; {
  try {
    await api.post(`/questions/${questionId}/dislike`);

    // Atnaujinti būseną

    setQuestions(prev =&gt; prev.map(q =&gt; 
      q._id === questionId ? { ...q,
        dislikes: (q.dislikes || 0) + 1, 
        likes: q.userLiked ? (q.likes || 0) - 1 : q.likes, // Pašalina "like" jei buvo
        userDisliked: true,
        userLiked: false } : q
    ));
    setRefreshCounter(prev =&gt; prev + 1); 
  } catch (err) {
    console.error('Error disliking question:', err);
  }
};

  return (
    &lt;PageContainer&gt;
      &lt;ForumContainer&gt;
        &lt;Header&gt;
          &lt;Title&gt;Quantum Physics Forum&lt;/Title&gt;
          &lt;Button size="large" onClick={handleAsk}&gt;
            Ask Question
          &lt;/Button&gt;
        &lt;/Header&gt;

        &lt;SearchBar onSearch={setSearchTerm} /&gt;

        &lt;Filters&gt;
          &lt;span style={{ color: '#00ff00' }}&gt;Filter:&lt;/span&gt;
          {['All', 'Answered', 'Unanswered'].map(tag =&gt; (
            &lt;FilterButton
              key={tag}
              $active={selectedTag === tag.toLowerCase()}
              onClick={() =&gt; setSelectedTag(tag.toLowerCase())}
            &gt;
              {tag.charAt(0).toUpperCase() + tag.slice(1)}
            &lt;/FilterButton&gt;
          ))}
          &lt;span style={{ color: '#00ff00', marginLeft: 20 }}&gt;Sort:&lt;/span&gt;
          {['Newest', 'Popular'].map(s =&gt; (
            &lt;FilterButton
              key={s}
              $active={sort === s}
              onClick={() =&gt; setSort(s)}
            &gt;
              {s === 'Popular' ? 'Most Answered' : 'Newest'}
            &lt;/FilterButton&gt;
          ))}
        &lt;/Filters&gt;

        {loading &amp;&amp; &lt;div style={{ color: '#00ff00' }}&gt;Loading questions...&lt;/div&gt;}
        {!loading &amp;&amp; questions.length === 0 &amp;&amp; (
          &lt;div style={{ color: '#00ff00', textAlign: 'center' }}&gt;No questions found&lt;/div&gt;
        )};

        &lt;QuestionsList&gt;
          {questions.map(q =&gt; (
            &lt;QuestionCard
              key={q._id}
              id={q._id}
              questionData={q}
              description={q.description}
              answers={q.answers}
              answerCount={q.answerCount || 0}
              userName={q.userName}
              createdAt={q.createdAt}
              likes={q.likes || 0}
              dislikes={q.dislikes || 0}
              isOwner={user &amp;&amp; user.id === q.userId}
              onDelete={() =&gt; handleDeleteClick(q._id)}
              onEdit={() =&gt; navigate('/ask', { state: { questionToEdit: q } })}
              onClick={() =&gt; navigate(`/question/${q._id}`)}
              onLike={() =&gt; handleLike(q._id)}
              onDislike={() =&gt; handleDislike(q._id)}
            /&gt;
          ))}
        &lt;/QuestionsList&gt;

        &lt;Pagination&gt;
          &lt;button disabled={pagination.page === 1} onClick={() =&gt; setPagination(p =&gt; ({ ...p, page: p.page - 1 }))}&gt;
            Previous
          &lt;/button&gt;
          &lt;span&gt;
            Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit) || 1}
          &lt;/span&gt;
          &lt;button
            disabled={pagination.page * pagination.limit &gt;= pagination.total}
            onClick={() =&gt; setPagination(p =&gt; ({ ...p, page: p.page + 1 }))}
          &gt;
            Next
          &lt;/button&gt;
        &lt;/Pagination&gt;
      &lt;/ForumContainer&gt;

      &lt;Modal
        isOpen={deleteModalOpen}
        title="Confirm deletion"
        message="Are you sure you want to delete this question? This action cannot be undone."
        confirmText="Delete"
        cancelText="Cancel"
        onConfirm={confirmDelete}
        onClose={() =&gt; setDeleteModalOpen(false)}
      /&gt;
    &lt;/PageContainer&gt;
  );
}

export default Forum;


import React from 'react';
import { useNavigate } from 'react-router-dom';
import { useUser } from '../context/UserContext';
import Button from '../components/atoms/Button';
import styled from 'styled-components';



const HomeContainer = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-image: url('/src/assets/matrix.png');
  height: 70vh;
  padding: 20px;
`;

const TitleBox = styled.div`
  background-color: rgba(0, 0, 0, 0.7);
  border: 2px solid #00ff00;
  border-radius: 4px;
  padding: 30px 50px;
  margin-bottom: 40px;
  backdrop-filter: blur(5px);
  
  @media (max-width: 768px) {
    padding: 20px;
    width: 90%;
  }
`;

const Title = styled.h1`
  font-size: 3rem;
  margin: 0;
  color: #00ff00;
  text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
  
  @media (max-width: 768px) {
    font-size: 2rem;
  }
`;

const Subtitle = styled.p`
  font-size: 1.2rem;
  color: #00cc66;
  margin-top: 10px;
  
  @media (max-width: 768px) {
    font-size: 1rem;
  }
`;

const ActionButton = styled(Button)`
  margin-top: 20px;
  font-size: 1.2rem;
  padding: 15px 30px;
`;

const Home = () =&gt; {
  const { user } = useUser();
  const navigate = useNavigate();

  const handleGoToForum = () =&gt; {
    if (user) {
      navigate('/forum');
    } else {
      navigate('/login');
    }
  };

  return (
    &lt;HomeContainer&gt;
      &lt;TitleBox&gt;
        &lt;Title&gt;Secret Questions and Answers&lt;/Title&gt;
        &lt;Subtitle&gt;Explore the mysteries of quantum physics&lt;/Subtitle&gt;
      &lt;/TitleBox&gt;
      
      &lt;ActionButton size="large" onClick={handleGoToForum}&gt;
        Go to Forum
      &lt;/ActionButton&gt;
    &lt;/HomeContainer&gt;
  );
};

export default Home;
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useUser } from '../context/UserContext';
import InputField from '../components/molecules/InputField';
import PasswordField from '../components/molecules/PasswordField';
import Button from '../components/atoms/Button';
import styled from 'styled-components';
import api from '../services/api';

const LoginContainer = styled.div`
  max-width: 400px;
  margin: 6rem auto;
  padding: 25px;
  background-color: rgba(0, 0, 0, 0.8);
  border: 1px solid #00ff00;
  border-radius: 4px;
  backdrop-filter: blur(5px);
  
  @media (max-width: 480px) {
    width: 90%;
    padding: 15px;
  }
`;

const Title = styled.h2`
  color: #00ff00;
  text-align: center;
  margin-top: 0;
  border-bottom: 1px solid #00ff00;
  padding-bottom: 10px;
`;

const FormGroup = styled.div`
  margin-bottom: 20px;
`;

const ErrorMessage = styled.div`
  color: #666666;
  margin-top: 10px;
  text-align: center;
`;

const SuccessMessage = styled.div`
  color: #00ff00;
  margin-top: 10px;
  text-align: center;
`;

const SignupPrompt = styled.div`
  text-align: center;
  margin-top: 20px;
  color: #00ff00;
`;

const Login = () =&gt; {
  const navigate = useNavigate();
  const { login } = useUser();
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [error, setError] = useState('');
  const [success, setSuccess] = useState('');
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e) =&gt; {
    e.preventDefault();
    setLoading(true);
    setError('');
    
   try {
    const response = await api.post('/login', { email, password });
    
    if (response.data.token) {
      login(response.data.token, response.data.user);
      setSuccess('Login successful! Redirecting...');
      setTimeout(() =&gt; navigate('/'), 1500);  // Navigacija į Home
    }
    } catch (err) {
      if (err.response?.status === 401) {
        setError('Invalid email or password');
      } else {
        setError('Login failed. Please try again later.');
      }
    } finally {
      setLoading(false);
    }
  };

  return (
    &lt;LoginContainer&gt;
      &lt;Title&gt;Login to Secret Forum&lt;/Title&gt;
      
      &lt;form onSubmit={handleSubmit}&gt;
        &lt;FormGroup&gt;
          &lt;InputField
            label="Email"
            type="email"
            value={email}
            onChange={(e) =&gt; setEmail(e.target.value)}
            placeholder="Enter your email"
            required
          /&gt;
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;PasswordField 
            label="Password"
            value={password}
            onChange={(e) =&gt; setPassword(e.target.value)}
            showPassword={showPassword}
            setShowPassword={setShowPassword}
            placeholder="Enter password"
            required
          /&gt;
        &lt;/FormGroup&gt;
        
        {error &amp;&amp; &lt;ErrorMessage&gt;{error}&lt;/ErrorMessage&gt;}
        {success &amp;&amp; &lt;SuccessMessage&gt;{success}&lt;/SuccessMessage&gt;}
        
        &lt;Button 
          type="submit" 
          size="large" 
          style={{ width: '100%' }}
          disabled={loading}
        &gt;
          {loading ? 'Logging in...' : 'Login'}
        &lt;/Button&gt;
      &lt;/form&gt;
      
      &lt;SignupPrompt&gt;
        Don't have an account?{' '}
          &lt;Button variant="link" onClick={() =&gt; navigate('/register')}&gt;
              Sign Up
          &lt;/Button&gt;
      &lt;/SignupPrompt&gt;
    &lt;/LoginContainer&gt;
  );
};

export default Login;

import React, { useState, useEffect } from 'react';
import styled from 'styled-components';
import { useParams, useNavigate } from 'react-router-dom';
import { useUser } from '../context/UserContext';
import api from '../services/api';
import Button from '../components/atoms/Button';

const Container = styled.div`
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
  background-color: rgba(0, 0, 0, 0.8);
  border: 1px solid #00ff00;
  border-radius: 4px;
  color: #00ff00;
`;

const AnswerForm = styled.div`
  margin-top: 30px;
`;

const TextArea = styled.textarea`
  width: 100%;
  background-color: #111;
  border: 1px solid #00ff00;
  color: #00ff00;
  border-radius: 4px;
  padding: 10px;
  font-family: 'Courier New', monospace;
  margin-bottom: 10px;
`;

const AnswerItem = styled.div`
  padding: 15px;
  border-bottom: 1px solid #333;
  position: relative;
  background-color: rgba(0, 0, 0, 0.5);
  margin-bottom: 10px;
  border-radius: 4px;
`;

const AnswerActions = styled.div`
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  gap: 5px;
`;

const AnswerText = styled.p`
  margin: 5px 0 10px;
`;

const AnswerMeta = styled.small`
  color: #666;
  display: block;
  font-size: 0.9rem;
`;

const EditForm = styled.div`
  margin-top: 10px;
`;

const Message = styled.div`
  padding: 10px;
  margin: 10px 0;
  border-radius: 4px;
  text-align: center;
  background-color: ${({ $error }) =&gt; $error ? 'rgba(102, 102, 102, 0.2)' : 'rgba(0, 255, 0, 0.1)'};
  border: 1px solid ${({ $error }) =&gt; $error ? '#666' : '#00ff00'};
`;

export default function QuestionDetail() {
  const { id } = useParams();
  const navigate = useNavigate();
  const { user } = useUser();

  const [question, setQuestion] = useState(null);
  const [editingAnswerId, setEditingAnswerId] = useState(null);
  const [editAnswerText, setEditAnswerText] = useState('');
  const [answers, setAnswers] = useState([]);
  const [newAnswer, setNewAnswer] = useState('');
  const [loading, setLoading] = useState(true);
  const [msg, setMsg] = useState({ text: '', error: false });

  const load = async () =&gt; {
    setLoading(true);
    try {
      const res = await api.get(`/questions/${id}`);
      setQuestion(res.data);
      setAnswers(res.data.answers || []);
    } catch (err) {
      console.error(err);
      setMsg({ text: 'Failed to load question', error: true });
    }
    setLoading(false);
  };

  useEffect(() =&gt; {
    load();
  }, [id]);

  const postAnswer = async () =&gt; {
    if (!user) return navigate('/login');
    if (!newAnswer.trim()) {
      setMsg({ text: 'Answer cannot be empty', error: true });
      return;
    }
    
    try {
      await api.post(`/questions/${id}/answers`, { content: newAnswer });
      setNewAnswer('');
      setMsg({ text: 'Answer posted successfully!', error: false });
      load();
    } catch (err) {
      console.error(err);
      setMsg({ text: 'Failed to post answer', error: true });
    }
  };

  const startEditAnswer = (answer) =&gt; {
    setEditingAnswerId(answer._id);
    setEditAnswerText(answer.answer);
  };

  const cancelEdit = () =&gt; {
    setEditingAnswerId(null);
    setEditAnswerText('');
  };

  const saveEditedAnswer = async () =&gt; {
    if (!editAnswerText.trim()) {
      setMsg({ text: 'Answer cannot be empty', error: true });
      return;
    }
    
    try {
      await api.patch(`/answers/${editingAnswerId}`, {
        content: editAnswerText
      });
      setMsg({ text: 'Answer updated successfully!', error: false });
      setEditingAnswerId(null);
      load();
    } catch (err) {
      console.error(err);
      setMsg({ text: 'Failed to update answer', error: true });
    }
  };

  const deleteAnswer = async (answerId) =&gt; {
    if (window.confirm('Are you sure you want to delete this answer?')) {
      try {
        await api.delete(`/answers/${answerId}`);
        setMsg({ text: 'Answer deleted successfully!', error: false });
        load();
      } catch (err) {
        console.error(err);
        setMsg({ text: 'Failed to delete answer', error: true });
      }
    }
  };

  if (loading) return &lt;Container&gt;&lt;div style={{ color: '#00ff00' }}&gt;Loading...&lt;/div&gt;&lt;/Container&gt;;
  if (!question) return &lt;Container&gt;&lt;div style={{ color: '#666666' }}&gt;No question found&lt;/div&gt;&lt;/Container&gt;;

  return (
    &lt;Container&gt;
      &lt;h2&gt;{question.question}&lt;/h2&gt;
      
      {msg.text &amp;&amp; (
        &lt;Message $error={msg.error}&gt;
          {msg.text}
        &lt;/Message&gt;
      )}
      
      &lt;h3&gt;Answers ({answers.length})&lt;/h3&gt;
      
      {answers.length === 0 ? (
        &lt;p&gt;No answers yet. Be the first to answer!&lt;/p&gt;
      ) : (
        answers.map(a =&gt; (
          &lt;AnswerItem key={a._id}&gt;
            {editingAnswerId === a._id ? (
              &lt;EditForm&gt;
                &lt;TextArea
                  rows="4"
                  value={editAnswerText}
                  onChange={e =&gt; setEditAnswerText(e.target.value)}
                /&gt;
                &lt;div style={{ display: 'flex', gap: '10px' }}&gt;
                  &lt;Button size="small" onClick={saveEditedAnswer}&gt;
                    Save
                  &lt;/Button&gt;
                  &lt;Button variant="danger" size="small" onClick={cancelEdit}&gt;
                    Cancel
                  &lt;/Button&gt;
                &lt;/div&gt;
              &lt;/EditForm&gt;
            ) : (
              &lt;&gt;
                &lt;AnswerText&gt;{a.answer}&lt;/AnswerText&gt;
                &lt;AnswerMeta&gt;
                  By {a.userName} on {new Date(a.createdAt).toLocaleString()}
                  {a.updatedAt &amp;&amp; ' (edited)'}
                &lt;/AnswerMeta&gt;
                {user &amp;&amp; user.id === a.userId &amp;&amp; (
                  &lt;AnswerActions&gt;
                    &lt;Button size="small" onClick={() =&gt; startEditAnswer(a)}&gt;
                      Edit
                    &lt;/Button&gt;
                    &lt;Button 
                      variant="danger" 
                      size="small" 
                      onClick={() =&gt; deleteAnswer(a._id)}
                    &gt;
                      Delete
                    &lt;/Button&gt;
                  &lt;/AnswerActions&gt;
                )}
              &lt;/&gt;
            )}
          &lt;/AnswerItem&gt;
        ))
      )}

      &lt;AnswerForm&gt;
        &lt;h3&gt;Post Your Answer&lt;/h3&gt;
        &lt;TextArea
          rows="4"
          placeholder="Your answer..."
          value={newAnswer}
          onChange={e =&gt; setNewAnswer(e.target.value)}
        /&gt;
        &lt;Button size="medium" onClick={postAnswer}&gt;
          Post Answer
        &lt;/Button&gt;
      &lt;/AnswerForm&gt;
    &lt;/Container&gt;
  );
}


import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useUser } from '../context/UserContext';
import Button from '../components/atoms/Button';
import PasswordField from '../components/molecules/PasswordField';
import styled from 'styled-components';
import api from '../services/api';

const RegisterContainer = styled.div`
  max-width: 400px;
  margin: 6rem auto;
  padding: 20px;
  background-color: #000;
  border: 1px solid #00ff00;
  border-radius: 4px;
`;

const Title = styled.h2`
  color: #00ff00;
  text-align: center;
`;

const FormGroup = styled.div`
  margin-bottom: 15px;
`;

const Label = styled.label`
  display: block;
  margin-bottom: 5px;
  color: #00ff00;
`;

const Input = styled.input`
  width: 100%;
  padding: 10px;
  background-color: #111;
  border: 1px solid #00ff00;
  color: #00ff00;
  border-radius: 4px;
`;

const CheckboxContainer = styled.div`
  display: flex;
  align-items: center;
  margin: 15px 0;
`;

const Checkbox = styled.input`
  margin-right: 10px;
`;

const Error = styled.div`
  color: #666666;
  margin-top: 5px;
`;

const Success = styled.div`
  color: #00ff00;
  margin-top: 5px;
`;

const Register = () =&gt; {
  const { login } = useUser();
  const navigate = useNavigate();
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [agreed, setAgreed] = useState(false);
  const [errors, setErrors] = useState({});
  const [success, setSuccess] = useState('');

  const validatePassword = (pwd) =&gt; {
    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&amp;])[A-Za-z\d@$!%*?&amp;]{8,20}$/;
    return regex.test(pwd);
  };

  const handleSubmit = async (e) =&gt; {
    e.preventDefault();
    
    const newErrors = {};
    
    if (!name.trim()) newErrors.name = 'Name is required';
    
    if (!email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(email)) {
      newErrors.email = 'Invalid email format';
    }
    
    if (!password) {
      newErrors.password = 'Password is required';
    } else if (!validatePassword(password)) {
      newErrors.password = 'Password must contain uppercase, lowercase, number and special character';
    }
    
    if (password !== confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    if (!agreed) {
      newErrors.agreed = 'You must agree to keep secrets';
    }
    
    if (Object.keys(newErrors).length &gt; 0) {
      setErrors(newErrors);
      return;
    }
    
    try {
    const response = await api.post('/register', { name, email, password });
    
    if (response.data.token) {
      login(response.data.token, response.data.user);  // Automatinis prisijungimas
      setSuccess('Registration successful!');
      setTimeout(() =&gt; navigate('/'), 2000);
    }
      } catch (err) {
      if (err.response?.data?.message === 'User already exists') {
        setErrors({ email: 'Email already registered' });
      } else {
        setErrors({ general: 'Registration failed. Please try again.' });
      }
    }
  };

  return (
    &lt;RegisterContainer&gt;
      &lt;Title&gt;Create Account&lt;/Title&gt;
      
      &lt;form onSubmit={handleSubmit}&gt;
        &lt;FormGroup&gt;
          &lt;Label&gt;Name&lt;/Label&gt;
          &lt;Input
            type="text"
            value={name}
            onChange={(e) =&gt; setName(e.target.value)}
            placeholder="Enter your name"
          /&gt;
          {errors.name &amp;&amp; &lt;Error&gt;{errors.name}&lt;/Error&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Email&lt;/Label&gt;
          &lt;Input
            type="email"
            value={email}
            onChange={(e) =&gt; setEmail(e.target.value)}
            placeholder="Enter your email"
          /&gt;
          {errors.email &amp;&amp; &lt;Error&gt;{errors.email}&lt;/Error&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Password&lt;/Label&gt;
          &lt;PasswordField 
            value={password}
            onChange={(e) =&gt; setPassword(e.target.value)}
            showPassword={showPassword}
            setShowPassword={setShowPassword}
            placeholder="Enter password"
          /&gt;
          {errors.password &amp;&amp; &lt;Error&gt;{errors.password}&lt;/Error&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Confirm Password&lt;/Label&gt;
          &lt;PasswordField 
            value={confirmPassword}
            onChange={(e) =&gt; setConfirmPassword(e.target.value)}
            showPassword={showPassword}
            setShowPassword={setShowPassword}
            placeholder="Confirm password"
          /&gt;
          {errors.confirmPassword &amp;&amp; &lt;Error&gt;{errors.confirmPassword}&lt;/Error&gt;}
        &lt;/FormGroup&gt;
        
        &lt;CheckboxContainer&gt;
          &lt;Checkbox
            type="checkbox"
            checked={agreed}
            onChange={(e) =&gt; setAgreed(e.target.checked)}
            id="agree"
          /&gt;
          &lt;Label htmlFor="agree"&gt;I agree to keep all secrets&lt;/Label&gt;
        &lt;/CheckboxContainer&gt;
        {errors.agreed &amp;&amp; &lt;Error&gt;{errors.agreed}&lt;/Error&gt;}
        
        {success &amp;&amp; &lt;Success&gt;{success}&lt;/Success&gt;}
        {errors.general &amp;&amp; &lt;Error&gt;{errors.general}&lt;/Error&gt;}
        
        &lt;Button type="submit" size="large" style={{ width: '100%' }}&gt;
          Sign Up
        &lt;/Button&gt;
      &lt;/form&gt;
      
      &lt;div style={{ marginTop: '15px', textAlign: 'center' }}&gt;
        &lt;span style={{ color: '#00ff00' }}&gt;Already have an account? &lt;/span&gt;
        &lt;Button variant="link" onClick={() =&gt; navigate('/login')}&gt;
          Log In
        &lt;/Button&gt;
      &lt;/div&gt;
    &lt;/RegisterContainer&gt;
  );
};

export default Register;

import { useState, useEffect } from 'react';
import { useUser } from '../context/UserContext';
import styled from 'styled-components';
import Button from '../components/atoms/Button';
import api from '../services/api';

const AllContainer = styled.div`
  background-image: url('/src/assets/matrix.png');
  /* height: 100vh; */
  padding: 20px 20px 20px 20px;
`;

const UserContainer = styled.div`
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
  background-color: #000;
  border: 1px solid #00ff00;
  border-radius: 4px;
`;

const Section = styled.section`
  margin-bottom: 2rem;
`;

const Title = styled.h2`
  color: #00ff00;
  border-bottom: 1px solid #00ff00;
  padding-bottom: 0.5rem;
`;

const FormGroup = styled.div`
  margin-bottom: 1rem;
`;

const Label = styled.label`
  display: block;
  margin-bottom: 0.5rem;
  color: #00ff00;
`;

const Input = styled.input`
  width: 100%;
  padding: 0.5rem;
  background-color: #111;
  border: 1px solid #00ff00;
  color: #00ff00;
  font-family: 'Courier New', Courier, monospace;
`;

const PasswordWrapper = styled.div`
  position: relative;
`;

const ToggleVisibility = styled.span`
  position: absolute;
  right: 10px;
  top: 10px;
  cursor: pointer;
  color: #00ff00;
`;

const ErrorMessage = styled.div`
  color: #666666;
  margin-top: 0.5rem;
`;

const SuccessMessage = styled.div`
  color: #00ff00;
  margin-top: 0.5rem;
`;

const User = () =&gt; {
  const { user, updateUser, resetLogoutTimer } = useUser();
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [newPassword, setNewPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [showPasswords, setShowPasswords] = useState(false);
  const [errors, setErrors] = useState({});
  const [success, setSuccess] = useState('');
  const [isEditing, setIsEditing] = useState(false);

  useEffect(() =&gt; {
    resetLogoutTimer?.();
    
    if (user) {
      setName(user.name || '');
      setEmail(user.email || '');
    }
  }, [user, resetLogoutTimer]);

  const validatePassword = (pwd) =&gt; {
    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&amp;])[A-Za-z\d@$!%*?&amp;]{6,20}$/;
    return regex.test(pwd);
  };

  const handleUpdateProfile = async () =&gt; {
    const newErrors = {};
    
    if (!name.trim()) newErrors.name = 'Name is required';
    if (!email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(email)) {
      newErrors.email = 'Invalid email format';
    }
    
    if (Object.keys(newErrors).length &gt; 0) {
      setErrors(newErrors);
      return;
    }
    
    try {
      const response = await api.patch('user/profile', { name, email });
      
      if (response.status === 200) {
        updateUser({ 
        ...user, 
        name: response.data.user.name, 
        email: response.data.user.email 
      });

         // Atnaujinu lokalų state

        setName(response.data.user.name);
        setEmail(response.data.user.email);
        setSuccess('Profile updated successfully');
        setIsEditing(false); // Išjungiu redagavimo režimą
        setTimeout(() =&gt; setSuccess(''), 5000); // Išvalau pranešimą po 5 sekundžių
      }
    } catch (err) {
      setErrors({ 
        general: err.response?.data?.message || 'Failed to update profile' 
      });
    }
  };

  const handleChangePassword = async () =&gt; {
    const newErrors = {};
    
    if (!password) newErrors.password = 'Current password is required';
    
    if (!newPassword) {
      newErrors.newPassword = 'New password is required';
    } else if (!validatePassword(newPassword)) {
      newErrors.newPassword = 'Password must contain uppercase, lowercase, number and special character';
    }
    
    if (newPassword !== confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    if (Object.keys(newErrors).length &gt; 0) {
      setErrors(newErrors);
      return;
    }
    
    try {
      const response = await api.patch('user/password', {
        currentPassword: password,
        newPassword
      });
      
      if (response.status === 200) {
        setSuccess('Password changed successfully');
        setPassword('');
        setNewPassword('');
        setConfirmPassword('');
        
        // Išvalau pranešimą po 5 sekundžių

        setTimeout(() =&gt; setSuccess(''), 5000);
      }
    } catch (err) {
      setErrors({ 
        general: err.response?.data?.message || 'Failed to change password' 
      });
    }
  };

  return (
    &lt;AllContainer&gt;
    &lt;UserContainer&gt;
      &lt;Section&gt;
        &lt;Title&gt;User Profile&lt;/Title&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Name&lt;/Label&gt;
          &lt;Input
            type="text"
            value={name}
            onChange={(e) =&gt; setName(e.target.value)}
            disabled={!isEditing}
          /&gt;
          {errors.name &amp;&amp; &lt;ErrorMessage&gt;{errors.name}&lt;/ErrorMessage&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Email&lt;/Label&gt;
          &lt;Input
            type="email"
            value={email}
            onChange={(e) =&gt; setEmail(e.target.value)}
            disabled={!isEditing}
          /&gt;
          {errors.email &amp;&amp; &lt;ErrorMessage&gt;{errors.email}&lt;/ErrorMessage&gt;}
        &lt;/FormGroup&gt;
        
        {!isEditing ? (
          &lt;Button onClick={() =&gt; setIsEditing(true)}&gt;Edit Profile&lt;/Button&gt;
        ) : (
          &lt;div style={{ display: 'flex', gap: '10px', marginTop: '1rem' }}&gt;
            &lt;Button onClick={handleUpdateProfile}&gt;Save Changes&lt;/Button&gt;
            &lt;Button 
              variant="danger" 
              onClick={() =&gt; {
                setIsEditing(false);
                setName(user.name);
                setEmail(user.email);
                setErrors({});
              }}
            &gt;
              Cancel
            &lt;/Button&gt;
          &lt;/div&gt;
        )}
      &lt;/Section&gt;

      &lt;Section&gt;
        &lt;Title&gt;Change Password&lt;/Title&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Current Password&lt;/Label&gt;
          &lt;PasswordWrapper&gt;
            &lt;Input
              type={showPasswords ? 'text' : 'password'}
              value={password}
              onChange={(e) =&gt; setPassword(e.target.value)}  
              placeholder="Enter current password"
            /&gt;
            &lt;ToggleVisibility onClick={() =&gt; setShowPasswords(!showPasswords)}&gt;
              {showPasswords ? '👁️' : '🙈'}
            &lt;/ToggleVisibility&gt;
          &lt;/PasswordWrapper&gt;
          {errors.password &amp;&amp; &lt;ErrorMessage&gt;{errors.password}&lt;/ErrorMessage&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;New Password&lt;/Label&gt;
          &lt;PasswordWrapper&gt;
            &lt;Input
              type={showPasswords ? 'text' : 'password'}
              value={newPassword}
              onChange={(e) =&gt; setNewPassword(e.target.value)}
              placeholder="Enter new password"
            /&gt;
          &lt;/PasswordWrapper&gt;
          {errors.newPassword &amp;&amp; &lt;ErrorMessage&gt;{errors.newPassword}&lt;/ErrorMessage&gt;}
        &lt;/FormGroup&gt;
        
        &lt;FormGroup&gt;
          &lt;Label&gt;Confirm New Password&lt;/Label&gt;
          &lt;PasswordWrapper&gt;
            &lt;Input
              type={showPasswords ? 'text' : 'password'}
              value={confirmPassword}
              onChange={(e) =&gt; setConfirmPassword(e.target.value)}
              placeholder="Confirm new password"
            /&gt;
          &lt;/PasswordWrapper&gt;
          {errors.confirmPassword &amp;&amp; &lt;ErrorMessage&gt;{errors.confirmPassword}&lt;/ErrorMessage&gt;}
        &lt;/FormGroup&gt;
        
        &lt;Button onClick={handleChangePassword}&gt;Change Password&lt;/Button&gt;
      &lt;/Section&gt;
      
      {success &amp;&amp; &lt;SuccessMessage&gt;{success}&lt;/SuccessMessage&gt;}
      {errors.general &amp;&amp; &lt;ErrorMessage&gt;{errors.general}&lt;/ErrorMessage&gt;}
    &lt;/UserContainer&gt;
    &lt;/AllContainer&gt;
  );
};

export default User;

import axios from 'axios';

const api = axios.create({
  baseURL: 'http://localhost:5500/api',
});

// Automatiškai prideda tokeną prie užklausų

api.interceptors.request.use(config =&gt; {
  const token = localStorage.getItem('quantum_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Klaidų apdorojimas

api.interceptors.response.use(
  response =&gt; response,
  error =&gt; {
    if (error.response?.status === 401) {
      // Automatinis atsijungimas jei tokenas nebegalioja
      localStorage.removeItem('quantum_token');
      // Priverstinis puslapio perkrovimas, kad būtų aktyvuotas logout
      window.location.reload();
    }
    return Promise.reject(error);
  }
);

export default api;

import React, { useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { UserProvider } from './context/UserContext';
import { useUser } from './context/UserContext';
import MainOutlet from './components/MainOutlet';
import ErrorBoundary from './components/ErrorBoundary';
import Home from './pages/Home';
import Login from './pages/Login';
import Register from './pages/Register';
import Forum from './pages/Forum';
import Ask from './pages/Ask';
import User from './pages/User';
import QuestionDetail from './pages/QuestionDetail'; 
import styled from 'styled-components';

const AppContainer = styled.div`
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #000;
  color: #00ff00;
  font-family: 'Courier New', Courier, monospace;
`;

const AutoLogoutHandler = ({ children }) =&gt; {
  const { resetLogoutTimer } = useUser();

  useEffect(() =&gt; {
    const resetTimer = () =&gt; resetLogoutTimer?.();
    
    const events = ['mousemove', 'keydown', 'scroll', 'click', 'touchstart'];
    events.forEach(event =&gt; window.addEventListener(event, resetTimer));
    
    return () =&gt; {
      events.forEach(event =&gt; window.removeEventListener(event, resetTimer));
    };
  }, [resetLogoutTimer]);

  return children;
};

function App() {
  return (
    &lt;UserProvider&gt;
      &lt;ErrorBoundary&gt;
      &lt;AutoLogoutHandler&gt;
        &lt;Router&gt;
          &lt;AppContainer&gt;
            &lt;Routes&gt;
              &lt;Route element={&lt;MainOutlet /&gt;}&gt;
                &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
                &lt;Route path="/forum" element={&lt;Forum /&gt;} /&gt;
                &lt;Route path="/ask" element={&lt;Ask /&gt;} /&gt;
                &lt;Route path="/user" element={&lt;User /&gt;} /&gt;
                &lt;Route path="/question/:id" element={&lt;QuestionDetail /&gt;} /&gt;
              &lt;/Route&gt;
              &lt;Route path="/login" element={&lt;Login /&gt;} /&gt;
              &lt;Route path="/register" element={&lt;Register /&gt;} /&gt;
              &lt;Route path="*" element={&lt;Navigate to="/" replace /&gt;} /&gt;
            &lt;/Routes&gt;
          &lt;/AppContainer&gt;
        &lt;/Router&gt;
      &lt;/AutoLogoutHandler&gt;
      &lt;/ErrorBoundary&gt;
    &lt;/UserProvider&gt;
  );
}

export default App;

import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  &lt;StrictMode&gt;
    &lt;App /&gt;
  &lt;/StrictMode&gt;,
)



Problemos"

1. Yra funkcijos ir kodai, kad po 5 min nieko nedarymo atsijungtų atsilogintų automatiškai. Po 5 min neaktyvymo atsijungia. Tačiau reikia, kad atsijungus persikrautų ekranas ir nunaviguotų į Home puslapį. Ir iššoktų modalas su užtašu login timed out su mygtuku Ok. Pspaudus myhtuką ok išsijungia modalas. Modalą ir mygtuką reikia paimti molecules
4. Puslapyje Forum kalusimų ir atsakymų laukas atvaizduojami iš Mongo db. Galima Spausti like ir atvaizduojama, kad like skaičius padidėjo. Paspaudus unlike like skaičius sumažėja, bet unlike nepasikeičia. Reikia pataisyti. Prie unlike atsiranda užtaįas edited. Jo čia nereikai niekada. Atsakymai į klausimą rodomi po klausimu tame pačiame lauke. Tai labai gerai. Tačiau nerašo kas atsakė į klausimą. Rašo tik raidę A. Reikia, kad vietoj A būtų User name, kuris atsakė į klausimą ir datą kada atsakyta. Jei buvo atsakymas koreguotas reikia, kad butų salia parasyta kad edited ir pasikeistų data kada buvo edited. Taip pat nerodo kas uždavė klausimą. Rodo taip: Author: • 2025-06-09. Reikia kad rodytų. Dtata gerai, kad rodo. Jei buvo klausimas koreguotas reikia, kad butų salia parasyta kad edited ir pasikeistų data kada buvo edited. Prie klausimo atvaizduoja atsakymus, tačiau nevisus. Yra parašyta +more answers. Tačiau paspaudus ant more answers niekas nevyksta. Reikia, kad paspaudus ant more answers padidėtų laukas ir jame rodytų visus atsakymus.  Backend viskas veika, nes tikrinta su Postman. Frontend negauna kalusimu ir atsakymu info iš MongoDb Reikia sutvarkyti Frontend. Nera galimybės atsakyti į klausimą. Nera jokio mygtuko. Reikia, kad atsirastų užrašas Answer ir paspaudus mygtuką answer arba paspaudus ant lauko būtų galimybė atsakyti į klausimą.

Naršyklės konsolėje klaidų nėra. 


Esami failų road map:

client/
└── src/
    ├── assets/
    │   └── matrix.png
    ├── components/
    │   ├── atoms/
    │   │   ├── Button.jsx
    │   │   ├── Input.jsx
    │   │   └── SearchBar.jsx
    │   ├── molecules/
    │   │   ├── InputField.jsx
    │   │   ├── Modal.jsx
    │   │   ├── PasswordField.jsx
    │   │   └── QuestionCard.jsx
    │   │   └── Pagination.jsx
    │   └── organisms/
    │       ├── Header.jsx
    │       └── Footer.jsx
    ├── context/
    │   └── UserContext.jsx     &lt;-- Autentifikacija ir user duomenų laikymas
    ├── pages/
    │   ├── Home.jsx            &lt;-- Titulinis, su fono nuotrauka ir metų filtru
    │   ├── Forum.jsx           &lt;-- Klausimų sąrašas (naudojamas QuestionCard)
    │   ├── Ask.jsx             &lt;-- Naujo klausimo forma
    │   ├── User.jsx            &lt;-- Asmeniniai klausimai / atsakymai
    │   ├── Login.jsx           &lt;-- Prisijungimo forma
    │   └── Register.jsx        &lt;-- Registracijos forma
    │   └── QuestionDetail.jsx        
    ├── services/
    │   └── api.js              &lt;-- Fetch/axios funkcijos
    ├── MainOutlet.jsx          &lt;-- Bendras "layout" su &lt;Header&gt; ir &lt;Outlet&gt;
    ├── App.jsx                 &lt;-- React Router konfiguracija
    ├── main.jsx                &lt;-- Entry point (ReactDOM)
    ├── App.css / index.css     &lt;-- Globalūs CSS


server/
├── controllers/
│   ├── userController.js         &lt;-- Registracija, login, user duomenys
│   ├── questionController.js     &lt;-- CRUD klausimams
│   └── answerController.js       &lt;-- CRUD atsakymams
├── routes/
│   ├── userRoutes.js             &lt;-- /api/users maršrutai
│   ├── questionRoutes.js         &lt;-- /api/questions maršrutai
│   └── answerRoutes.js           &lt;-- /api/answers maršrutai
├── middleware/
│   └── authMiddleware.js         &lt;-- Middleware JWT/token patikrinimui        
├── index.js                      &lt;-- Express app su visais middleware ir routes
├── .env                          &lt;-- Portai, slapti raktai
├── .gitignore
├── README.md
├── package.json
└── package-lock.json

Reikia viską sutvarkyti, kad veiktų. Atsakymus parik aiškiai kaip mokytojas mokiniui, kads suprasčiau.</div><div class="e13328ad _3a26104"><div class="_425ea0b"><div class="ds-flex _78e0558 _0bbda35" style="align-items: flex-end; gap: 0px;"><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px; margin-left: 14px; opacity: 1;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.712 2.79a1.854 1.854 0 0 1 2.623 0l1.673 1.672a1.854 1.854 0 0 1 0 2.623l-9.714 9.714a2.91 2.91 0 0 1-2.058.853H1.945a.8.8 0 0 1-.8-.8v-2.29c0-.773.307-1.513.853-2.058l9.714-9.715zm1.492 1.13c-.1-.1-.261-.1-.361 0l-1.327 1.326 2.035 2.035 1.327-1.326c.1-.1.1-.262 0-.362L13.204 3.92zm-.783 4.491l-2.035-2.034-7.258 7.257a1.31 1.31 0 0 0-.384.927v1.492h1.492c.348 0 .681-.138.927-.384l7.258-7.258z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.772 17.608c.35 0 .633-.283.633-.633v-.492a.633.633 0 0 0-.633-.633H9.858L8.1 17.608h9.672z" fill="currentColor"></path></svg></div></div></div></div></div></div><div class="_4f9bf79 d7dc56a8 _43c05b5"><div class="_7eb2358 _58dfa60"><svg viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="path" d="M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z" fill-rule="nonzero" fill="#4D6BFE"></path></svg></div><div class="_48edb25"><div class="_58a6d71 _19db599"><div class="ds-icon _7580acb" style="font-size: 12px; width: 12px; height: 12px;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z" fill="currentColor" stroke="currentColor" stroke-width=".1"></path><path d="M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z" fill="currentColor" stroke="currentColor" stroke-width=".2"></path></svg></div>Thought for 304 seconds<div class="ds-icon _54f4262" style="font-size: 10px; width: 10px; height: 10px; transform: rotate(180deg);"><svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.786 4.167L2.765 1.259c-.416-.4-.985-.482-1.273-.183-.287.298-.183.864.233 1.264l3.021 2.908c.416.4.986.482 1.273.184.287-.299.183-.865-.233-1.265z" fill="currentColor"></path><path d="M8.197 1.206L5.288 4.208c-.4.413-.484.982-.187 1.27.298.289.864.187 1.265-.227L9.274 2.25c.401-.414.485-.983.187-1.271-.297-.288-.863-.187-1.264.227z" fill="currentColor"></path></svg></div></div><div class="e1675d8b"><div class="_9ecc93a"></div><p class="ba94db8a">We are going to address the issues one by one.</p><p class="ba94db8a"></p><p class="ba94db8a">1. Auto Logout and Redirect:</p><p class="ba94db8a">- We have an `AutoLogoutHandler` that resets the timer on user activity. We need to trigger a logout and redirect when the timer expires.</p><p class="ba94db8a">- We'll set up a context function to handle logout and then use it in the `AutoLogoutHandler` to redirect and show a modal.</p><p class="ba94db8a"></p><p class="ba94db8a">Steps:</p><p class="ba94db8a">a. In `UserContext`, when setting the logout timer, we will store a function that does:</p><p class="ba94db8a">- Logout (clear token and user)</p><p class="ba94db8a">- Set a state to show a modal (or we can use a global state? But we don't have one. Alternatively, we can use a state in `App` and pass down? But context is already global.)</p><p class="ba94db8a"></p><p class="ba94db8a">b. We don't have a modal in the entire app. So let's create a modal in `App` component that can be triggered by context.</p><p class="ba94db8a"></p><p class="ba94db8a">However, to keep it simple, we might do:</p><p class="ba94db8a"></p><p class="ba94db8a">In `UserContext`:</p><p class="ba94db8a">- Add a state `logoutModalOpen` and set it to false initially.</p><p class="ba94db8a">- When the timer expires, set `logoutModalOpen` to true and then after a while redirect? But the requirement says: show a modal with a button.</p><p class="ba94db8a"></p><p class="ba94db8a">We don't want to block the entire app. So we can have:</p><p class="ba94db8a"></p><p class="ba94db8a">state = { ... , logoutModalOpen: false }</p><p class="ba94db8a"></p><p class="ba94db8a">In the context provider, when the timer expires, we set `logoutModalOpen` to true.</p><p class="ba94db8a"></p><p class="ba94db8a">Then in the `App` component (or in the `MainOutlet`), we can conditionally render the modal.</p><p class="ba94db8a"></p><p class="ba94db8a">But the `UserContext` is used in `App` and we can't render a modal from the context. So we can return the modal from the `UserProvider`'s children and use a portal? Or we can create a component that listens to the context and shows the modal.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can have a `LogoutModal` component that uses the context and is placed in `App`.</p><p class="ba94db8a"></p><p class="ba94db8a">Let's create a `LogoutModal` component that uses `UserContext` and shows the modal when `logoutModalOpen` is true.</p><p class="ba94db8a"></p><p class="ba94db8a">Steps for 1:</p><p class="ba94db8a"></p><p class="ba94db8a">- In `UserContext`:</p><p class="ba94db8a">state: `logoutModalOpen: false`</p><p class="ba94db8a">In the `startTimer` function, when the timer expires, set `logoutModalOpen` to true.</p><p class="ba94db8a">Also, when the timer expires, we should clear the user and token? Or wait until the user clicks OK? The requirement says: after 5 minutes of inactivity, log out and show a modal. So we should log out (clear token) and then show the modal? Or show the modal and then on OK, log out?</p><p class="ba94db8a"></p><p class="ba94db8a">Actually, the requirement: "Po 5 min neaktyvymo atsijungia. Tačiau reikia, kad atsijungus persikrautų ekranas ir nunaviguotų į Home puslapį. Ir iššoktų modalas su užtašu login timed out su mygtuku Ok."</p><p class="ba94db8a"></p><p class="ba94db8a">So:</p><p class="ba94db8a">Step 1: After 5 min of inactivity, log out (clear token and user context) and then show a modal that says "Login timed out" with an OK button.</p><p class="ba94db8a">Step 2: When OK is clicked, close the modal and redirect to home (if not already there).</p><p class="ba94db8a"></p><p class="ba94db8a">But note: we are already logged out, so the app will re-render and show the home page (with login/register buttons). We just want to show a modal on top of whatever page we were on, and then when OK is clicked, close the modal.</p><p class="ba94db8a"></p><p class="ba94db8a">Implementation:</p><p class="ba94db8a"></p><p class="ba94db8a">In `UserContext`:</p><p class="ba94db8a">state = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">logoutModalOpen: false</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">In the `handleLogout` function (which we already call on timer), we set `logoutModalOpen: true` and also clear the token and set user to null.</p><p class="ba94db8a"></p><p class="ba94db8a">Then we provide a function to close the modal.</p><p class="ba94db8a"></p><p class="ba94db8a">In `App` component, we can have:</p><p class="ba94db8a"></p><p class="ba94db8a">const { logoutModalOpen, closeLogoutModal } = useUser();</p><p class="ba94db8a"></p><p class="ba94db8a">And render the modal conditionally.</p><p class="ba94db8a"></p><p class="ba94db8a">But the `App` component is not under the `UserProvider`? Actually, it is. The `App` is wrapped by `UserProvider`.</p><p class="ba94db8a"></p><p class="ba94db8a">So we can create a `LogoutModal` component and put it in `App`:</p><p class="ba94db8a"></p><p class="ba94db8a">function LogoutModal() {</p><p class="ba94db8a">const { logoutModalOpen, closeLogoutModal } = useUser();</p><p class="ba94db8a">const navigate = useNavigate();</p><p class="ba94db8a"></p><p class="ba94db8a">const handleClose = () =&gt; {</p><p class="ba94db8a">closeLogoutModal();</p><p class="ba94db8a">navigate('/');</p><p class="ba94db8a">};</p><p class="ba94db8a"></p><p class="ba94db8a">return (</p><p class="ba94db8a">&lt;Modal</p><p class="ba94db8a">isOpen={logoutModalOpen}</p><p class="ba94db8a">onClose={handleClose}</p><p class="ba94db8a">title="Session Expired"</p><p class="ba94db8a">message="Your session has expired due to inactivity. Please log in again."</p><p class="ba94db8a">confirmText="OK"</p><p class="ba94db8a">onConfirm={handleClose}</p><p class="ba94db8a">/&gt;</p><p class="ba94db8a">);</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">And place it in `App`:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;AppContainer&gt;</p><p class="ba94db8a">... routes</p><p class="ba94db8a">&lt;LogoutModal /&gt;</p><p class="ba94db8a">&lt;/AppContainer&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">How to set `logoutModalOpen` in context?</p><p class="ba94db8a"></p><p class="ba94db8a">In `UserContext`:</p><p class="ba94db8a"></p><p class="ba94db8a">const [state, dispatch] = useReducer(reducer, { ...initialState, logoutModalOpen: false });</p><p class="ba94db8a"></p><p class="ba94db8a">function reducer(state, action) {</p><p class="ba94db8a">switch (action.type) {</p><p class="ba94db8a">... existing</p><p class="ba94db8a">case ACTIONS.OPEN_LOGOUT_MODAL:</p><p class="ba94db8a">return { ...state, logoutModalOpen: true };</p><p class="ba94db8a">case ACTIONS.CLOSE_LOGOUT_MODAL:</p><p class="ba94db8a">return { ...state, logoutModalOpen: false };</p><p class="ba94db8a">}</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">In `handleLogout` (which is called when the timer expires or manually):</p><p class="ba94db8a">We already clear the token and set user to null. Then we also dispatch OPEN_LOGOUT_MODAL.</p><p class="ba94db8a"></p><p class="ba94db8a">We provide `closeLogoutModal` = () =&gt; dispatch({ type: ACTIONS.CLOSE_LOGOUT_MODAL })</p><p class="ba94db8a"></p><p class="ba94db8a">But note: we are already logging out in the timer. So we just need to show the modal after logout.</p><p class="ba94db8a"></p><p class="ba94db8a">However, we don't want to show the modal on manual logout? We can adjust: only when the logout is caused by timeout.</p><p class="ba94db8a"></p><p class="ba94db8a">Let's add a reason to `handleLogout`:</p><p class="ba94db8a"></p><p class="ba94db8a">handleLogout = (reason) =&gt; {</p><p class="ba94db8a">... clear token, dispatch LOGOUT</p><p class="ba94db8a">if (reason === 'timeout') {</p><p class="ba94db8a">dispatch({ type: ACTIONS.OPEN_LOGOUT_MODAL });</p><p class="ba94db8a">}</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">And in the timer:</p><p class="ba94db8a"></p><p class="ba94db8a">logoutTimer.current = setTimeout(() =&gt; handleLogout('timeout'), timeUntilExpiration);</p><p class="ba94db8a"></p><p class="ba94db8a">And in the manual logout (like the logout button) we call `handleLogout()` without reason.</p><p class="ba94db8a"></p><p class="ba94db8a">But we already have `handleLogout` without parameters. Let's change it to accept an object: `{ reason }`.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can have two functions: `logout` (manual) and `timeoutLogout`.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll adjust:</p><p class="ba94db8a"></p><p class="ba94db8a">const handleLogout = (options = {}) =&gt; {</p><p class="ba94db8a">const { isTimeout = false } = options;</p><p class="ba94db8a"></p><p class="ba94db8a">localStorage.removeItem('quantum_token');</p><p class="ba94db8a">dispatch({ type: ACTIONS.LOGOUT });</p><p class="ba94db8a"></p><p class="ba94db8a">if (isTimeout) {</p><p class="ba94db8a">dispatch({ type: ACTIONS.OPEN_LOGOUT_MODAL });</p><p class="ba94db8a">}</p><p class="ba94db8a">};</p><p class="ba94db8a"></p><p class="ba94db8a">Then in the timer: handleLogout({ isTimeout: true });</p><p class="ba94db8a"></p><p class="ba94db8a">And in the manual logout: handleLogout();</p><p class="ba94db8a"></p><p class="ba94db8a">We also need to reset the logoutModalOpen when we log in again? Probably not, because we are leaving the modal open until the user clicks OK. But if the user logs in again without clicking OK? We can close the modal on login.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can close the modal when the user navigates to home (as we do in the OK button).</p><p class="ba94db8a"></p><p class="ba94db8a">Let's implement step by step.</p><p class="ba94db8a"></p><p class="ba94db8a">Steps:</p><p class="ba94db8a"></p><p class="ba94db8a">a. Extend the context to handle the logout modal state and actions.</p><p class="ba94db8a">b. In the timer expiration, call `handleLogout({ isTimeout: true })`.</p><p class="ba94db8a">c. Create a `LogoutModal` component that uses the context to check if the modal should be open and to close it.</p><p class="ba94db8a">d. Place the `LogoutModal` in the `App` component.</p><p class="ba94db8a"></p><p class="ba94db8a">2. Forum Page: Like/Unlike functionality and display issues.</p><p class="ba94db8a"></p><p class="ba94db8a">a. Like/Unlike:</p><p class="ba94db8a">- Currently, when we like, we are only incrementing the like count. We are not decrementing the dislike count if the user had disliked before? And vice versa.</p><p class="ba94db8a">- Also, we are not toggling. We should check if the user has already liked. If yes, then remove the like.</p><p class="ba94db8a"></p><p class="ba94db8a">We need to adjust the backend? The backend currently:</p><p class="ba94db8a"></p><p class="ba94db8a">likeQuestion:</p><p class="ba94db8a">- Checks if the user has already liked? (It checks the `likedBy` array for the user ID)</p><p class="ba94db8a">- If already liked, it returns an error? But we don't want to return an error, we want to remove the like.</p><p class="ba94db8a"></p><p class="ba94db8a">Actually, the backend for like:</p><p class="ba94db8a"></p><p class="ba94db8a">if (question.likedBy?.includes(userId)) {</p><p class="ba94db8a">return res.status(400).json({ message: 'You have already liked this question' });</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">So we cannot unlike by hitting the same endpoint. We need an unlike endpoint? Or we can have a toggle.</p><p class="ba94db8a"></p><p class="ba94db8a">We don't have an unlike endpoint. So we need to change the backend to allow toggling.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can have a single endpoint for toggling like and dislike? Or we can have:</p><p class="ba94db8a"></p><p class="ba94db8a">POST /questions/:id/like -&gt; if already liked, then unlike (remove the like and remove user from likedBy, and add to dislikedBy if needed? No, that's a separate action).</p><p class="ba94db8a"></p><p class="ba94db8a">But the requirement: when clicking like, if already liked, then remove the like. If not, then like and remove any dislike.</p><p class="ba94db8a"></p><p class="ba94db8a">We can change the backend for like:</p><p class="ba94db8a"></p><p class="ba94db8a">Instead of returning error if already liked, we remove the like.</p><p class="ba94db8a"></p><p class="ba94db8a">Steps:</p><p class="ba94db8a"></p><p class="ba94db8a">If the user has already liked (user is in `likedBy`), then:</p><p class="ba94db8a">$pull: { likedBy: userId }</p><p class="ba94db8a">$inc: { likes: -1 }</p><p class="ba94db8a"></p><p class="ba94db8a">Else:</p><p class="ba94db8a">$addToSet: { likedBy: userId }   (but we need to remove from dislikedBy if present)</p><p class="ba94db8a">$inc: { likes: 1 }</p><p class="ba94db8a">$pull: { dislikedBy: userId }</p><p class="ba94db8a">$inc: { dislikes: -1 }   // if the user had disliked before, remove that dislike</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly for dislike.</p><p class="ba94db8a"></p><p class="ba94db8a">This becomes complex. Alternatively, we can have a single endpoint for "reaction" that accepts the reaction type (like, dislike, none) and updates accordingly.</p><p class="ba94db8a"></p><p class="ba94db8a">But due to time, we might change the frontend to not allow multiple likes? And provide an unlike button? Or we change the backend to toggle.</p><p class="ba94db8a"></p><p class="ba94db8a">We don't have time to change the backend. So we will create two new endpoints for removing a like and removing a dislike? Or we can have one endpoint that toggles.</p><p class="ba94db8a"></p><p class="ba94db8a">Given the time, let's change the frontend to not show the like button again if already liked? But the requirement says: when clicking the same button again, it should remove the like.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll change the backend for like and dislike to allow toggling:</p><p class="ba94db8a"></p><p class="ba94db8a">For like:</p><p class="ba94db8a"></p><p class="ba94db8a">Check if the user is in `likedBy`:</p><p class="ba94db8a">If yes: remove the like (pull user from likedBy, decrement likes by 1)</p><p class="ba94db8a">If no:</p><p class="ba94db8a">add the like (push user to likedBy, increment likes by 1)</p><p class="ba94db8a">if the user is in `dislikedBy`: remove the dislike (pull from dislikedBy, decrement dislikes by 1)</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly for dislike.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll update the controllers:</p><p class="ba94db8a"></p><p class="ba94db8a">likeQuestion:</p><p class="ba94db8a"></p><p class="ba94db8a">const userId = req.user.id;</p><p class="ba94db8a">const question = await db.collection('questions').findOne({ _id: id });</p><p class="ba94db8a"></p><p class="ba94db8a">if (!question) {</p><p class="ba94db8a">return res.status(404).json({ message: 'Question not found' });</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">const isLiked = question.likedBy?.includes(userId);</p><p class="ba94db8a">const isDisliked = question.dislikedBy?.includes(userId);</p><p class="ba94db8a"></p><p class="ba94db8a">const update = {};</p><p class="ba94db8a"></p><p class="ba94db8a">if (isLiked) {</p><p class="ba94db8a">// Already liked: remove like</p><p class="ba94db8a">update.$pull = { likedBy: userId };</p><p class="ba94db8a">update.$inc = { likes: -1 };</p><p class="ba94db8a">} else {</p><p class="ba94db8a">// Add like</p><p class="ba94db8a">update.$addToSet = { likedBy: userId };</p><p class="ba94db8a">update.$inc = { likes: 1 };</p><p class="ba94db8a"></p><p class="ba94db8a">// If disliked, remove dislike</p><p class="ba94db8a">if (isDisliked) {</p><p class="ba94db8a">update.$pull = { ...update.$pull, dislikedBy: userId };</p><p class="ba94db8a">update.$inc.dislikes = -1; // if we are also incrementing likes, so we do dislikes: -1</p><p class="ba94db8a">}</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">await db.collection('questions').updateOne(</p><p class="ba94db8a">{ _id: id },</p><p class="ba94db8a">update</p><p class="ba94db8a">);</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly for dislike.</p><p class="ba94db8a"></p><p class="ba94db8a">We must update both controllers.</p><p class="ba94db8a"></p><p class="ba94db8a">But note: the frontend currently sends a POST to `like` and `dislike` separately. We can keep the same endpoints and change their behavior to toggle.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll update the backend accordingly.</p><p class="ba94db8a"></p><p class="ba94db8a">b. Display issues:</p><p class="ba94db8a"></p><p class="ba94db8a">- The answer card: it only shows "A: answer content". We want to show the user name and date.</p><p class="ba94db8a"></p><p class="ba94db8a">In `QuestionCard` component, we are mapping answers:</p><p class="ba94db8a"></p><p class="ba94db8a">{questionData.answers?.slice(0, 3).map((answer) =&gt; (</p><p class="ba94db8a">&lt;div key={answer._id || Math.random()} style={{ marginTop: '10px', color: '#00ff00' }}&gt;</p><p class="ba94db8a">&lt;strong&gt;A:&lt;/strong&gt; {answer.answer}</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a">))}</p><p class="ba94db8a"></p><p class="ba94db8a">We should change to:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;div ...&gt;</p><p class="ba94db8a">&lt;strong&gt;{answer.userName}:&lt;/strong&gt; {answer.answer}</p><p class="ba94db8a">&lt;div style={{ fontSize: '0.8em', color: '#666' }}&gt;</p><p class="ba94db8a">{new Date(answer.createdAt).toLocaleString()}</p><p class="ba94db8a">{answer.updatedAt &amp;&amp; ' (edited)'}</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">- Also, the question's author and date: currently it says:</p><p class="ba94db8a"></p><p class="ba94db8a">Author: {questionData.userName} • {new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">But if the question has been updated, we want to show (edited) and the updated date? Or just the updated date? The requirement: if edited, show (edited) and change the date to the updated date? Or show both?</p><p class="ba94db8a"></p><p class="ba94db8a">We are currently showing the creation date. We can do:</p><p class="ba94db8a"></p><p class="ba94db8a">{questionData.updatedAt ? new Date(questionData.updatedAt).toLocaleDateString() + ' (edited)' : new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">- For the answers in the detail page (`QuestionDetail`), we already show the user name and date and (edited) if updated. But in the `Forum` page (the card) we are only showing a preview.</p><p class="ba94db8a"></p><p class="ba94db8a">- The "more answers" link: currently it's just text. We want it to expand the card? But the card is in a list. We can make the entire card clickable to go to the question detail? Then we don't need to expand.</p><p class="ba94db8a"></p><p class="ba94db8a">We already have an `onClick` on the card that navigates to the question detail. So the "more answers" is redundant? We can remove it because clicking the card goes to the detail page where all answers are shown.</p><p class="ba94db8a"></p><p class="ba94db8a">But the requirement says: paspaudus ant more answers padidėtų laukas. We can change the card to have a "See all answers" button that expands? But we don't have the design for that.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we remove the "more answers" text and rely on the card click.</p><p class="ba94db8a"></p><p class="ba94db8a">We are currently showing:</p><p class="ba94db8a"></p><p class="ba94db8a">{questionData.answers?.length &gt; 3 &amp;&amp; (</p><p class="ba94db8a">&lt;div style={{ color: '#00ff00', marginTop: '5px' }}&gt;</p><p class="ba94db8a">+{questionData.answers.length - 3} more answers</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a">)}</p><p class="ba94db8a"></p><p class="ba94db8a">We can remove this and instead just show the first answer? Or leave it as a hint that there are more, and the user can click the card to see all.</p><p class="ba94db8a"></p><p class="ba94db8a">- Ability to answer: in the `Forum` page, we don't have an answer form. We have the question card and then the user can click the card to go to the detail page and answer there.</p><p class="ba94db8a"></p><p class="ba94db8a">The requirement: "Nera galimybės atsakyti į klausimą. Nera jokio mygtuko."</p><p class="ba94db8a"></p><p class="ba94db8a">So we need to add an answer button in the card? But that would make the card too big. We decided to have the answer form in the detail page. So the answer functionality is in `QuestionDetail`.</p><p class="ba94db8a"></p><p class="ba94db8a">Therefore, we must ensure that the user can navigate to the question detail by clicking the card. And in the detail page, there is an answer form.</p><p class="ba94db8a"></p><p class="ba94db8a">We already have that. So the issue is that the user doesn't know to click? We can make the card clickable and in the detail page we have the answer form.</p><p class="ba94db8a"></p><p class="ba94db8a">c. The question card does not show the author name? It does:</p><p class="ba94db8a"></p><p class="ba94db8a">Author: {questionData.userName} • {new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">But if the question was edited, we don't show the updated date. We can change to:</p><p class="ba94db8a"></p><p class="ba94db8a">Author: {questionData.userName} •</p><p class="ba94db8a">{questionData.updatedAt</p><p class="ba94db8a">? new Date(questionData.updatedAt).toLocaleDateString() + ' (edited)'</p><p class="ba94db8a">: new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">d. Also, the like and dislike buttons in the `QuestionCard` are not working properly? We are passing `onLike` and `onDislike` to the `QuestionCard`. In the `Forum` page, we have:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;QuestionCard</p><p class="ba94db8a">...</p><p class="ba94db8a">onLike={() =&gt; handleLike(q._id)}</p><p class="ba94db8a">onDislike={() =&gt; handleDislike(q._id)}</p><p class="ba94db8a">/&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">And the `handleLike` and `handleDislike` functions are defined in `Forum`. They make an API call and then update the state.</p><p class="ba94db8a"></p><p class="ba94db8a">But the update is not reflecting because we are not updating the state correctly? We are doing:</p><p class="ba94db8a"></p><p class="ba94db8a">setQuestions(prev =&gt; prev.map(q =&gt;</p><p class="ba94db8a">q._id === questionId ? { ...q,</p><p class="ba94db8a">likes: (q.likes || 0) + 1,</p><p class="ba94db8a">dislikes: q.userDisliked ? (q.dislikes || 0) - 1 : q.dislikes,</p><p class="ba94db8a">userLiked: true,</p><p class="ba94db8a">userDisliked: false } : q</p><p class="ba94db8a">));</p><p class="ba94db8a"></p><p class="ba94db8a">This assumes that the user had disliked before? But we don't have `userDisliked` in the state. We don't store that in the frontend. We need to get the updated question from the backend? Or we can do optimistic update.</p><p class="ba94db8a"></p><p class="ba94db8a">Since we are toggling, we should refetch the question after the like/dislike? Or we can update based on the response.</p><p class="ba94db8a"></p><p class="ba94db8a">We don't have the updated counts in the response. So we can refetch the questions? Or we can refetch that one question.</p><p class="ba94db8a"></p><p class="ba94db8a">But we are in a list. We can refetch the entire list? That would be heavy.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can change the backend to return the updated question in the response? We don't have time.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll do:</p><p class="ba94db8a"></p><p class="ba94db8a">After the like/dislike, we refetch the questions for that page? But that might change the order.</p><p class="ba94db8a"></p><p class="ba94db8a">We can update optimistically and then refetch only that question and update it.</p><p class="ba94db8a"></p><p class="ba94db8a">Given time, we might just refetch the entire list.</p><p class="ba94db8a"></p><p class="ba94db8a">In the `handleLike`:</p><p class="ba94db8a"></p><p class="ba94db8a">await api.post(`/questions/${questionId}/like`);</p><p class="ba94db8a">// Refetch the data for the current page</p><p class="ba94db8a">setRefreshCounter(prev =&gt; prev + 1);</p><p class="ba94db8a"></p><p class="ba94db8a">We already have a `refreshCounter` that triggers a refetch. So that should work.</p><p class="ba94db8a"></p><p class="ba94db8a">But the user experience: the entire list refetches and might reorder.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we can update the specific question:</p><p class="ba94db8a"></p><p class="ba94db8a">We don't have an endpoint to get a single question in the list? We can refetch that one question and update.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll do:</p><p class="ba94db8a"></p><p class="ba94db8a">try {</p><p class="ba94db8a">await api.post(`/questions/${questionId}/like`);</p><p class="ba94db8a">// We don't know the new counts, so we refetch that one question</p><p class="ba94db8a">const res = await api.get(`/questions/${questionId}`);</p><p class="ba94db8a">setQuestions(prev =&gt; prev.map(q =&gt;</p><p class="ba94db8a">q._id === questionId ? res.data : q</p><p class="ba94db8a">));</p><p class="ba94db8a">} catch (err) { ... }</p><p class="ba94db8a"></p><p class="ba94db8a">But that would be an extra request.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll go with the full refetch for now (using refreshCounter) because it's already implemented.</p><p class="ba94db8a"></p><p class="ba94db8a">We already have:</p><p class="ba94db8a"></p><p class="ba94db8a">const [refreshCounter, setRefreshCounter] = useState(0);</p><p class="ba94db8a"></p><p class="ba94db8a">useEffect(() =&gt; {</p><p class="ba94db8a">... fetchQuestions()</p><p class="ba94db8a">}, [refreshCounter]);</p><p class="ba94db8a"></p><p class="ba94db8a">So in `handleLike` and `handleDislike`, we do:</p><p class="ba94db8a"></p><p class="ba94db8a">setRefreshCounter(prev =&gt; prev + 1);</p><p class="ba94db8a"></p><p class="ba94db8a">This will refetch the entire list. It's acceptable for now.</p><p class="ba94db8a"></p><p class="ba94db8a">e. The "edited" indicator for the question and answers:</p><p class="ba94db8a"></p><p class="ba94db8a">- For the question in the card: we are only showing the creation date. We want to show the update date if edited.</p><p class="ba94db8a"></p><p class="ba94db8a">Change the date display to:</p><p class="ba94db8a"></p><p class="ba94db8a">{questionData.updatedAt</p><p class="ba94db8a">? new Date(questionData.updatedAt).toLocaleDateString() + ' (edited)'</p><p class="ba94db8a">: new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">- For answers in the card preview (which we are only showing 3) we don't have an "edited" indicator. We can add it similarly.</p><p class="ba94db8a"></p><p class="ba94db8a">In the answer mapping in `QuestionCard`:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;div ...&gt;</p><p class="ba94db8a">&lt;strong&gt;{answer.userName}:&lt;/strong&gt; {answer.answer}</p><p class="ba94db8a">&lt;div style={{ fontSize: '0.8em', color: '#666' }}&gt;</p><p class="ba94db8a">{new Date(answer.createdAt).toLocaleString()}</p><p class="ba94db8a">{answer.updatedAt &amp;&amp; ' (edited)'}</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">- But note: the answer object might not have `userName`? We are not populating it in the backend. We have `userId`. We need to change the backend to populate the user's name?</p><p class="ba94db8a"></p><p class="ba94db8a">In the backend, when fetching a question with answers, we do:</p><p class="ba94db8a"></p><p class="ba94db8a">const answers = await db.collection('answers').find({ questionId: question._id }).toArray();</p><p class="ba94db8a"></p><p class="ba94db8a">We don't join with users. So the answer only has `userId`. We need to get the user name from the users collection.</p><p class="ba94db8a"></p><p class="ba94db8a">We can do:</p><p class="ba94db8a"></p><p class="ba94db8a">const answers = await db.collection('answers').aggregate([</p><p class="ba94db8a">{ $match: { questionId: question._id } },</p><p class="ba94db8a">{ $lookup: {</p><p class="ba94db8a">from: 'users',</p><p class="ba94db8a">localField: 'userId',</p><p class="ba94db8a">foreignField: '_id',</p><p class="ba94db8a">as: 'user'</p><p class="ba94db8a">}},</p><p class="ba94db8a">{ $unwind: '$user' },</p><p class="ba94db8a">{ $project: {</p><p class="ba94db8a">_id: 1,</p><p class="ba94db8a">answer: 1,</p><p class="ba94db8a">createdAt: 1,</p><p class="ba94db8a">updatedAt: 1,</p><p class="ba94db8a">userId: 1,</p><p class="ba94db8a">userName: '$user.name'</p><p class="ba94db8a">}}</p><p class="ba94db8a">]).toArray();</p><p class="ba94db8a"></p><p class="ba94db8a">Then we have `userName` in the answer.</p><p class="ba94db8a"></p><p class="ba94db8a">We should do the same for the question: currently the question has `userId`. We want to show the author name? We do a similar lookup when fetching the list of questions.</p><p class="ba94db8a"></p><p class="ba94db8a">We are already doing for the question list:</p><p class="ba94db8a"></p><p class="ba94db8a">const questions = await db.collection('questions')</p><p class="ba94db8a">.find(query)</p><p class="ba94db8a">...</p><p class="ba94db8a"></p><p class="ba94db8a">We are not populating the user. So we need to change the backend for the question list and single question to include the user name.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll do an aggregation for the question list:</p><p class="ba94db8a"></p><p class="ba94db8a">const questions = await db.collection('questions').aggregate([</p><p class="ba94db8a">{ $match: query },</p><p class="ba94db8a">{ $lookup: {</p><p class="ba94db8a">from: 'users',</p><p class="ba94db8a">localField: 'userId',</p><p class="ba94db8a">foreignField: '_id',</p><p class="ba94db8a">as: 'user'</p><p class="ba94db8a">}},</p><p class="ba94db8a">{ $unwind: '$user' },</p><p class="ba94db8a">{ $project: {</p><p class="ba94db8a">... , // include all fields we need</p><p class="ba94db8a">userName: '$user.name'</p><p class="ba94db8a">}}</p><p class="ba94db8a">]).toArray();</p><p class="ba94db8a"></p><p class="ba94db8a">And similarly for the single question.</p><p class="ba94db8a"></p><p class="ba94db8a">Given the time, we might not be able to do this. We can store the user name in the question and answer when created? Then we don't need to do a lookup.</p><p class="ba94db8a"></p><p class="ba94db8a">When creating a question:</p><p class="ba94db8a">const newQuestion = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">userName: req.user.name // we have the user in the request? We store the name in the token? Or we get it from the user collection? We have the user id, but we don't have the name.</p><p class="ba94db8a"></p><p class="ba94db8a">We can get the user from the database by id? That would be an extra query.</p><p class="ba94db8a"></p><p class="ba94db8a">Alternatively, we store the user name in the question and answer documents.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll change the create question and answer controllers to include the user name.</p><p class="ba94db8a"></p><p class="ba94db8a">In `createQuestion`:</p><p class="ba94db8a"></p><p class="ba94db8a">const newQuestion = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">userName: req.user.name   // but note: in the request, we have the user id. We don't have the name.</p><p class="ba94db8a"></p><p class="ba94db8a">How do we get the name? We can look it up in the users collection by `req.user.id`.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll do:</p><p class="ba94db8a"></p><p class="ba94db8a">const user = await db.collection('users').findOne({ _id: req.user.id });</p><p class="ba94db8a">const newQuestion = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">userName: user.name</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly for answers.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll update the backend accordingly.</p><p class="ba94db8a"></p><p class="ba94db8a">This will require changes in the backend.</p><p class="ba94db8a"></p><p class="ba94db8a">f. Summary of backend changes needed:</p><p class="ba94db8a"></p><p class="ba94db8a">- For like and dislike: change to toggle and update both counts and arrays accordingly.</p><p class="ba94db8a">- When creating a question or answer, store the `userName` (by looking up the user by id and getting the name).</p><p class="ba94db8a">- When returning a question or answer, include the `userName`.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll make these changes.</p><p class="ba94db8a"></p><p class="ba94db8a">Given the complexity and time, we might not complete all. We'll focus on the critical ones.</p><p class="ba94db8a"></p><p class="ba94db8a">Priority:</p><p class="ba94db8a"></p><p class="ba94db8a">1. Auto logout modal.</p><p class="ba94db8a">2. Fix like/dislike toggling in the backend.</p><p class="ba94db8a">3. Store and display user names for questions and answers.</p><p class="ba94db8a">4. Display dates and edited indicators.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll proceed step by step.</p><p class="ba94db8a"></p><p class="ba94db8a">Due to the complexity and the fact that we are not seeing the user names, we must fix the backend to include user names.</p><p class="ba94db8a"></p><p class="ba94db8a">Let's outline the backend changes:</p><p class="ba94db8a"></p><p class="ba94db8a">a. In `questionController.js`:</p><p class="ba94db8a"></p><p class="ba94db8a">createQuestion:</p><p class="ba94db8a"></p><p class="ba94db8a">// After getting the user id, get the user document to get the name</p><p class="ba94db8a">const user = await db.collection('users').findOne({ _id: req.user.id });</p><p class="ba94db8a">if (!user) { ... error }</p><p class="ba94db8a"></p><p class="ba94db8a">const newQuestion = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">userName: user.name</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly, in `answerController.createAnswer`:</p><p class="ba94db8a"></p><p class="ba94db8a">const user = await db.collection('users').findOne({ _id: req.user.id });</p><p class="ba94db8a">const newAnswer = {</p><p class="ba94db8a">...,</p><p class="ba94db8a">userName: user.name</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">b. In `likeQuestion` and `dislikeQuestion` controllers, change the logic to allow toggling and also update the opposite array.</p><p class="ba94db8a"></p><p class="ba94db8a">c. In the `getAllQuestions` and `getQuestionById`, we are already returning the answers and the question. We don't need to change the aggregation because we stored the userName.</p><p class="ba94db8a"></p><p class="ba94db8a">But note: when updating the question or answer, we are not updating the userName? The userName is fixed at creation.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll make these changes.</p><p class="ba94db8a"></p><p class="ba94db8a">3. Given the time, we might not be able to complete all. We'll do what we can.</p><p class="ba94db8a"></p><p class="ba94db8a">We'll start with the auto logout modal.</p><p class="ba94db8a"></p><p class="ba94db8a">Steps for auto logout modal:</p><p class="ba94db8a"></p><p class="ba94db8a">Step 1: Extend the `UserContext` to include `logoutModalOpen` and actions to open and close it.</p><p class="ba94db8a">Step 2: In the `handleLogout` function, if it's a timeout logout, set `logoutModalOpen` to true.</p><p class="ba94db8a">Step 3: Create a `LogoutModal` component that uses the context to check if it should be open and to close it.</p><p class="ba94db8a">Step 4: Place the `LogoutModal` in the `App` component.</p><p class="ba94db8a"></p><p class="ba94db8a">Code changes:</p><p class="ba94db8a"></p><p class="ba94db8a">In `UserContext.jsx`:</p><p class="ba94db8a"></p><p class="ba94db8a">Add to the initial state:</p><p class="ba94db8a"></p><p class="ba94db8a">logoutModalOpen: false</p><p class="ba94db8a"></p><p class="ba94db8a">In the reducer:</p><p class="ba94db8a"></p><p class="ba94db8a">case ACTIONS.OPEN_LOGOUT_MODAL:</p><p class="ba94db8a">return { ...state, logoutModalOpen: true };</p><p class="ba94db8a">case ACTIONS.CLOSE_LOGOUT_MODAL:</p><p class="ba94db8a">return { ...state, logoutModalOpen: false };</p><p class="ba94db8a"></p><p class="ba94db8a">In the `handleLogout` function in the context:</p><p class="ba94db8a"></p><p class="ba94db8a">const handleLogout = (options = {}) =&gt; {</p><p class="ba94db8a">const { isTimeout = false } = options;</p><p class="ba94db8a"></p><p class="ba94db8a">localStorage.removeItem('quantum_token');</p><p class="ba94db8a">dispatch({ type: ACTIONS.LOGOUT });</p><p class="ba94db8a"></p><p class="ba94db8a">if (isTimeout) {</p><p class="ba94db8a">dispatch({ type: ACTIONS.OPEN_LOGOUT_MODAL });</p><p class="ba94db8a">}</p><p class="ba94db8a">};</p><p class="ba94db8a"></p><p class="ba94db8a">In the timer expiration:</p><p class="ba94db8a"></p><p class="ba94db8a">In the `startTimer` function, we call `handleLogout({ isTimeout: true })`.</p><p class="ba94db8a"></p><p class="ba94db8a">Provide `logoutModalOpen` and `closeLogoutModal` (which dispatches CLOSE_LOGOUT_MODAL) in the context value.</p><p class="ba94db8a"></p><p class="ba94db8a">Create `LogoutModal.jsx` in `components/molecules`:</p><p class="ba94db8a"></p><p class="ba94db8a">import { useUser } from '../context/UserContext';</p><p class="ba94db8a">import Modal from './Modal';</p><p class="ba94db8a"></p><p class="ba94db8a">const LogoutModal = () =&gt; {</p><p class="ba94db8a">const { logoutModalOpen, closeLogoutModal } = useUser();</p><p class="ba94db8a"></p><p class="ba94db8a">return (</p><p class="ba94db8a">&lt;Modal</p><p class="ba94db8a">isOpen={logoutModalOpen}</p><p class="ba94db8a">onClose={closeLogoutModal}</p><p class="ba94db8a">title="Session Expired"</p><p class="ba94db8a">message="Your session has expired due to inactivity. Please log in again."</p><p class="ba94db8a">confirmText="OK"</p><p class="ba94db8a">onConfirm={closeLogoutModal}</p><p class="ba94db8a">/&gt;</p><p class="ba94db8a">);</p><p class="ba94db8a">};</p><p class="ba94db8a"></p><p class="ba94db8a">export default LogoutModal;</p><p class="ba94db8a"></p><p class="ba94db8a">In `App.jsx`:</p><p class="ba94db8a"></p><p class="ba94db8a">import LogoutModal from './components/molecules/LogoutModal';</p><p class="ba94db8a"></p><p class="ba94db8a">And inside the `AppContainer`, after the routes, add:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;LogoutModal /&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">Step 2: Change the like and dislike backend controllers to toggle.</p><p class="ba94db8a"></p><p class="ba94db8a">In `questionController.js`:</p><p class="ba94db8a"></p><p class="ba94db8a">likeQuestion:</p><p class="ba94db8a"></p><p class="ba94db8a">try {</p><p class="ba94db8a">const db = await getDb();</p><p class="ba94db8a">const { id } = req.params;</p><p class="ba94db8a">const userId = req.user.id;</p><p class="ba94db8a"></p><p class="ba94db8a">const question = await db.collection('questions').findOne({ _id: id });</p><p class="ba94db8a">if (!question) {</p><p class="ba94db8a">return res.status(404).json({ message: 'Question not found' });</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">const likedBy = question.likedBy || [];</p><p class="ba94db8a">const dislikedBy = question.dislikedBy || [];</p><p class="ba94db8a"></p><p class="ba94db8a">let update = {};</p><p class="ba94db8a"></p><p class="ba94db8a">if (likedBy.includes(userId)) {</p><p class="ba94db8a">// User already liked, so remove the like</p><p class="ba94db8a">update.$pull = { likedBy: userId };</p><p class="ba94db8a">update.$inc = { likes: -1 };</p><p class="ba94db8a">} else {</p><p class="ba94db8a">// Add like</p><p class="ba94db8a">update.$addToSet = { likedBy: userId };</p><p class="ba94db8a">update.$inc = { likes: 1 };</p><p class="ba94db8a"></p><p class="ba94db8a">// If the user had disliked, remove it</p><p class="ba94db8a">if (dislikedBy.includes(userId)) {</p><p class="ba94db8a">update.$pull = { ...(update.$pull || {}), dislikedBy: userId };</p><p class="ba94db8a">update.$inc = { ...update.$inc, dislikes: -1 };</p><p class="ba94db8a">}</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">await db.collection('questions').updateOne(</p><p class="ba94db8a">{ _id: id },</p><p class="ba94db8a">update</p><p class="ba94db8a">);</p><p class="ba94db8a"></p><p class="ba94db8a">res.status(200).json({ message: 'Question like updated' });</p><p class="ba94db8a">} catch (err) { ... }</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly for `dislikeQuestion`:</p><p class="ba94db8a"></p><p class="ba94db8a">if (dislikedBy.includes(userId)) {</p><p class="ba94db8a">update.$pull = { dislikedBy: userId };</p><p class="ba94db8a">update.$inc = { dislikes: -1 };</p><p class="ba94db8a">} else {</p><p class="ba94db8a">update.$addToSet = { dislikedBy: userId };</p><p class="ba94db8a">update.$inc = { dislikes: 1 };</p><p class="ba94db8a"></p><p class="ba94db8a">if (likedBy.includes(userId)) {</p><p class="ba94db8a">update.$pull = { ...(update.$pull || {}), likedBy: userId };</p><p class="ba94db8a">update.$inc.likes = -1;</p><p class="ba94db8a">}</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">Step 3: Store the user name in the question and answer when creating.</p><p class="ba94db8a"></p><p class="ba94db8a">In `questionController.createQuestion`:</p><p class="ba94db8a"></p><p class="ba94db8a">try {</p><p class="ba94db8a">const db = await getDb();</p><p class="ba94db8a">const newQuestion = {</p><p class="ba94db8a">... // as before</p><p class="ba94db8a">};</p><p class="ba94db8a"></p><p class="ba94db8a">// Look up the user to get the name</p><p class="ba94db8a">const user = await db.collection('users').findOne({ _id: req.user.id });</p><p class="ba94db8a">if (!user) {</p><p class="ba94db8a">return res.status(400).json({ message: 'User not found' });</p><p class="ba94db8a">}</p><p class="ba94db8a"></p><p class="ba94db8a">newQuestion.userName = user.name;</p><p class="ba94db8a"></p><p class="ba94db8a">// Then insert</p><p class="ba94db8a"></p><p class="ba94db8a">} catch (err) { ... }</p><p class="ba94db8a"></p><p class="ba94db8a">In `answerController.createAnswer`:</p><p class="ba94db8a"></p><p class="ba94db8a">Similarly.</p><p class="ba94db8a"></p><p class="ba94db8a">Step 4: In the frontend, display the user name and edited date.</p><p class="ba94db8a"></p><p class="ba94db8a">In `QuestionCard`:</p><p class="ba94db8a"></p><p class="ba94db8a">For the question author:</p><p class="ba94db8a"></p><p class="ba94db8a">Author: {questionData.userName} •</p><p class="ba94db8a">{questionData.updatedAt</p><p class="ba94db8a">? new Date(questionData.updatedAt).toLocaleDateString() + ' (edited)'</p><p class="ba94db8a">: new Date(questionData.createdAt).toLocaleDateString()}</p><p class="ba94db8a"></p><p class="ba94db8a">For each answer in the preview:</p><p class="ba94db8a"></p><p class="ba94db8a">&lt;div key={answer._id} ...&gt;</p><p class="ba94db8a">&lt;strong&gt;{answer.userName}:&lt;/strong&gt; {answer.answer}</p><p class="ba94db8a">&lt;div style={{ color: '#666', fontSize: '0.8rem' }}&gt;</p><p class="ba94db8a">{new Date(answer.createdAt).toLocaleDateString()}</p><p class="ba94db8a">{answer.updatedAt &amp;&amp; ' (edited)'}</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a">&lt;/div&gt;</p><p class="ba94db8a"></p><p class="ba94db8a">In `QuestionDetail` page, we already show the user name and edited status.</p><p class="ba94db8a"></p><p class="ba94db8a">We hope this covers the issues.</p><p class="ba94db8a"></p><p class="ba94db8a">Note: This is a lot of work and we might have missed something. We'll do our best.</p></div></div><div class="ds-markdown ds-markdown--block" style="--ds-md-zoom: 1.143;"><h3>Problemų Sprendimai:</h3><h4>1. Automatinis atsijungimas po 5 min neaktyvumo:</h4><p class="ds-markdown-paragraph"><strong>Backend pakeitimai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">javascript</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// UserContext.jsx</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">AutoLogoutHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> resetLogoutTimer<span class="token punctuation">,</span> logout <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token string">'mousedown'</span><span class="token punctuation">,</span> <span class="token string">'touchstart'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> timeoutId<span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">startTimer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 min</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> startTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> startTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>resetLogoutTimer<span class="token punctuation">,</span> logout<span class="token punctuation">,</span> navigate<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// App.jsx</span>
<span class="token operator">&lt;</span>AutoLogoutHandler<span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token comment">/* Routes */</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>AutoLogoutHandler<span class="token operator">&gt;</span></pre></div><p class="ds-markdown-paragraph"><strong>Modalas:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">javascript</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// TimeoutModal.jsx (components/molecules)</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Modal <span class="token keyword">from</span> <span class="token string">'./Modal'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TimeoutModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Modal
    isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span>
    onClose<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span>
    title<span class="token operator">=</span><span class="token string">"Login Timed Out"</span>
    message<span class="token operator">=</span><span class="token string">"Your session has expired due to inactivity."</span>
    confirmText<span class="token operator">=</span><span class="token string">"OK"</span>
    onConfirm<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TimeoutModal<span class="token punctuation">;</span>

<span class="token comment">// UserContext.jsx</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>showTimeoutModal<span class="token punctuation">,</span> setShowTimeoutModal<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleLogout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...logout logic</span>
  <span class="token function">setShowTimeoutModal</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// App.jsx</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> showTimeoutModal<span class="token punctuation">,</span> setShowTimeoutModal <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>showTimeoutModal <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>TimeoutModal
    isOpen<span class="token operator">=</span><span class="token punctuation">{</span>showTimeoutModal<span class="token punctuation">}</span>
    onClose<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setShowTimeoutModal</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></pre></div><h4>2. Klausimų ir atsakymų rodymas:</h4><p class="ds-markdown-paragraph"><strong>Backend pakeitimai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">javascript</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// questionController.js</span>
<span class="token keyword">const</span> questions <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'questions'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">$lookup</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">"users"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">localField</span><span class="token operator">:</span> <span class="token string">"userId"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">foreignField</span><span class="token operator">:</span> <span class="token string">"_id"</span><span class="token punctuation">,</span>
      <span class="token keyword">as</span><span class="token operator">:</span> <span class="token string">"user"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">$unwind</span><span class="token operator">:</span> <span class="token string">"$user"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">$project</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
      <span class="token string-property property">"user.password"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">"$user.name"</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><p class="ds-markdown-paragraph"><strong>Frontend pakeitimai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">jsx</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// QuestionCard.jsx</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>questionData<span class="token punctuation">.</span>answers<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">answer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>answer<span class="token punctuation">.</span>_id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>answer<span class="token punctuation">.</span>userName<span class="token punctuation">}</span><span class="token plain-text">:</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>answer<span class="token punctuation">.</span>answer<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>createdAt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token punctuation">{</span>answer<span class="token punctuation">.</span>updatedAt <span class="token operator">&amp;&amp;</span> <span class="token string">' (edited)'</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// Forum.jsx</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>expandedQuestionId<span class="token punctuation">,</span> setExpandedQuestionId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">toggleAnswers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setExpandedQuestionId</span><span class="token punctuation">(</span>expandedQuestionId <span class="token operator">===</span> id <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">QuestionCard</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">toggleAnswers</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>_id<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token punctuation">{</span>expandedQuestionId <span class="token operator">===</span> q<span class="token punctuation">.</span>_id <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>expanded-answers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token comment">/* Rodyti visus atsakymus */</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></pre></div><h4>3. Atsakymų funkcionalumas:</h4><p class="ds-markdown-paragraph"><strong>Atsakymo forma:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">jsx</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// QuestionDetail.jsx</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>showAnswerForm<span class="token punctuation">,</span> setShowAnswerForm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>showAnswerForm <span class="token operator">?</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span>
      <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>newAnswer<span class="token punctuation">}</span></span>
      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setNewAnswer</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>postAnswer<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Submit</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setShowAnswerForm</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    Answer
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></pre></div><h4>4. Like/Unlike funkcionalumas:</h4><p class="ds-markdown-paragraph"><strong>Backend pakeitimai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">javascript</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// questionController.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">toggleLike</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...toggle logika</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>existingLike<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Remove like</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Add like</span>
      <span class="token comment">// Remove dislike if exists</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre></div><p class="ds-markdown-paragraph"><strong>Frontend pakeitimai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">jsx</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// Forum.jsx</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleReaction</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">questionId<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/questions/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>questionId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/toggle-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setRefreshCounter</span><span class="token punctuation">(</span><span class="token parameter">prev</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleReaction</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>_id<span class="token punctuation">,</span> <span class="token string">'like'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  Like (</span><span class="token punctuation">{</span>q<span class="token punctuation">.</span>likes<span class="token punctuation">}</span><span class="token plain-text">)
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleReaction</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>_id<span class="token punctuation">,</span> <span class="token string">'dislike'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  Dislike (</span><span class="token punctuation">{</span>q<span class="token punctuation">.</span>dislikes<span class="token punctuation">}</span><span class="token plain-text">)
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></pre></div><h3>Svarbūs pakeitimai:</h3><ol start="1"><li><p class="ds-markdown-paragraph"><strong>Duomenų struktūra:</strong></p><ul><li><p class="ds-markdown-paragraph">Pridėtas <code>userName</code> į klausimus ir atsakymus</p></li><li><p class="ds-markdown-paragraph">Pridėtas <code>updatedAt</code> laukas redagavimo sekimui</p></li></ul></li><li><p class="ds-markdown-paragraph"><strong>API maršrutai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">javascript</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// routes/questionRoutes.js</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/questions/:id/toggle-like'</span><span class="token punctuation">,</span> authMiddleware<span class="token punctuation">,</span> toggleLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/questions/:id/toggle-dislike'</span><span class="token punctuation">,</span> authMiddleware<span class="token punctuation">,</span> toggleDislike<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></li><li><p class="ds-markdown-paragraph"><strong>Redagavimo indikatoriai:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">jsx</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// Klausime</span>
<span class="token punctuation">{</span>questionData<span class="token punctuation">.</span>updatedAt <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(edited </span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>questionData<span class="token punctuation">.</span>updatedAt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment">// Atsakyme</span>
<span class="token punctuation">{</span>answer<span class="token punctuation">.</span>updatedAt <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(edited </span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>updatedAt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></pre></div></li><li><p class="ds-markdown-paragraph"><strong>"More answers" funkcionalumas:</strong></p><div class="md-code-block md-code-block-dark"><div class="md-code-block-banner-wrap"><div class="md-code-block-banner md-code-block-banner-lite"><div class="_121d384"><div class="d2a24f03"><span class="d813de27">jsx</span></div><div class="d2a24f03"><div class="efa13877"><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914" tabindex="0" style="margin-right: 8px; font-size: 13px; height: 28px; padding: 0px 4px; --button-text-color: var(--dsr-text-2);"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Copy</span></div><div role="button" class="ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914" tabindex="0" style="padding: 0px 4px; height: 28px; --button-text-color: var(--dsr-text-2); --button-font-size: 13px;"><div class="ds-button__icon"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z" fill="currentColor"></path></svg></div></div><span class="code-info-button-text">Download</span></div></div></div></div></div></div><pre><span class="token comment">// Forum.jsx</span>
<span class="token punctuation">{</span>q<span class="token punctuation">.</span>answers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>expanded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setExpanded</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    +</span><span class="token punctuation">{</span>q<span class="token punctuation">.</span>answers<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token plain-text"> more answers
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></pre></div></li></ol><h3>Pastabos:</h3><ol start="1"><li><p class="ds-markdown-paragraph">Įsitikinkite, kad MongoDB schemoje yra:</p><ul><li><p class="ds-markdown-paragraph"><code>userName</code> laukai klausimuose ir atsakymuose</p></li><li><p class="ds-markdown-paragraph"><code>updatedAt</code> laukai visuose dokumentuose</p></li></ul></li><li><p class="ds-markdown-paragraph">Frontende atnaujinkite:</p><ul><li><p class="ds-markdown-paragraph">Atsakymų komponentą, kad rodytų vartotojo vardą</p></li><li><p class="ds-markdown-paragraph">Pridėkite redagavimo datos indikatorius</p></li><li><p class="ds-markdown-paragraph">Implementuokite "more answers" funkcionalumą</p></li></ul></li><li><p class="ds-markdown-paragraph">Testuokite:</p><ul><li><p class="ds-markdown-paragraph">Automatinį atsijungimą</p></li><li><p class="ds-markdown-paragraph">Like/Unlike funkcionalumą</p></li><li><p class="ds-markdown-paragraph">Atsakymų rodymą ir kūrimą</p></li><li><p class="ds-markdown-paragraph">Redagavimo indikatorius</p></li></ul></li></ol><p class="ds-markdown-paragraph">Šie pakeitimai turėtų išspręsti visas nurodytas problemas. Jei liks klausimų, rašykite!</p></div><div class="ds-flex" style="margin-top: 12px; height: 20px; margin-bottom: 20px; align-items: center; gap: 10px;"><div class="ds-flex _965abe9" style="align-items: center; gap: 16px;"><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z" fill="currentColor"></path></svg></div></div><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px; opacity: 1;"><svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><clippath id="clip1258_20811"><rect id="重新生成" width="20.000000" height="20.000000" fill="white" fill-opacity="0"></rect></clippath></defs><rect id="重新生成" width="20.000000" height="20.000000" fill="#FFFFFF" fill-opacity="0"></rect><g clip-path="url(#clip1258_20811)"><path id="path" d="M17.01 7.63L13.98 7.62C13.88 7.62 13.79 7.6 13.7 7.56C13.62 7.52 13.54 7.47 13.47 7.4C13.4 7.33 13.35 7.25 13.32 7.16C13.28 7.07 13.26 6.98 13.26 6.88C13.26 6.79 13.28 6.69 13.32 6.6C13.35 6.51 13.4 6.43 13.47 6.36C13.54 6.3 13.62 6.24 13.7 6.21C13.79 6.17 13.88 6.15 13.98 6.15L15.57 6.16C15.67 6.16 15.76 6.14 15.85 6.1C15.94 6.06 16.01 6.01 16.08 5.94C16.15 5.87 16.2 5.79 16.23 5.7C16.27 5.61 16.29 5.52 16.29 5.42L16.3 3.89C16.3 3.79 16.32 3.7 16.36 3.61C16.39 3.52 16.44 3.44 16.51 3.37C16.58 3.3 16.66 3.25 16.74 3.21C16.83 3.17 16.92 3.16 17.02 3.16C17.11 3.16 17.2 3.17 17.29 3.21C17.38 3.25 17.46 3.3 17.52 3.37C17.59 3.44 17.64 3.52 17.68 3.61C17.71 3.7 17.73 3.79 17.73 3.89L17.72 6.9C17.72 7 17.71 7.09 17.67 7.18C17.63 7.27 17.58 7.34 17.52 7.41C17.45 7.48 17.37 7.53 17.29 7.57C17.2 7.61 17.11 7.63 17.01 7.63Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M2.31 16.29L2.32 13.3C2.32 13.21 2.34 13.11 2.37 13.02C2.41 12.93 2.46 12.85 2.53 12.78C2.6 12.71 2.67 12.66 2.76 12.62C2.85 12.58 2.94 12.56 3.03 12.56L6.07 12.57C6.16 12.57 6.25 12.59 6.34 12.63C6.43 12.67 6.51 12.72 6.57 12.79C6.64 12.86 6.69 12.94 6.73 13.03C6.76 13.12 6.78 13.22 6.78 13.32C6.78 13.41 6.76 13.51 6.73 13.6C6.69 13.69 6.64 13.77 6.57 13.84C6.51 13.91 6.43 13.96 6.34 14C6.25 14.04 6.16 14.06 6.07 14.06L4.47 14.05C4.38 14.05 4.29 14.07 4.2 14.11C4.11 14.15 4.03 14.2 3.97 14.27C3.9 14.34 3.85 14.42 3.81 14.51C3.78 14.6 3.76 14.7 3.76 14.8L3.75 16.29C3.75 16.39 3.73 16.48 3.69 16.58C3.65 16.67 3.6 16.75 3.54 16.82C3.47 16.89 3.39 16.94 3.3 16.98C3.22 17.01 3.13 17.03 3.03 17.03C2.94 17.03 2.85 17.02 2.76 16.98C2.67 16.94 2.59 16.89 2.52 16.82C2.46 16.75 2.4 16.67 2.37 16.58C2.33 16.49 2.31 16.39 2.31 16.29Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M9.88 18.01C9.51 18.01 9.15 17.99 8.79 17.94C8.42 17.89 8.07 17.82 7.71 17.73C7.36 17.63 7.02 17.51 6.68 17.37C6.34 17.23 6.02 17.07 5.7 16.89C5.39 16.7 5.09 16.5 4.8 16.28C4.52 16.05 4.25 15.81 3.99 15.55C3.74 15.29 3.5 15.02 3.29 14.73C3.07 14.44 2.88 14.13 2.7 13.82L4.15 13.05C4.32 13.35 4.51 13.64 4.72 13.91C4.93 14.18 5.17 14.43 5.42 14.66C5.67 14.9 5.94 15.11 6.23 15.3C6.52 15.49 6.83 15.66 7.14 15.81C7.46 15.95 7.78 16.07 8.12 16.16C8.45 16.25 8.8 16.32 9.14 16.36C9.49 16.39 9.83 16.4 10.18 16.39C10.53 16.37 10.87 16.33 11.22 16.26C11.56 16.19 11.89 16.09 12.21 15.97C12.54 15.84 12.85 15.7 13.15 15.53C13.45 15.35 13.74 15.16 14.01 14.94C14.28 14.72 14.53 14.49 14.76 14.23C14.99 13.97 15.2 13.7 15.38 13.41C15.57 13.12 15.73 12.82 15.87 12.5C16 12.19 16.11 11.87 16.2 11.53C16.28 11.2 16.34 10.87 16.36 10.52C16.37 10.42 16.4 10.33 16.44 10.24C16.48 10.15 16.54 10.07 16.61 10C16.69 9.93 16.77 9.87 16.86 9.84C16.96 9.8 17.05 9.77 17.16 9.77C17.27 9.77 17.38 9.79 17.49 9.83C17.6 9.87 17.7 9.94 17.78 10.02C17.86 10.1 17.92 10.2 17.96 10.3C18 10.41 18.01 10.52 18 10.64C17.98 10.89 17.95 11.13 17.91 11.38C17.86 11.62 17.81 11.87 17.74 12.11C17.68 12.35 17.6 12.58 17.51 12.82C17.42 13.05 17.32 13.28 17.21 13.5C17.1 13.73 16.98 13.95 16.85 14.16C16.71 14.37 16.57 14.58 16.42 14.78C16.27 14.98 16.11 15.17 15.94 15.36C15.77 15.54 15.59 15.72 15.41 15.89C15.22 16.06 15.03 16.22 14.83 16.37C14.63 16.52 14.42 16.66 14.2 16.79C13.99 16.93 13.77 17.05 13.54 17.16C13.31 17.27 13.08 17.37 12.85 17.46C12.61 17.55 12.37 17.63 12.13 17.7C11.88 17.77 11.64 17.83 11.39 17.87C11.14 17.92 10.89 17.96 10.63 17.98C10.38 18 10.13 18.01 9.88 18.01Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M2.85 10.27C2.73 10.28 2.62 10.26 2.51 10.22C2.4 10.17 2.31 10.11 2.23 10.03C2.14 9.95 2.08 9.85 2.04 9.74C2 9.63 1.99 9.52 2 9.41C2.03 8.98 2.1 8.56 2.2 8.15C2.3 7.73 2.43 7.33 2.6 6.94C2.76 6.54 2.96 6.16 3.19 5.8C3.41 5.44 3.67 5.1 3.95 4.77C4.24 4.45 4.54 4.15 4.88 3.88C5.21 3.6 5.56 3.35 5.93 3.13C6.3 2.91 6.69 2.73 7.09 2.57C7.5 2.41 7.91 2.28 8.33 2.19C8.75 2.09 9.18 2.03 9.62 2.01C10.05 1.98 10.48 1.99 10.91 2.03C11.35 2.07 11.77 2.14 12.19 2.25C12.61 2.36 13.02 2.5 13.42 2.67C13.81 2.84 14.19 3.04 14.56 3.28C14.92 3.51 15.27 3.77 15.59 4.05C15.91 4.34 16.21 4.64 16.48 4.98C16.75 5.31 17 5.66 17.21 6.03L15.78 6.83C15.61 6.54 15.42 6.25 15.2 5.99C14.98 5.73 14.74 5.48 14.49 5.25C14.23 5.02 13.96 4.82 13.66 4.63C13.37 4.45 13.07 4.29 12.75 4.15C12.44 4.01 12.11 3.9 11.77 3.82C11.44 3.73 11.1 3.67 10.76 3.64C10.41 3.61 10.07 3.6 9.72 3.62C9.37 3.64 9.03 3.69 8.69 3.77C8.36 3.84 8.03 3.94 7.71 4.07C7.38 4.2 7.08 4.35 6.78 4.52C6.48 4.7 6.2 4.89 5.94 5.11C5.67 5.33 5.43 5.57 5.2 5.83C4.97 6.08 4.77 6.36 4.59 6.65C4.41 6.94 4.25 7.24 4.12 7.55C3.98 7.87 3.88 8.19 3.8 8.52C3.72 8.85 3.66 9.19 3.64 9.53C3.63 9.62 3.6 9.72 3.56 9.81C3.52 9.9 3.46 9.98 3.39 10.05C3.32 10.12 3.23 10.17 3.14 10.21C3.05 10.25 2.95 10.27 2.85 10.27Z" fill="currentColor" fill-opacity="1.000000" fill-rule="nonzero"></path></g></svg></div></div><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.14 9.428l-.003.019L17.114 15a3.774 3.774 0 0 1-1.313 2.27 3.673 3.673 0 0 1-2.438.894H3.895c-.57 0-1.055-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48v-5.438c0-.578.201-1.071.604-1.48.402-.41.888-.614 1.458-.614h1.932l2.317-5.293c.24-.548.6-.948 1.083-1.2.599-.312 1.156-.278 1.672.103.782.577 1.172 1.355 1.172 2.334V6.997h3.994c.638-.007 1.167.235 1.588.726.421.492.584 1.06.488 1.705zm-2.076-2.6c.686-.007 1.262.256 1.714.785.453.529.63 1.146.527 1.84v.004l-.005.02v.003l-1.022 5.552a3.943 3.943 0 0 1-1.37 2.368 3.838 3.838 0 0 1-2.545.933H3.895a2.137 2.137 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6v-5.437c0-.622.218-1.159.652-1.6.434-.44.962-.663 1.576-.663H5.72l2.273-5.192c.254-.58.64-1.01 1.159-1.282.32-.167.64-.246.953-.227.315.02.613.137.893.344.824.608 1.24 1.437 1.24 2.47v2.345h3.827zM9.741 3.063c-.247.128-.437.344-.57.647L6.708 9.34v7.683h6.655a2.59 2.59 0 0 0 1.72-.63c.498-.42.807-.955.926-1.601l1.02-5.544a.936.936 0 0 0-.225-.773.917.917 0 0 0-.739-.335h-4.557a.567.567 0 0 1-.562-.571V4.483c0-.591-.236-1.061-.708-1.41-.143-.105-.309-.109-.497-.01zm7.124 6.157a.766.766 0 0 0-.186-.636.753.753 0 0 0-.612-.276h-4.559a.734.734 0 0 1-.728-.74V4.483c0-.537-.21-.956-.64-1.273a.233.233 0 0 0-.137-.05.387.387 0 0 0-.185.053c-.208.108-.374.291-.495.566m0 0L6.874 9.375v7.479h6.489c.609 0 1.145-.197 1.614-.592.468-.396.757-.894.869-1.502l1.02-5.54M3.35 16.623c.152.155.33.23.545.23h1.522V9.85H3.895a.732.732 0 0 0-.545.23.755.755 0 0 0-.226.553v5.437c0 .218.074.4.226.553zm.545-6.941a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M18.137 9.447l.004-.02a2.044 2.044 0 0 0-.488-1.704c-.421-.491-.95-.733-1.588-.726h-2.282l1.584 1.142h.698a.917.917 0 0 1 .739.335.936.936 0 0 1 .225.773l-1.02 5.543a2.663 2.663 0 0 1-.926 1.602 2.59 2.59 0 0 1-1.72.63H6.708V9.34L9.171 3.71c.133-.303.323-.519.57-.647.188-.099.354-.095.497.01.472.349.708.819.708 1.41v.467l1.125.811V4.483c0-.98-.39-1.757-1.171-2.334-.517-.38-1.074-.415-1.673-.103-.482.252-.843.652-1.083 1.2L5.827 8.54H3.895c-.57 0-1.056.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.403.41.889.615 1.458.615h9.468c.918 0 1.731-.299 2.438-.895A3.774 3.774 0 0 0 17.114 15l1.023-5.553zm-14.242.235a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z" fill="currentColor"></path><path d="M10.946 7.568c0 .316.252.571.563.571h3.858l-1.584-1.142h-1.712V5.76l-1.125-.811v2.618z" fill="currentColor"></path></svg></div></div><div class="ds-icon-button" tabindex="0" style="--ds-icon-button-text-color: #CDD4DF; --ds-icon-button-size: 20px;"><div class="ds-icon" style="font-size: 20px; width: 20px; height: 20px;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.304 10.543v.004a2.214 2.214 0 0 1-.526 1.84c-.452.528-1.028.792-1.714.784h-3.827v2.345c0 1.034-.416 1.863-1.24 2.471-.28.207-.578.324-.893.343-.314.02-.632-.06-.953-.226-.519-.271-.905-.702-1.159-1.282l-2.273-5.193H3.895a2.136 2.136 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6V3.93c0-.623.218-1.16.652-1.6.434-.441.963-.663 1.576-.663h9.468c.957 0 1.807.311 2.544.933a3.943 3.943 0 0 1 1.37 2.368L18.3 10.52v.002l.004.02zm-1.19-5.544a3.774 3.774 0 0 0-1.313-2.27 3.673 3.673 0 0 0-2.438-.894H3.895c-.57 0-1.055.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.402.41.888.615 1.458.615h1.932l2.317 5.292c.24.549.6.949 1.083 1.2.599.313 1.156.279 1.672-.102.782-.577 1.172-1.355 1.172-2.335v-2.513h3.994c.638.007 1.167-.235 1.588-.727.421-.491.584-1.06.488-1.704l-.004-.02L17.114 5zM9.819 16.787c.076.04.137.053.185.052a.233.233 0 0 0 .137-.05c.43-.316.64-.735.64-1.273v-3.084c0-.41.327-.74.729-.74h4.558a.752.752 0 0 0 .612-.277.766.766 0 0 0 .186-.635l-1.02-5.54a2.495 2.495 0 0 0-.869-1.502 2.426 2.426 0 0 0-1.613-.592H6.874v7.48l2.449 5.595m-2.615-5.56V2.978h6.655c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628zM3.35 3.376a.754.754 0 0 0-.226.554v5.436c0 .218.074.4.226.554.152.154.33.23.545.23h1.522V3.146H3.895a.731.731 0 0 0-.545.23zm2.233-.398v7.34H3.895a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688zm4.235 13.809c-.208-.108-.375-.292-.495-.566l.495.566z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15.801 2.73a3.774 3.774 0 0 1 1.313 2.269l1.023 5.554.004.019a2.044 2.044 0 0 1-.488 1.704c-.421.492-.95.734-1.588.727h-3.994v2.513c0 .98-.39 1.758-1.171 2.335-.517.38-1.074.415-1.673.102-.482-.251-.843-.651-1.083-1.2l-2.317-5.292H3.895c-.57 0-1.056-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48V3.93c0-.579.201-1.072.604-1.481.403-.41.889-.614 1.458-.614h9.468c.918 0 1.731.298 2.438.894zm-2.438.248c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628V2.978h6.655zm-9.468 7.34a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688v7.341H3.895z" fill="currentColor"></path></svg></div></div></div><div style="flex: 1 1 0%;"></div></div></div></div><div class="_88681e8"><div class="_217e214"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.856 17.121a.979.979 0 0 1-.327-.06.839.839 0 0 1-.283-.177.739.739 0 0 1-.187-.255.724.724 0 0 1-.07-.303l-.02-1.609a4.663 4.663 0 0 1-1.446-.455 4.252 4.252 0 0 1-.637-.401c-.199-.146-.385-.31-.553-.492a4.442 4.442 0 0 1-.45-.577 4.303 4.303 0 0 1-.327-.637 3.823 3.823 0 0 1-.206-.686 3.729 3.729 0 0 1-.064-.704V6.478c0-.261.025-.516.077-.771a4.43 4.43 0 0 1 .244-.747 4.062 4.062 0 0 1 .932-1.28c.2-.183.418-.347.65-.493.23-.145.482-.267.739-.364a4.21 4.21 0 0 1 .81-.225c.27-.054.553-.078.835-.078H8.55c.103 0 .2.018.29.054a.7.7 0 0 1 .411.376.667.667 0 0 1-.161.766.736.736 0 0 1-.25.151.764.764 0 0 1-.29.055H5.573c-.186 0-.366.012-.54.049-.18.03-.353.079-.52.145-.167.061-.328.14-.482.237-.148.091-.29.2-.418.316a2.897 2.897 0 0 0-.347.388c-.097.14-.187.286-.257.444a2.473 2.473 0 0 0-.206.977v4.287c0 .17.013.333.051.503a2.549 2.549 0 0 0 .772 1.33 2.721 2.721 0 0 0 .913.559c.167.066.347.115.527.152.18.03.36.048.546.048a.904.904 0 0 1 .61.23.848.848 0 0 1 .194.262.84.84 0 0 1 .07.303l.007.99 1.915-1.293a2.877 2.877 0 0 1 1.64-.492h2.372c.186 0 .366-.018.54-.048.18-.03.353-.08.52-.146.168-.067.329-.146.483-.237.148-.091.29-.2.418-.316.128-.121.244-.249.347-.388a2.8 2.8 0 0 0 .257-.444 2.47 2.47 0 0 0 .206-.977V8.585a.646.646 0 0 1 .225-.492.679.679 0 0 1 .244-.152.814.814 0 0 1 .585 0c.09.03.174.085.244.152a.657.657 0 0 1 .225.492V10.8c0 .261-.032.516-.083.771a4.192 4.192 0 0 1-.245.74c-.109.244-.244.468-.398.687a3.735 3.735 0 0 1-.534.6c-.2.183-.418.347-.65.493a4.134 4.134 0 0 1-.738.364 4.7 4.7 0 0 1-.81.225c-.27.054-.553.079-.836.079h-1.877c-.604 0-1.144.164-1.633.491l-2.54 1.713a.913.913 0 0 1-.514.157z" fill="currentColor"></path><path d="M15.866 4.125h-4.174c-.41 0-.741.313-.741.7 0 .387.332.7.741.7h4.174c.41 0 .742-.313.742-.7 0-.387-.332-.7-.742-.7z" fill="currentColor"></path><path d="M14.537 2.932c0-.396-.34-.717-.759-.717s-.758.32-.758.717v3.786c0 .396.34.717.758.717.42 0 .76-.321.76-.717V2.932z" fill="currentColor"></path></svg><span>New chat</span></div></div><div class="_871cbca"><div class="aaff8b8f"><div class="_77cefa5"><div class="dd442025 _42b6996"><div class="_24fad49"><textarea id="chat-input" class="_27c9245" placeholder="Message DeepSeek" rows="2">Padariau kaip atsakei, bet yra klaidu: import React, { useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { UserProvider } from './context/UserContext';
import { useUser } from './context/UserContext';
import MainOutlet from './components/MainOutlet';
import ErrorBoundary from './components/ErrorBoundary';
import Home from './pages/Home';
import Login from './pages/Login';
import Register from './pages/Register';
import Forum from './pages/Forum';
import Ask from './pages/Ask';
import User from './pages/User';
import QuestionDetail from './pages/QuestionDetail'; 
import styled from 'styled-components';

const AppContainer = styled.div`
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #000;
  color: #00ff00;
  font-family: 'Courier New', Courier, monospace;
`;

const AutoLogoutHandler = ({ children }) =&gt; {
  const { resetLogoutTimer } = useUser();

  useEffect(() =&gt; {
    const resetTimer = () =&gt; resetLogoutTimer?.();
    
    const events = ['mousemove', 'keydown', 'scroll', 'click', 'touchstart'];
    events.forEach(event =&gt; window.addEventListener(event, resetTimer));
    
    return () =&gt; {
      events.forEach(event =&gt; window.removeEventListener(event, resetTimer));
    };
  }, [resetLogoutTimer]);

  return children;
};

const { showTimeoutModal, setShowTimeoutModal } = useUser(); useUser();- vsc braukia raudonai ir rašo React Hook "useUser" cannot be called at the top level. React Hooks must be called in a React function component or a custom React Hook function.eslintreact-hooks/rules-of-hooks
(alias) useUser(): any
import useUser
{showTimeoutModal &amp;&amp; (
  &lt;TimeoutModal
    isOpen={showTimeoutModal}
    onClose={() =&gt; setShowTimeoutModal(false)}
  /&gt;
)};

function App() {
  return (
    &lt;UserProvider&gt;
      &lt;ErrorBoundary&gt;
        &lt;AutoLogoutHandler&gt;
          &lt;Router&gt;
            &lt;AppContainer&gt;
              &lt;Routes&gt;
                &lt;Route element={&lt;MainOutlet /&gt;}&gt;
                  &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
                  &lt;Route path="/forum" element={&lt;Forum /&gt;} /&gt;
                  &lt;Route path="/ask" element={&lt;Ask /&gt;} /&gt;
                  &lt;Route path="/user" element={&lt;User /&gt;} /&gt;
                  &lt;Route path="/question/:id" element={&lt;QuestionDetail /&gt;} /&gt;
                &lt;/Route&gt;
                &lt;Route path="/login" element={&lt;Login /&gt;} /&gt;
                &lt;Route path="/register" element={&lt;Register /&gt;} /&gt;
                &lt;Route path="*" element={&lt;Navigate to="/" replace /&gt;} /&gt;
              &lt;/Routes&gt;
            &lt;/AppContainer&gt;
          &lt;/Router&gt;
        &lt;/AutoLogoutHandler&gt;
      &lt;/ErrorBoundary&gt;
    &lt;/UserProvider&gt;
  );
}

export default App;
import { v4 as uuidv4 } from 'uuid'
import { getDb } from '../index.js';

export const getAllQuestions = async (req, res) =&gt; {
    const page = parseInt(req.query.page) || 1;
    const limit = 3;  // 3 klausimai per puslapį
    const skip = (page - 1) * limit;
  try {
    const db = await getDb();
    const { search, filter, sort } = req.query;
    
    let query = {};
    
    if (search) {
      query.$or = [
        { question: { $regex: search, $options: 'i' } },
        { description: { $regex: search, $options: 'i' } }
      ];
    }
    if (req.query.tag) {
      query.tags = req.query.tag;
    }
    if (filter === 'answered') {
      query.answerCount = { $gt: 0 };  // Tik atsakyti klausimai
    }   
    else if (filter === 'unanswered') {
      query.answerCount = { $eq: 0 };  // Tik neatsakyti klausimai
    }
    
    let sortOption = { createdAt: -1 };
    if (sort === 'popular') {
      sortOption = { likes: -1 };
    }
    
    const questions = await db.collection('questions')
      .find(query)
      .sort(sortOption)
      .skip(skip)
      .limit(limit)
      .toArray();

    const total = await db.collection('questions').countDocuments(query);
      
    // Gaunu atsakymus kiekvienam klausimui

    for (const question of questions) {
      const answers = await db.collection('answers')
        .find({ questionId: question._id })
        .toArray();
      question.answers = answers;
    }

    res.status(200).json({
      questions, 
      total, 
      page,
      totalPages: Math.ceil(total / limit)
    });
  } catch (err) {
    console.error('Error getting questions:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const createQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const newQuestion = {
      _id: uuidv4(),
      userId: req.user.id, // Naudoju prisijungusio vartotojo ID
      question: req.body.question,
      createdAt: new Date().toISOString()
    };
    if (!req.body.question || req.body.question.length &lt; 4) {
      return res.status(400).json({ message: 'Question too short' });
}
    const result = await db.collection('questions').insertOne(newQuestion);
    res.status(201).json({ message: 'Question created',question: newQuestion, id: result.insertedId });
  } catch (err) {
    console.error('Error creating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const getQuestionById = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const question = await db.collection('questions').findOne({ _id: req.params.id });
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    } 
    // Pridedu atsakymus prie klausimo
    
    const answers = await db.collection('answers')
      .find({ questionId: req.params.id })
      .toArray();
    
    res.status(200).json({ ...question, answers });
  } catch (err) {
    console.error('Error getting question by ID:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const deleteQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const questionId = req.params.id;
    await db.collection('answers').deleteMany({ questionId: questionId }); // Ištrinu visus atsakymus, susijusius su šiuo klausimu
    const result = await db.collection('questions').deleteOne({ _id: req.params.id }); // Ištrinu klausimą pagal ID
    if (result.deletedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question deleted' });
  } catch (err) {
    console.error('Error deleting question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updateQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { question: updatedQuestion } = req.body;

    // Randu klausimą, pradedu savininko patikrinimą

    const existingQuestion = await db.collection('questions').findOne({ _id: req.params.id });
    if (!existingQuestion) {
      return res.status(404).json({ message: 'Question not found' });
    }
    // Tikrinu ar vartotojas yra savininkas

    if (existingQuestion.userId !== req.user.id) {
      return res.status(403).json({ message: 'Unauthorized' });
    }
    // Atnaujinu klausimą

    const result = await db.collection('questions').updateOne(
      { _id: req.params.id },
      { $set: { question: updatedQuestion, updatedAt: new Date().toISOString()}},
    );
    if (result.matchedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question updated' });
  } catch (err) {
    console.error('Error updating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const likeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }

    // Patikrinu ar vartotojas jau "like"

    if (question.likedBy?.includes(userId)) {
      return res.status(400).json({ message: 'You have already liked this question' });
    }
    
    // Konvertuoju "likes" į skaičių (jei tai masyvas) ir atnaujinu

    const currentLikes = Array.isArray(question.likes) ? 
      question.likes[0] : 
      question.likes;
    
    // Atnaujinu su nauja reikšme ir vartotojo ID

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentLikes + 1 },
        $push: { likedBy: userId },
        $pull: { dislikedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question liked' });
  } catch (err) {
    console.error('Error liking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const dislikeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }
    
    // Konvertuoju dislikes į skaičių (jei tai masyvas) ir atnaujinu

    const currentDislikes = Array.isArray(question.dislikes) ? 
      question.dislikes[0] : 
      question.dislikes;
    
    // Atnaujinu su nauja reikšme

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentDislikes + 1 },
        $push: { dislikedBy: userId },
        $pull: { likedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question disliked' });
  } catch (err) {
    console.error('Error disliking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const toggleLike = async (req, res) =&gt; {
  try {
    // ...toggle logika
    if (existingLike) {
      // Remove like
    } else {
      // Add like
      // Remove dislike if exists
    }
  } catch (err) {
    // ...
  }
};

const questions = await db.collection('questions').aggregate([
  {
    $lookup: {
      from: "users",
      localField: "userId",
      foreignField: "_id",
      as: "user"
    }
  },
  { $unwind: "$user" },
  { $project: { 
      "user.password": 0,
      userName: "$user.name"
    } 
  }
]).toArray(); - Čia kažkas negerai, pažiurek ir paaiškink.
</textarea><div class="b13855df">Padariau kaip atsakei, bet yra klaidu: import React, { useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { UserProvider } from './context/UserContext';
import { useUser } from './context/UserContext';
import MainOutlet from './components/MainOutlet';
import ErrorBoundary from './components/ErrorBoundary';
import Home from './pages/Home';
import Login from './pages/Login';
import Register from './pages/Register';
import Forum from './pages/Forum';
import Ask from './pages/Ask';
import User from './pages/User';
import QuestionDetail from './pages/QuestionDetail'; 
import styled from 'styled-components';

const AppContainer = styled.div`
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #000;
  color: #00ff00;
  font-family: 'Courier New', Courier, monospace;
`;

const AutoLogoutHandler = ({ children }) =&gt; {
  const { resetLogoutTimer } = useUser();

  useEffect(() =&gt; {
    const resetTimer = () =&gt; resetLogoutTimer?.();
    
    const events = ['mousemove', 'keydown', 'scroll', 'click', 'touchstart'];
    events.forEach(event =&gt; window.addEventListener(event, resetTimer));
    
    return () =&gt; {
      events.forEach(event =&gt; window.removeEventListener(event, resetTimer));
    };
  }, [resetLogoutTimer]);

  return children;
};

const { showTimeoutModal, setShowTimeoutModal } = useUser(); useUser();- vsc braukia raudonai ir rašo React Hook "useUser" cannot be called at the top level. React Hooks must be called in a React function component or a custom React Hook function.eslintreact-hooks/rules-of-hooks
(alias) useUser(): any
import useUser
{showTimeoutModal &amp;&amp; (
  &lt;TimeoutModal
    isOpen={showTimeoutModal}
    onClose={() =&gt; setShowTimeoutModal(false)}
  /&gt;
)};

function App() {
  return (
    &lt;UserProvider&gt;
      &lt;ErrorBoundary&gt;
        &lt;AutoLogoutHandler&gt;
          &lt;Router&gt;
            &lt;AppContainer&gt;
              &lt;Routes&gt;
                &lt;Route element={&lt;MainOutlet /&gt;}&gt;
                  &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
                  &lt;Route path="/forum" element={&lt;Forum /&gt;} /&gt;
                  &lt;Route path="/ask" element={&lt;Ask /&gt;} /&gt;
                  &lt;Route path="/user" element={&lt;User /&gt;} /&gt;
                  &lt;Route path="/question/:id" element={&lt;QuestionDetail /&gt;} /&gt;
                &lt;/Route&gt;
                &lt;Route path="/login" element={&lt;Login /&gt;} /&gt;
                &lt;Route path="/register" element={&lt;Register /&gt;} /&gt;
                &lt;Route path="*" element={&lt;Navigate to="/" replace /&gt;} /&gt;
              &lt;/Routes&gt;
            &lt;/AppContainer&gt;
          &lt;/Router&gt;
        &lt;/AutoLogoutHandler&gt;
      &lt;/ErrorBoundary&gt;
    &lt;/UserProvider&gt;
  );
}

export default App;
import { v4 as uuidv4 } from 'uuid'
import { getDb } from '../index.js';

export const getAllQuestions = async (req, res) =&gt; {
    const page = parseInt(req.query.page) || 1;
    const limit = 3;  // 3 klausimai per puslapį
    const skip = (page - 1) * limit;
  try {
    const db = await getDb();
    const { search, filter, sort } = req.query;
    
    let query = {};
    
    if (search) {
      query.$or = [
        { question: { $regex: search, $options: 'i' } },
        { description: { $regex: search, $options: 'i' } }
      ];
    }
    if (req.query.tag) {
      query.tags = req.query.tag;
    }
    if (filter === 'answered') {
      query.answerCount = { $gt: 0 };  // Tik atsakyti klausimai
    }   
    else if (filter === 'unanswered') {
      query.answerCount = { $eq: 0 };  // Tik neatsakyti klausimai
    }
    
    let sortOption = { createdAt: -1 };
    if (sort === 'popular') {
      sortOption = { likes: -1 };
    }
    
    const questions = await db.collection('questions')
      .find(query)
      .sort(sortOption)
      .skip(skip)
      .limit(limit)
      .toArray();

    const total = await db.collection('questions').countDocuments(query);
      
    // Gaunu atsakymus kiekvienam klausimui

    for (const question of questions) {
      const answers = await db.collection('answers')
        .find({ questionId: question._id })
        .toArray();
      question.answers = answers;
    }

    res.status(200).json({
      questions, 
      total, 
      page,
      totalPages: Math.ceil(total / limit)
    });
  } catch (err) {
    console.error('Error getting questions:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const createQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const newQuestion = {
      _id: uuidv4(),
      userId: req.user.id, // Naudoju prisijungusio vartotojo ID
      question: req.body.question,
      createdAt: new Date().toISOString()
    };
    if (!req.body.question || req.body.question.length &lt; 4) {
      return res.status(400).json({ message: 'Question too short' });
}
    const result = await db.collection('questions').insertOne(newQuestion);
    res.status(201).json({ message: 'Question created',question: newQuestion, id: result.insertedId });
  } catch (err) {
    console.error('Error creating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const getQuestionById = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const question = await db.collection('questions').findOne({ _id: req.params.id });
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    } 
    // Pridedu atsakymus prie klausimo
    
    const answers = await db.collection('answers')
      .find({ questionId: req.params.id })
      .toArray();
    
    res.status(200).json({ ...question, answers });
  } catch (err) {
    console.error('Error getting question by ID:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const deleteQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const questionId = req.params.id;
    await db.collection('answers').deleteMany({ questionId: questionId }); // Ištrinu visus atsakymus, susijusius su šiuo klausimu
    const result = await db.collection('questions').deleteOne({ _id: req.params.id }); // Ištrinu klausimą pagal ID
    if (result.deletedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question deleted' });
  } catch (err) {
    console.error('Error deleting question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const updateQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { question: updatedQuestion } = req.body;

    // Randu klausimą, pradedu savininko patikrinimą

    const existingQuestion = await db.collection('questions').findOne({ _id: req.params.id });
    if (!existingQuestion) {
      return res.status(404).json({ message: 'Question not found' });
    }
    // Tikrinu ar vartotojas yra savininkas

    if (existingQuestion.userId !== req.user.id) {
      return res.status(403).json({ message: 'Unauthorized' });
    }
    // Atnaujinu klausimą

    const result = await db.collection('questions').updateOne(
      { _id: req.params.id },
      { $set: { question: updatedQuestion, updatedAt: new Date().toISOString()}},
    );
    if (result.matchedCount === 0) {
      return res.status(404).json({ message: 'Question not found' });
    }
    res.status(200).json({ message: 'Question updated' });
  } catch (err) {
    console.error('Error updating question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const likeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }

    // Patikrinu ar vartotojas jau "like"

    if (question.likedBy?.includes(userId)) {
      return res.status(400).json({ message: 'You have already liked this question' });
    }
    
    // Konvertuoju "likes" į skaičių (jei tai masyvas) ir atnaujinu

    const currentLikes = Array.isArray(question.likes) ? 
      question.likes[0] : 
      question.likes;
    
    // Atnaujinu su nauja reikšme ir vartotojo ID

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentLikes + 1 },
        $push: { likedBy: userId },
        $pull: { dislikedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question liked' });
  } catch (err) {
    console.error('Error liking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const dislikeQuestion = async (req, res) =&gt; {
  try {
    const db = await getDb();
    const { id } = req.params;
    const userId = req.user.id;
    
    // Pirmiausia gauti klausimą

    const question = await db.collection('questions').findOne({ _id: id });
    
    if (!question) {
      return res.status(404).json({ message: 'Question not found' });
    }
    
    // Konvertuoju dislikes į skaičių (jei tai masyvas) ir atnaujinu

    const currentDislikes = Array.isArray(question.dislikes) ? 
      question.dislikes[0] : 
      question.dislikes;
    
    // Atnaujinu su nauja reikšme

    await db.collection('questions').updateOne(
      { _id: id },
      { 
        $set: { likes: currentDislikes + 1 },
        $push: { dislikedBy: userId },
        $pull: { likedBy: userId } // Pašalinu iš priešingos kategorijos
      }
    );
    
    res.status(200).json({ message: 'Question disliked' });
  } catch (err) {
    console.error('Error disliking question:', err);
    res.status(500).json({ message: 'Server error' });
  }
};

export const toggleLike = async (req, res) =&gt; {
  try {
    // ...toggle logika
    if (existingLike) {
      // Remove like
    } else {
      // Add like
      // Remove dislike if exists
    }
  } catch (err) {
    // ...
  }
};

const questions = await db.collection('questions').aggregate([
  {
    $lookup: {
      from: "users",
      localField: "userId",
      foreignField: "_id",
      as: "user"
    }
  },
  { $unwind: "$user" },
  { $project: { 
      "user.password": 0,
      userName: "$user.name"
    } 
  }
]).toArray(); - Čia kažkas negerai, pažiurek ir paaiškink.

</div></div><div class="ec4f5d61"><div role="button" class="ds-button ds-button--primary ds-button--filled ds-button--rect ds-button--m _3172d9f" tabindex="0" style="--ds-button-color: rgba(77, 107, 254, 0.40); --button-text-color: #4CAEFF; --button-border-color: rgba(0, 122, 255, 0.15); --ds-button-hover-color: rgba(77, 107, 254, 0.2);"><div class="ds-button__icon"><span style="transition: transform 0.4s ease-out; transform: rotate(0deg);"><div class="ds-icon" style="font-size: 19px; width: 19px; height: 19px; color: rgb(76, 174, 255);"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z" fill="currentColor" stroke="currentColor" stroke-width=".1"></path><path d="M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z" fill="currentColor" stroke="currentColor" stroke-width=".2"></path></svg></div></span></div><span class="ad0c98fd">DeepThink (R1)</span></div><div role="button" class="ds-button ds-button--primary ds-button--filled ds-button--rect ds-button--m _3172d9f" tabindex="0" style="--ds-button-color: rgba(77, 107, 254, 0.40); --button-text-color: #4CAEFF; --button-border-color: rgba(0, 122, 255, 0.15); --ds-button-hover-color: rgba(77, 107, 254, 0.2);"><div class="ds-button__icon"><span style="transition: transform 0.4s ease-out; transform: rotate(0deg);"><div class="ds-icon" style="font-size: 17px; width: 17px; height: 17px; color: rgb(76, 174, 255);"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.8"></circle><path d="M10 1c1.657 0 3 4.03 3 9s-1.343 9-3 9M10 19c-1.657 0-3-4.03-3-9s1.343-9 3-9M1 10h18" stroke="currentColor" stroke-width="1.8"></path></svg></div></span></div><span class="ad0c98fd">Search</span></div><div class="bf38813a"><div class="f02f0e25 cfba8f40"><div class="ds-icon" style="font-size: 23px; width: 23px; height: 23px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 20" fill="none"><path d="M7 20c-1.856-.002-3.635-.7-4.947-1.94C.74 16.819.003 15.137 0 13.383V4.828a4.536 4.536 0 0 1 .365-1.843 4.75 4.75 0 0 1 1.087-1.567A5.065 5.065 0 0 1 3.096.368a5.293 5.293 0 0 1 3.888 0c.616.244 1.174.6 1.643 1.05.469.45.839.982 1.088 1.567.25.586.373 1.212.364 1.843v8.555a2.837 2.837 0 0 1-.92 2.027A3.174 3.174 0 0 1 7 16.245c-.807 0-1.582-.3-2.158-.835a2.837 2.837 0 0 1-.92-2.027v-6.22a1.119 1.119 0 1 1 2.237 0v6.22a.777.777 0 0 0 .256.547.868.868 0 0 0 .585.224c.219 0 .429-.08.586-.224a.777.777 0 0 0 .256-.546V4.828A2.522 2.522 0 0 0 7.643 3.8a2.64 2.64 0 0 0-.604-.876 2.816 2.816 0 0 0-.915-.587 2.943 2.943 0 0 0-2.168 0 2.816 2.816 0 0 0-.916.587 2.64 2.64 0 0 0-.604.876 2.522 2.522 0 0 0-.198 1.028v8.555c0 1.194.501 2.339 1.394 3.183A4.906 4.906 0 0 0 7 17.885a4.906 4.906 0 0 0 3.367-1.319 4.382 4.382 0 0 0 1.395-3.183v-6.22a1.119 1.119 0 0 1 2.237 0v6.22c-.002 1.754-.74 3.436-2.052 4.677C10.635 19.3 8.856 19.998 7 20z" fill="currentColor"></path></svg></div></div><input type="file" multiple="" disabled="" accept=".epub,.mobi,.azw3,.pdf,.png,.jpg,.jpeg,.svg,.svgz,.bmp,.gif,.webp,.ico,.xbm,.dib,.pjp,.tif,.pjpeg,.avif,.apng,.tiff,.jfif,.txt,.md,.csv,.tsv,.html,.json,.log,.dot,.go,.h,.c,.cpp,.cxx,.cc,.cs,.java,.js,.css,.jsp,.php,.py,.py3,.asp,.yaml,.yml,.ini,.conf,.ts,.tsx,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.abap,.asc,.ash,.ampl,.mod,.g4,.apib,.apl,.dyalog,.asax,.ascx,.ashx,.asmx,.aspx,.axd,.dats,.hats,.sats,.as,.adb,.ada,.ads,.agda,.als,.apacheconf,.vhost,.cls,.applescript,.scpt,.arc,.ino,.asciidoc,.adoc,.aj,.asm,.a51,.inc,.nasm,.aug,.ahk,.ahkl,.au3,.awk,.auk,.gawk,.mawk,.nawk,.bat,.cmd,.befunge,.bison,.bb,.decls,.bmx,.bsv,.boo,.b,.bf,.brs,.bro,.cats,.idc,.w,.cake,.cshtml,.csx,.c++,.cp,.h++,.hh,.hpp,.hxx,.inl,.ipp,.tcc,.tpp,.c-objdump,.chs,.clp,.cmake,.in,.cob,.cbl,.ccp,.cobol,.cpy,.capnp,.mss,.ceylon,.chpl,.ch,.ck,.cirru,.clw,.icl,.dcl,.click,.clj,.boot,.cl2,.cljc,.cljs,.hl,.cljscm,.cljx,.hic,.coffee,._coffee,.cjsx,.cson,.iced,.cfm,.cfml,.cfc,.lisp,.asd,.cl,.l,.lsp,.ny,.podsl,.sexp,.cps,.coq,.v,.cppobjdump,.c++-objdump,.c++objdump,.cpp-objdump,.cxx-objdump,.creole,.cr,.feature,.cu,.cuh,.cy,.pyx,.pxd,.pxi,.d,.di,.d-objdump,.com,.dm,.zone,.arpa,.darcspatch,.dpatch,.dart,.diff,.patch,.dockerfile,.djs,.dylan,.dyl,.intr,.lid,.E,.ecl,.eclxml,.sch,.brd,.epj,.e,.ex,.exs,.elm,.el,.emacs,.desktop,.em,.emberscript,.erl,.es,.escript,.hrl,.xrl,.yrl,.fs,.fsi,.fsx,.fx,.flux,.f90,.f,.f03,.f08,.f77,.f95,.for,.fpp,.factor,.fy,.fancypack,.fan,.fth,.4th,.forth,.fr,.frt,.ftl,.g,.gco,.gcode,.gms,.gap,.gd,.gi,.tst,.s,.ms,.glsl,.fp,.frag,.frg,.fsh,.fshader,.geo,.geom,.glslv,.gshader,.shader,.vert,.vrx,.vsh,.vshader,.gml,.kid,.ebuild,.eclass,.po,.pot,.glf,.gp,.gnu,.gnuplot,.plot,.plt,.golo,.gs,.gst,.gsx,.vark,.grace,.gradle,.gf,.graphql,.gv,.man,.1in,.1m,.1x,.3in,.3m,.3qt,.3x,.me,.n,.rno,.roff,.groovy,.grt,.gtpl,.gvy,.gsp,.hcl,.tf,.hlsl,.fxh,.hlsli,.htm,.st,.xht,.xhtml,.mustache,.jinja,.eex,.erb,.deface,.phtml,.http,.haml,.handlebars,.hbs,.hb,.hs,.hsc,.hx,.hxsl,.hy,.pro,.dlm,.ipf,.cfg,.prefs,.properties,.irclog,.weechatlog,.idr,.lidr,.ni,.i7x,.iss,.io,.ik,.thy,.ijs,.flex,.jflex,.geojson,.lock,.topojson,.json5,.jsonld,.jq,.jsx,.jade,.j,._js,.bones,.es6,.jake,.jsb,.jscad,.jsfl,.jsm,.jss,.njs,.pac,.sjs,.ssjs,.sublime-build,.sublime-commands,.sublime-completions,.sublime-keymap,.sublime-macro,.sublime-menu,.sublime-mousemap,.sublime-project,.sublime-settings,.sublime-theme,.sublime-workspace,.sublime_metrics,.sublime_session,.xsjs,.xsjslib,.jl,.ipynb,.krl,.kicad_pcb,.kit,.kt,.ktm,.kts,.lfe,.ll,.lol,.lsl,.lslp,.lvproj,.lasso,.las,.lasso8,.lasso9,.ldml,.latte,.lean,.hlean,.less,.lex,.ly,.ily,.m,.ld,.lds,.liquid,.lagda,.litcoffee,.lhs,.ls,._ls,.xm,.x,.xi,.lgt,.logtalk,.lookml,.lua,.fcgi,.nse,.pd_lua,.rbxs,.wlua,.mumps,.m4,.mcr,.mtml,.muf,.mak,.mk,.mkfile,.mako,.mao,.markdown,.mkd,.mkdn,.mkdown,.ron,.mask,.mathematica,.cdf,.ma,.map,.mt,.nb,.nbp,.wl,.wlt,.matlab,.maxpat,.maxhelp,.maxproj,.mxt,.pat,.mediawiki,.wiki,.moo,.metal,.minid,.druby,.duby,.mir,.mirah,.mo,.mms,.mmk,.monkey,.moon,.myt,.ncl,.nl,.nsi,.nsh,.axs,.axi,.nlogo,.nginxconf,.nim,.nimrod,.ninja,.nit,.nix,.nu,.numpy,.numpyw,.numsc,.ml,.eliom,.eliomi,.ml4,.mli,.mll,.mly,.objdump,.mm,.sj,.omgrofl,.opa,.opal,.opencl,.p,.scad,.org,.ox,.oxh,.oxo,.oxygene,.oz,.pwn,.aw,.ctp,.php3,.php4,.php5,.php6,.php7,.php8,.phps,.phpt,.pls,.pck,.pkb,.pks,.plb,.plsql,.sql,.pov,.pan,.psc,.parrot,.pasm,.pir,.pas,.dfm,.dpr,.lpr,.pp,.pl,.al,.cgi,.perl,.ph,.plx,.pm,.pod,.psgi,.t,.6pl,.6pm,.nqp,.p6,.p6l,.p6m,.pl6,.pm6,.pkl,.pig,.pike,.pmod,.pogo,.pony,.ps,.eps,.ps1,.psd1,.psm1,.pde,.prolog,.yap,.spin,.proto,.pub,.pd,.pb,.pbi,.purs,.bzl,.gyp,.lmi,.pyde,.pyi,.pyp,.pyt,.pyw,.rpy,.tac,.wsgi,.xpy,.pytb,.qml,.qbs,.pri,.r,.rd,.rsx,.raml,.rdoc,.rbbas,.rbfrm,.rbmnu,.rbres,.rbtbar,.rbuistate,.rhtml,.rmd,.rkt,.rktd,.rktl,.scrbl,.rl,.raw,.reb,.r2,.r3,.rebol,.red,.reds,.cw,.rs,.rsh,.robot,.rg,.rb,.builder,.gemspec,.god,.irbrc,.jbuilder,.mspec,.pluginspec,.podspec,.rabl,.rake,.rbuild,.rbw,.rbx,.ru,.ruby,.thor,.watchr,.sas,.scss,.smt2,.smt,.sparql,.rq,.sqf,.hqf,.cql,.ddl,.prc,.tab,.udf,.viw,.db2,.ston,.sage,.sagews,.sls,.sass,.scala,.sbt,.sc,.scaml,.scm,.sld,.sps,.ss,.sci,.sce,.self,.sh,.bash,.bats,.command,.ksh,.tmux,.tool,.zsh,.sh-session,.shen,.sl,.slim,.smali,.tpl,.sp,.sma,.nut,.stan,.ML,.fun,.sig,.sml,.do,.ado,.doh,.ihlp,.mata,.matah,.sthlp,.styl,.scd,.swift,.sv,.svh,.vh,.toml,.txl,.tcl,.adp,.tm,.tcsh,.csh,.tex,.aux,.bbx,.bib,.cbx,.dtx,.ins,.lbx,.ltx,.mkii,.mkiv,.mkvi,.sty,.toc,.tea,.no,.textile,.thrift,.tu,.ttl,.twig,.upc,.anim,.asset,.mat,.meta,.prefab,.unity,.uno,.uc,.ur,.urs,.vcl,.vhdl,.vhd,.vhf,.vhi,.vho,.vhs,.vht,.vhw,.vala,.vapi,.veo,.vim,.vb,.bas,.frm,.frx,.vba,.vbhtml,.vbs,.volt,.vue,.owl,.webidl,.x10,.xc,.xml,.ant,.axml,.ccxml,.clixml,.cproject,.csl,.csproj,.ct,.dita,.ditamap,.ditaval,.config,.dotsettings,.filters,.fsproj,.fxml,.glade,.grxml,.iml,.ivy,.jelly,.jsproj,.kml,.launch,.mdpolicy,.mxml,.nproj,.nuspec,.odd,.osm,.plist,.props,.ps1xml,.psc1,.pt,.rdf,.rss,.scxml,.srdf,.storyboard,.stTheme,.sublime-snippet,.targets,.tmCommand,.tml,.tmLanguage,.tmPreferences,.tmSnippet,.tmTheme,.ui,.urdf,.ux,.vbproj,.vcxproj,.vssettings,.vxml,.wsdl,.wsf,.wxi,.wxl,.wxs,.x3d,.xacro,.xaml,.xib,.xlf,.xliff,.xmi,.dist,.xproj,.xsd,.xul,.zcml,.xsp-config,.metadata,.xpl,.xproc,.xquery,.xq,.xql,.xqm,.xqy,.xs,.xslt,.xsl,.xojo_code,.xojo_menu,.xojo_report,.xojo_script,.xojo_toolbar,.xojo_window,.xtend,.reek,.rviz,.sublime-syntax,.syntax,.yaml-tmlanguage,.yang,.y,.yacc,.yy,.zep,.zimpl,.zmpl,.zpl,.ec,.eh,.edn,.fish,.mu,.nc,.ooc,.rst,.rest,.wisp,.prg,.prw,.gitignore,.gitkeep,.gitmodules,.example,.avifs,.blp,.bufr,.bw,.cur,.dcx,.dds,.emf,.fit,.fits,.flc,.fli,.ftc,.ftu,.gbr,.grib,.h5,.hdf,.hif,.icb,.icns,.iim,.im,.j2c,.j2k,.jp2,.jpc,.jpe,.jpf,.jpx,.mpeg,.mpg,.msp,.pbm,.pcd,.pcx,.pfm,.pgm,.pnm,.ppm,.psd,.pxr,.qoi,.ras,.rgb,.rgba,.sgi,.tga,.vda,.vst,.wmf,.xpm" style="display: none;"><div role="button" aria-disabled="false" class="_7436101"><div class="_6f28693"><div class="ds-icon" style="font-size: 16px; width: 16px; height: 16px;"><svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z" fill="currentColor"></path></svg></div></div></div></div></div></div></div></div><div class="_0fcaa63">AI-generated, for reference only</div></div></div></div></div></div></div></div></div></div></div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9508f0cc5a60a899',t:'MTc1MDA2MjU3OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./DeepSeek - Into the Unknown_files/saved_resource.html"></iframe><div class="ds-notification-container ds-theme" style="--ds-rgb-hover: 255 255 255 / 8%; font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m);"></div><div id="cf-overlay" style="position: fixed; inset: 0px; background-color: rgba(0, 0, 0, 0.7); border: 1px solid grey; z-index: 10000; display: none;"><p style="color: white; text-align: center; margin-top: 50vh;">One more step before you proceed...</p><div style="display: flex; flex-wrap: nowrap; align-items: center; justify-content: center;" id="cf-turnstile"></div></div><script src="./DeepSeek - Into the Unknown_files/api.js.atsisiųsti" defer=""></script><veepn-guard-alert><template shadowrootmode="open"><style>html{box-sizing:border-box;text-size-adjust:100%;word-break:normal;-moz-tab-size:4;tab-size:4}*,:before,:after{background-repeat:no-repeat;box-sizing:border-box}:before,:after{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0;color:inherit;border:0;border-top:1px solid}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit;color:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit],[role=button]{cursor:pointer}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}button:-moz-focusring,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{outline:1px dotted ButtonText}select{-webkit-appearance:none;-moz-appearance:none;appearance:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select::-ms-expand{display:none}select::-ms-value{color:currentcolor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}ul,ol{list-style-type:none}figure{margin:0}.guard-popup{font-family:FigtreeVF,sans-serif;position:fixed;z-index:2147483638;top:8px;left:24px;overflow:visible;color:#222e3a;background-color:#fff;max-width:416px;width:calc(100% - 48px);border-radius:16px;box-shadow:0 4px 20px #00000040;padding:24px}.guard-popup__header{display:flex;justify-content:space-between;align-items:center;column-gap:16px;margin-bottom:24px}.guard-popup__close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;opacity:.7}.guard-popup__img{line-height:0;margin-bottom:24px}.guard-popup__img img{width:100%;aspect-ratio:368/142;object-fit:cover;border-radius:12px;overflow:hidden}.guard-popup__title{font-size:24px;line-height:32px;margin-bottom:8px}.guard-popup__description{font-size:20px;line-height:28px;font-weight:500;color:#4a5764;margin-bottom:28px}.guard-popup__actions{display:flex;justify-content:flex-end;column-gap:16px}.guard-popup__btn{display:flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:5px;font-size:16px;line-height:24px;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(180deg,#5695fd,#1554ff)}</style></template><style>@font-face{font-family:FigtreeVF;src:url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2 supports variations"),url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2-variations");font-weight:100 1000;font-display:swap}</style></veepn-guard-alert><veepn-lock-screen><template shadowrootmode="open"><style>html{box-sizing:border-box;text-size-adjust:100%;word-break:normal;-moz-tab-size:4;tab-size:4}*,:before,:after{background-repeat:no-repeat;box-sizing:border-box}:before,:after{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0;color:inherit;border:0;border-top:1px solid}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none!important}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit;color:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit],[role=button]{cursor:pointer}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}button:-moz-focusring,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{outline:1px dotted ButtonText}select{-webkit-appearance:none;-moz-appearance:none;appearance:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select::-ms-expand{display:none}select::-ms-value{color:currentcolor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}ul,ol{list-style-type:none}figure{margin:0}.lock-screen{font-family:FigtreeVF,sans-serif;letter-spacing:normal;position:fixed;z-index:2147483638;top:0;right:0;bottom:0;left:0;padding:32px 40px;color:#222e3a;background-color:#fdfdfd;display:flex;flex-direction:column;row-gap:12px;overflow:auto;background-image:radial-gradient(circle at 0% 0%,#e6fffdcc,#e6fffd00 50%),radial-gradient(circle at 100% 0%,#ebfffecc,#ebfffe00 50%),radial-gradient(circle at 100% 100%,#f0f5ffcc,#f0f5ff00 50%),radial-gradient(circle at 0% 100%,#f2f2ffcc,#f2f2ff00 50%),radial-gradient(circle at 50% 50%,#fff,#fffc,#f5f5ff66,#f0f0ff33,#f0f0ff00),linear-gradient(to bottom right,#e6fffd,#f2f2ff);background-size:100% 100%;background-repeat:no-repeat}.lock-screen__header{display:flex;align-items:center;justify-content:space-between}.lock-screen__logo{display:inline-flex;align-items:center;column-gap:12px;font-size:18px;font-weight:600}.lock-screen__close{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background-color:#222e3a1a}.lock-screen__main{flex-grow:1;align-content:center}.lock-screen__container{max-width:1120px;margin-inline:auto;display:flex;align-items:center;gap:24px}@media (width < 972px){.lock-screen__container{flex-direction:column}}.lock-screen__timer{display:flex;align-items:center;justify-content:center;width:100%}.lock-screen__content{width:100%}.lock-screen__title{font-size:48px;font-weight:700;line-height:56px;margin-bottom:16px}.lock-screen__description{font-size:18px;line-height:32px;margin-bottom:24px}.lock-screen__actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.lock-screen__action{height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;text-align:center;padding:8px 24px}.upgrade-btn{color:#fff;background:linear-gradient(180deg,#20df9e,#13cf8f)}.skip-btn{color:#3066ff;border-width:1px;border-style:solid;border-color:#3066ff;position:relative}.skip-btn__tooltip{font-size:14px;line-height:24px;font-weight:400;position:absolute;z-index:1;left:50%;top:calc(100% + 18px);padding:8px 12px;color:#fff;border:1px solid #4a5764;background-color:#222e3a;border-radius:8px;width:max-content;pointer-events:none;animation:slide-in .6s ease-in-out forwards}@keyframes slide-in{0%{opacity:0;transform:translate(-50%,-100%)}to{opacity:1;transform:translate(-50%)}}.skip-btn__tooltip:after{content:"";display:block;position:absolute;z-index:1;top:-8px;left:50%;width:0;height:0;border-style:solid;border-width:0 8px 8px;border-color:transparent transparent #222e3a;transform:translate(-6px)}.skip-btn__icon{display:none}.skip-btn:disabled{cursor:not-allowed}.skip-btn:disabled .skip-btn__tooltip,.skip-btn:disabled .skip-btn__text{display:none}.skip-btn:disabled .skip-btn__icon{display:initial;animation:tick-tock .8s steps(8,end) infinite}@keyframes tick-tock{to{transform:rotate(360deg)}}.timer{position:relative;max-width:422px;width:100%;aspect-ratio:1/1;border-radius:50%;background-color:#fff;box-shadow:0 0 40px #2b374114;display:flex;align-items:center;justify-content:center;pointer-events:none;-webkit-user-select:none;user-select:none}.timer__circle-backward{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:0;max-width:100%;height:auto;opacity:.4}.timer__circle-forward{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);z-index:1;max-width:100%;height:auto;animation:sector 5s linear forwards}.timer__fire-icon{position:absolute;top:22%;left:50%;transform:translate(-50%);z-index:2}.timer__text{font-size:clamp(18px,10vw,88px);letter-spacing:-1px;text-align:center;font-variant-numeric:tabular-nums;position:relative;z-index:3}.timer--finished .timer__text{color:#98a0a9}.timer--finished .timer__circle-forward{display:none}@keyframes sector{0%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 100%,0% 100%,0% 2%)}25%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 100%,0% 100%,0% 100%)}25.000001%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 100%,0% 100%)}50%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 100%,100% 100%)}50.000001%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 100%)}75%{clip-path:polygon(50% 50%,0% 2%,100% 0%,100% 0%)}75.000001%{clip-path:polygon(50% 50%,0% 2%,100% 0%)}to{clip-path:polygon(50% 50%,0% 2%,0% 0%)}}@media (prefers-color-scheme: dark){.lock-screen{color:#fff;background-image:radial-gradient(circle at 0% 0%,#2f4f4fcc,#2f4f4f00 50%),radial-gradient(circle at 100% 0%,#193042cc,#19304200 50%),radial-gradient(circle at 100% 100%,#1c3041cc,#1c304100 50%),radial-gradient(circle at 0% 100%,#1b263bcc,#1b263b00 50%),radial-gradient(circle at 50% 50%,#141e28,#141e28cc,#1b263b66,#1c304133,#1c304100),linear-gradient(to bottom right,#2f4f4f,#1b263b)}.lock-screen__close{background-color:#ffffff1a}.skip-btn{color:#fff;border-color:#fff}.skip-btn__tooltip{color:#222e3a;border:1px solid #f5f6f7;background-color:#fff}.skip-btn__tooltip:after{border-color:transparent transparent #fff}.timer{background-color:#191b25}.timer__circle-backward{opacity:1}.timer--finished .timer__text{color:#5c6977}}</style></template><style>@font-face{font-family:FigtreeVF;src:url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2 supports variations"),url(chrome-extension://majdfhpaihoncoakbjgbdhglocklcgno/fonts/FigtreeVF.woff2) format("woff2-variations");font-weight:100 1000;font-display:swap}</style></veepn-lock-screen><iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" aria-hidden="true" tabindex="-1" title="Intercom" src="./DeepSeek - Into the Unknown_files/saved_resource(1).html"></iframe><div class="intercom-lightweight-app"><style id="intercom-lightweight-app-style" type="text/css">
  @keyframes intercom-lightweight-app-launcher {
    from {
      opacity: 0;
      transform: scale(0.5);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes intercom-lightweight-app-gradient {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes intercom-lightweight-app-messenger {
    0% {
      opacity: 0;
      transform: scale(0);
    }
    40% {
      opacity: 1;
    }
    100% {
      transform: scale(1);
    }
  }

  .intercom-lightweight-app {
    position: fixed;
    z-index: 2147483001;
    width: 0;
    height: 0;
    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;
  }

  .intercom-lightweight-app-gradient {
    position: fixed;
    z-index: 2147483002;
    width: 500px;
    height: 500px;
    bottom: 0;
    right: 0;
    pointer-events: none;
    background: radial-gradient(
      ellipse at bottom right,
      rgba(29, 39, 54, 0.16) 0%,
      rgba(29, 39, 54, 0) 72%);
    animation: intercom-lightweight-app-gradient 200ms ease-out;
  }

  .intercom-lightweight-app-launcher {
    position: fixed;
    z-index: 2147483003;
    padding: 0 !important;
    margin: 0 !important;
    border: none;
    bottom: 20px;
    right: 20px;
    max-width: 48px;
    width: 48px;
    max-height: 48px;
    height: 48px;
    border-radius: 50%;
    background: #0f0f0f;
    cursor: pointer;
    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);
    transition: transform 167ms cubic-bezier(0.33, 0.00, 0.00, 1.00);
    box-sizing: content-box;
  }


  .intercom-lightweight-app-launcher:hover {
    transition: transform 250ms cubic-bezier(0.33, 0.00, 0.00, 1.00);
    transform: scale(1.1)
  }

  .intercom-lightweight-app-launcher:active {
    transform: scale(0.85);
    transition: transform 134ms cubic-bezier(0.45, 0, 0.2, 1);
  }


  .intercom-lightweight-app-launcher:focus {
    outline: none;

    
  }

  .intercom-lightweight-app-launcher-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 48px;
    height: 48px;
    transition: transform 100ms linear, opacity 80ms linear;
  }

  .intercom-lightweight-app-launcher-icon-open {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-open svg {
    width: 24px;
    height: 24px;
  }

  .intercom-lightweight-app-launcher-icon-open svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-icon-self-serve {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg {
    height: 44px;
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-custom-icon-open {
    max-height: 24px;
    max-width: 24px;

    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize {
    
        opacity: 0;
        transform: rotate(-60deg) scale(0);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-messenger {
    position: fixed;
    z-index: 2147483003;
    overflow: hidden;
    background-color: #ffffff;
    animation: intercom-lightweight-app-messenger 250ms cubic-bezier(0, 1, 1, 1);
    transform-origin: bottom right;

    
        width: 400px;
        height: calc(100% - 40px);
        max-height: 704px;
        min-height: 250px;
        right: 20px;
        bottom: 20px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.16);
      

    border-radius: 16px;
  }

  .intercom-lightweight-app-messenger-header {
    height: 64px;
    border-bottom: none;
    background: #ffffff;
  }

  .intercom-lightweight-app-messenger-footer{
    position:absolute;
    bottom:0;
    width: 100%;
    height: 80px;
    background: #ffffff;
    font-size: 14px;
    line-height: 21px;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.05);
  }

  @media print {
    .intercom-lightweight-app {
      display: none;
    }
  }
</style></div><div class="ds-floating-position-wrapper ds-theme" data-transform-origin="bottom" style="--ds-rgb-hover: 255 255 255 / 8%; font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m); z-index: 0; left: 35.6145px; top: 507.667px;"></div><div class="ds-toast-container ds-toast-container--top ds-theme" style="--ds-rgb-hover: 255 255 255 / 8%; font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m);"></div><div class="ds-floating-position-wrapper ds-theme" data-transform-origin="bottom" style="--ds-rgb-hover: 255 255 255 / 8%; font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m); z-index: 0; left: 1062.54px; top: 725px;"></div></body></html>